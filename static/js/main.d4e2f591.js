/*! For license information please see main.d4e2f591.js.LICENSE.txt */
!function(){var e={446:function(e,t,n){"use strict";var r=n(637),i=n(826),o=n(388),a=n(971),s=n(386);function u(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var c,l=u(r),h=((c={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),f=new a.ErrorFactory("appCheck","AppCheck",h),d=new Map,p={activated:!1,tokenObservers:[]},m={enabled:!1};function g(e){return d.get(e)||p}function v(e,t){d.set(e,t)}function y(){return m}var b="https://content-firebaseappcheck.googleapis.com/v1beta",_=3e4,w=96e4,k=function(){function e(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(e),new Promise((function(e){setTimeout(e,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function E(){return self.grecaptcha}function T(e){if(!g(e).activated)throw f.create("use-before-activation",{appName:e.name})}function I(e){return a.base64.encodeString(JSON.stringify(e),!1)}function S(e,t){var n=e.url,r=e.body;return o.__awaiter(this,void 0,void 0,(function(){var e,i,a,s,u,c,l,h,d,p;return o.__generator(this,(function(o){switch(o.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:e},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw u=o.sent(),f.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw f.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),f.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(h=c.ttl.match(/^([\d.]+)(s)$/))||!h[2]||isNaN(Number(h[1])))throw f.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return d=1e3*Number(h[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}}))}))}function N(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":exchangeRecaptchaToken?key="+o,body:{recaptcha_token:t}}}function C(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":exchangeDebugToken?key="+o,body:{debug_token:t}}}var A="firebase-app-check-store",x="debug-token",R=null;function O(){return R||(R=new Promise((function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(f.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(A,{keyPath:"compositeKey"})}}catch(r){t(f.create("storage-open",{originalErrorMessage:r.message}))}})),R)}function D(e){return j(M(e))}function P(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,a;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,O()];case 1:return n=o.sent(),r=n.transaction(A,"readwrite"),i=r.objectStore(A),a=i.put({compositeKey:e,value:t}),[2,new Promise((function(e,t){a.onsuccess=function(t){e()},r.onerror=function(e){var n;t(f.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function j(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,O()];case 1:return t=o.sent(),n=t.transaction(A,"readonly"),r=n.objectStore(A),i=r.get(e),[2,new Promise((function(e,t){i.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(f.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function M(e){return e.options.appId+"-"+e.name}var L=new s.Logger("@firebase/app-check");function F(e,t){return a.isIndexedDBAvailable()?function(e,t){return P(M(e),t)}(e,t).catch((function(e){L.warn("Failed to write token to indexeddb. Error: "+e)})):Promise.resolve()}function U(){return o.__awaiter(this,void 0,void 0,(function(){var e,t;return o.__generator(this,(function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,j(x)];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),(r=t,P(x,r)).catch((function(e){return L.warn("Failed to persist debug token to indexeddb. Error: "+e)})),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r}))}))}function B(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){if((e=y()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}var V={error:"UNKNOWN_ERROR"};function q(e,t,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,(function(){var r,i,a,s,u,c,l,h,f,d;return o.__generator(this,(function(p){switch(p.label){case 0:return T(e),r=g(e),i=r.token,a=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:(s=p.sent())&&W(s)&&(i=s,v(e,o.__assign(o.__assign({},r),{token:i})),K(e,{token:i.token})),p.label=2;case 2:return!n&&i&&W(i)?[2,{token:i.token}]:y().enabled?(c=S,l=C,h=[e],[4,B()]):[3,6];case 3:return[4,c.apply(void 0,[l.apply(void 0,h.concat([p.sent()])),t])];case 4:return u=p.sent(),[4,F(e,u)];case 5:return p.sent(),v(e,o.__assign(o.__assign({},r),{token:u})),[2,{token:u.token}];case 6:return p.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=p.sent(),[3,9];case 8:return f=p.sent(),L.error(f),a=f,[3,9];case 9:return i?[3,10]:(d=function(e){return{token:I(V),error:e}}(a),[3,12]);case 10:return d={token:i.token},v(e,o.__assign(o.__assign({},r),{token:i})),[4,F(e,i)];case 11:p.sent(),p.label=12;case 12:return K(e,d),[2,d]}}))}))}function z(e,t,n,r,i){var a=g(e),s={next:r,error:i,type:n},u=o.__assign(o.__assign({},a),{tokenObservers:o.__spreadArray(o.__spreadArray([],a.tokenObservers),[s])});if(!u.tokenRefresher){var c=function(e,t){var n=this;return new k((function(){return o.__awaiter(n,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return g(e).token?[3,2]:[4,q(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,q(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var t=g(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5,r=t.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),_,w)}(e,t);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),a.token&&W(a.token)){var l=a.token;Promise.resolve().then((function(){return r({token:l.token})})).catch((function(){}))}else null==a.token&&a.cachedTokenPromise.then((function(e){e&&W(e)&&r({token:e.token})})).catch((function(){}));v(e,u)}function G(e,t){var n=g(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),v(e,o.__assign(o.__assign({},n),{tokenObservers:r}))}function K(e,t){for(var n=0,r=g(e).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}}function W(e){return e.expireTimeMillis-Date.now()>0}var H="https://www.google.com/recaptcha/api.js";function Q(e,t){var n=g(e),r=new a.Deferred;v(e,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var u=E();return u?u.ready((function(){J(e,t,u,i),r.resolve(u)})):function(e){var t=document.createElement("script");t.src=""+H,t.onload=e,document.head.appendChild(t)}((function(){var n=E();if(!n)throw new Error("no recaptcha");n.ready((function(){J(e,t,n,i),r.resolve(n)}))})),r.promise}function Y(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:return T(e),[4,g(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise((function(n,r){var i=g(e).reCAPTCHAState;t.ready((function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function J(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=g(e);v(e,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}var $=function(){function e(e){this._siteKey=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:if(!this._app||!this._platformLoggerProvider)throw f.create("use-before-activation",{appName:""});t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Y(this._app)];case 2:return e=t.sent(),[3,4];case 3:throw t.sent(),f.create("recaptcha-error");case 4:return[2,S(N(this._app,e),this._platformLoggerProvider)]}}))}))},e.prototype.initialize=function(e,t){this._app=e,this._platformLoggerProvider=t,Q(e,this._siteKey).catch((function(){}))},e}(),X=function(){function e(e){this._customProviderOptions=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!this._app)throw f.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=r.sent(),t=a.issuedAtTime(e.token),n=null!==t&&t<Date.now()&&t>0?1e3*t:Date.now(),[2,o.__assign(o.__assign({},e),{issuedAtTimeMillis:n})]}}))}))},e.prototype.initialize=function(e){this._app=e},e}();function Z(e,t,n,r){var i=g(e);if(i.activated)throw f.create("already-activated",{appName:e.name});var s=o.__assign(o.__assign({},i),{activated:!0});s.cachedTokenPromise=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,D(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),L.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}}))}))}(e).then((function(t){return t&&W(t)&&v(e,o.__assign(o.__assign({},g(e)),{token:t})),t})),s.provider="string"===typeof t?new $(t):t instanceof $||t instanceof X?t:new X({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=void 0===r?e.automaticDataCollectionEnabled:r,v(e,s),s.provider.initialize(e,n)}function ee(e,t){return{app:e,activate:function(n,r){return Z(e,n,t,r)},setTokenAutoRefreshEnabled:function(t){return function(e,t){var n=g(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),v(e,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:t}))}(e,t)},getToken:function(n){return function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,q(e,t,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}}))}))}(e,t,n)},onTokenChanged:function(n,r,i){return function(e,t,n,r,i){var o=function(){},a=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?a=n.error.bind(n):r&&(a=r),z(e,t,"EXTERNAL",o,a),function(){return G(e,o)}}(e,t,n,r)},INTERNAL:{delete:function(){for(var t=0,n=g(e).tokenObservers;t<n.length;t++){var r=n[t];G(e,r.next)}return Promise.resolve()}}}}var te="app-check-internal";!function(e){e.INTERNAL.registerComponent(new i.Component("appCheck",(function(e){return ee(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setServiceProps({ReCaptchaV3Provider:$,CustomProvider:X}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider(te).initialize()}))),e.INTERNAL.registerComponent(new i.Component(te,(function(e){return function(e,t){return{getToken:function(n){return q(e,t,n)},addTokenListener:function(n){return z(e,t,"INTERNAL",n)},removeTokenListener:function(t){return G(e,t)}}}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion("@firebase/app-check","0.3.2")}(l.default),function(){var e=a.getGlobal();if("string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=y();t.enabled=!0;var n=new a.Deferred;t.token=n,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(U())}}()},637:function(e,t,n){"use strict";n.r(t),n.d(t,{firebase:function(){return _}});var r,i,o=n(388),a=n(971),s=n(826),u=n(386),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Logger("@firebase/app"),m=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.deepCopy)(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=f),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=f),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.contains)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw l.create("invalid-log-argument");(0,u.setUserLogHandler)(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||f,!(0,a.contains)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&(0,a.deepExtend)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++){var f=h[c];t[f]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(m);return t.INTERNAL=(0,o.__assign)((0,o.__assign)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,a.deepExtend)(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),v=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if((0,a.isBrowser)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.isNode)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var _=g;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new v(e)}),"PRIVATE")),e.registerVersion(h,"0.6.30",t),e.registerVersion("fire-js","")}(_),t.default=_},826:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return o},ComponentContainer:function(){return u},Provider:function(){return s}});var r=n(388),i=n(971),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(f){}try{for(var i=(0,r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.__read)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(f){}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),(0,r.__read)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=a),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=(0,r.__values)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.__read)(c.value,2),h=l[0],f=l[1];a===this.normalizeInstanceIdentifier(h)&&f.resolve(s)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=(0,r.__values)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===a?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=a),this.component?this.component.multipleInstances?e:a:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},895:function(e,t,n){"use strict";var r=n(637),i=n(826),o=n(971),a=n(388),s=n(386);e=n.hmd(e);var u="";function c(e){u=e}var l=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.stringify)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.jsonEval)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),h=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.contains)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),f=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l(t)}}catch(n){}return new h},d=f("localStorage"),p=f("sessionStorage"),m=new s.Logger("@firebase/database"),g=function(){var e=1;return function(){return e++}}(),v=function(e){var t=(0,o.stringToByteArray)(e),n=new o.Sha1;n.update(t);var r=n.digest();return o.base64.encodeByteArray(r)},y=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var a=t[i];Array.isArray(a)||a&&"object"===typeof a&&"number"===typeof a.length?r+=e.apply(null,a):r+="object"===typeof a?(0,o.stringify)(a):a,r+=" "}return r},b=null,_=!0,w=function(e,t){(0,o.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(m.logLevel=s.LogLevel.VERBOSE,b=m.log.bind(m),t&&p.set("logging_enabled",!0)):"function"===typeof e?b=e:(b=null,p.remove("logging_enabled"))},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===_&&(_=!1,null===b&&!0===p.get("logging_enabled")&&w(!0)),b){var n=y.apply(null,e);b(n)}},E=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];k.apply(void 0,(0,a.__spreadArray)([e],(0,a.__read)(t)))}},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));m.error(n)},I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));throw m.error(n),new Error(n)},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+y.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));m.warn(n)},N=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},C="[MIN_NAME]",A="[MAX_NAME]",x=function(e,t){if(e===t)return 0;if(e===C||t===A)return-1;if(t===C||e===A)return 1;var n=B(e),r=B(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},R=function(e,t){return e===t?0:e<t?-1:1},O=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.stringify)(t))},D=function e(t){if("object"!==typeof t||null===t)return(0,o.stringify)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=(0,o.stringify)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},P=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function j(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var M=function(e){(0,o.assert)(!N(e),"Invalid JSON number");var t,n,r,i,a,s=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var c=u.join(""),l="";for(a=0;a<64;a+=8){var h=parseInt(c.substr(a,8),2).toString(16);1===h.length&&(h="0"+h),l+=h}return l.toLowerCase()};var L=new RegExp("^-?(0*)\\d{1,10}$"),F=-2147483648,U=2147483647,B=function(e){if(L.test(e)){var t=Number(e);if(t>=F&&t<=U)return t}return null},V=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw S("Exception was thrown by user callback.",e),t}),Math.floor(0))}},q=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},z=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){S('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),G=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(k("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',S(e)},e}(),K=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),W="5",H=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Q="websocket",Y="long_polling",J=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=d.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&d.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function $(e,t,n){var r;if((0,o.assert)("string"===typeof t,"typeof type must == string"),(0,o.assert)("object"===typeof n,"typeof params must == object"),t===Q)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Y)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return j(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var X=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.deepCopy)(this.counters_)},e}(),Z={},ee={};function te(e){var t=e.toString();return Z[t]||(Z[t]=new X),Z[t]}var ne=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&V((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),re="start",ie="close",oe=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(e),this.stats_=te(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),$(t,Y,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ne(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,o.isNodeSdk)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new ae((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.__read)(e,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===re)n.id=o,n.password=s;else{if(i!==ie)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.__read)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=W,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&H.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(0,o.isNodeSdk)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.base64Encode)(t),r=P(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),ae=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.isNodeSdk)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){k("frame writing exception"),u.stack&&k(u.stack),k(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||k("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;(0,o.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){k("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),se=null;"undefined"!==typeof MozWebSocket?se=MozWebSocket:"undefined"!==typeof WebSocket&&(se=WebSocket);var ue=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=te(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={};return i.v=W,!(0,o.isNodeSdk)()&&"undefined"!==typeof location&&location.hostname&&H.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),$(e,Q,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,d.set("previous_websocket_failure",!0);try{if((0,o.isNodeSdk)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+u+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/6thsense2022",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDKa0Aj0EwT479UsIp8Y1Eq6jpSDdsNLQQ",REACT_APP_FIREBASE_APP_ID:"1:35785195987:web:bb87005d49851fcc6e6f26",REACT_APP_FIREBASE_AUTH_DOMAIN:"igem-arqr-2021.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"igem-arqr-2021"},s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new se(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new se(this.connURL,[],i)}}catch(l){this.log_("Error instantiating WebSocket.");var c=l.message||l.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==se&&!e.forceDisallow_},e.previouslyFailed=function(){return d.isInMemoryStorage||!0===d.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){d.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.jsonEval)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=P(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),ce=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[oe,ue]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ue&&ue.isAvailable(),o=i&&!ue.previouslyFailed();if(t.webSocketOnly&&(i||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ue];else{var s=this.transports_=[];try{for(var u=(0,a.__values)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),le=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new ce(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=q((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=O("t",e),n=O("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=O("t",e),n=O("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=O("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?T("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):T("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),W!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),q((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):q((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(d.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),he=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),fe=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,a.__spreadArray)([],(0,a.__read)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.assert)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),de=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,o.isMobileCordova)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return(0,a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(fe),pe=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function me(){return new pe("")}function ge(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ve(e){return e.pieces_.length-e.pieceNum_}function ye(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new pe(e.pieces_,t)}function be(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function _e(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function we(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new pe(t,0)}function ke(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof pe)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new pe(n,0)}function Ee(e){return e.pieceNum_>=e.pieces_.length}function Te(e,t){var n=ge(e),r=ge(t);if(null===n)return t;if(n===r)return Te(ye(e),ye(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ie(e,t){for(var n=_e(e,0),r=_e(t,0),i=0;i<n.length&&i<r.length;i++){var o=x(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Se(e,t){if(ve(e)!==ve(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ne(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(ve(e)>ve(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ce=function(e,t){this.errorPrefix_=t,this.parts_=_e(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.stringLength)(this.parts_[n]);Ae(this)};function Ae(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+xe(e))}function xe(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Re,Oe,De=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return(0,a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(fe),Pe=1e3,je=function(e){function t(n,r,i,a,s,u,c,l){var h=e.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=a,h.onServerInfoUpdate_=s,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=l,h.id=t.nextPersistentConnectionId_++,h.log_=E("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=Pe,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!(0,o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return De.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&de.getInstance().on("online",h.onOnline_,h),h}return(0,a.__extends)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,o.stringify)(i)),(0,o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.Deferred,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.assert)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&(0,o.contains)(e,"w")){var n=(0,o.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,o.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.isValidFormat)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.stringify)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):T("Unrecognized action received from server: "+(0,o.stringify)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pe,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Pe,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Pe),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return(0,a.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,s,u,c,l,h,f,d,p,m,g,v=this;return(0,a.__generator)(this,(function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())},h=function(e){(0,o.assert)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)])];case 2:return d=a.__read.apply(void 0,[y.sent(),2]),p=d[0],m=d[1],u?k("getToken() completed but was canceled"):(k("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=m&&m.token,c=new le(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){S(e+" ("+v.repoInfo_.toString()+")"),v.interrupt("server_kill")}),s)),[3,4];case 3:return g=y.sent(),this.log_("Failed to get token: "+g),u||(this.repoInfo_.nodeAdmin&&S(g),l()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){k("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){k("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=Pe,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return D(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new pe(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){k("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){k("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,a.__values)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,(0,a.__values)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+u.replace(/\./g,"-")]=1,(0,o.isMobileCordova)()?e["framework.cordova"]=1:(0,o.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=de.getInstance().currentlyOnline();return(0,o.isEmpty)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(he),Me=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Le=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Me(C,e),r=new Me(C,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Me.MIN},e}(),Fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Re},set:function(e){Re=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return x(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Me.MIN},t.prototype.maxPost=function(){return new Me(A,Re)},t.prototype.makePost=function(e,t){return(0,o.assert)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Me(e,Re)},t.prototype.toString=function(){return".key"},t}(Le),Ue=new Fe,Be=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Ve=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:ze.EMPTY_NODE,this.right=null!=o?o:ze.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return ze.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return ze.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),qe=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ve(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),ze=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ve.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ve.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Be(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Be(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Be(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Be(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new qe,e}();function Ge(e,t){return x(e.name,t.name)}function Ke(e,t){return x(e,t)}var We,He,Qe,Ye=function(e){return"number"===typeof e?"number:"+M(e):"string:"+e},Je=function(e){if(e.isLeafNode()){var t=e.val();(0,o.assert)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,o.contains)(t,".sv"),"Priority must be a string or number.")}else(0,o.assert)(e===Oe||e.isEmpty(),"priority of unexpected type.");(0,o.assert)(e===Oe||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},$e=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Je(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return We},set:function(e){We=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Ee(t)?this:".priority"===ge(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ge(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.assert)(".priority"!==r||1===ve(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ye(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ye(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?M(this.value_):this.value_,this.lazyHash_=v(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.assert)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.assert)(i>=0,"Unknown leaf type: "+n),(0,o.assert)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var Xe,Ze,et=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?x(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Me.MIN},t.prototype.maxPost=function(){return new Me(A,new $e("[PRIORITY-POST]",Qe))},t.prototype.makePost=function(e,t){var n=He(e);return new Me(t,new $e("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Le),tt=new et,nt=Math.log(2),rt=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/nt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),it=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new Ve(a,o.node,Ve.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],a=n?n(o):o,new Ve(a,o.node,Ve.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],h=n?n(l):l;u(new Ve(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,Ve.BLACK):(s(h,Ve.BLACK),s(h,Ve.RED))}return o}(new rt(e.length));return new ze(r||t,o)},ot={},at=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.assert)(ot&&tt,"ChildrenNode.ts has not been loaded"),Xe=Xe||new e({".priority":ot},{".priority":tt})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ze?t:null},e.prototype.hasIndex=function(e){return(0,o.contains)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.assert)(t!==Ue,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(Me.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?it(i,t.getCompare()):ot;var l=t.toString(),h=(0,a.__assign)({},this.indexSet_);h[l]=t;var f=(0,a.__assign)({},this.indexes_);return f[l]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,o.map)(this.indexes_,(function(e,i){var a=(0,o.safeGet)(r.indexSet_,i);if((0,o.assert)(a,"Missing index implementation for "+i),e===ot){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Me.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),it(s,a.getCompare())}return ot}var l=n.get(t.name),h=e;return l&&(h=h.remove(new Me(t.name,l))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,o.map)(this.indexes_,(function(e){if(e===ot)return e;var r=n.get(t.name);return r?e.remove(new Me(t.name,r)):e})),this.indexSet_)},e}(),st=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Je(this.priorityNode_),this.children_.isEmpty()&&(0,o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Ze||(Ze=new e(new ze(Ke),null,at.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Ze},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Ze:t},e.prototype.getChild=function(e){var t=ge(e);return null===t?this:this.getImmediateChild(t).getChild(ye(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.assert)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Me(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Ze:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=ge(e);if(null===n)return t;(0,o.assert)(".priority"!==ge(e)||1===ve(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ye(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(tt,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Ye(this.getPriority().val())+":"),this.forEachChild(tt,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":v(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Me(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Me(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Me(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Me.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Me.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ut?-1:0},e.prototype.withIndex=function(t){if(t===Ue||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Ue||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(tt),r=t.getIterator(tt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Ue?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),ut=new(function(e){function t(){return e.call(this,new ze(Ke),st.EMPTY_NODE,at.Default)||this}return(0,a.__extends)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return st.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(st));Object.defineProperties(Me,{MIN:{value:new Me(C,st.EMPTY_NODE)},MAX:{value:new Me(A,ut)}}),Fe.__EMPTY_NODE=st.EMPTY_NODE,$e.__childrenNodeConstructor=st,Oe=ut,function(e){Qe=e}(ut);function ct(e,t){if(void 0===t&&(t=null),null===e)return st.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.assert)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new $e(e,ct(t));if(e instanceof Array){var n=st.EMPTY_NODE;return j(e,(function(t,r){if((0,o.contains)(e,t)&&"."!==t.substring(0,1)){var i=ct(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(ct(t))}var r=[],i=!1;if(j(e,(function(e,t){if("."!==e.substring(0,1)){var n=ct(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Me(e,n)))}})),0===r.length)return st.EMPTY_NODE;var a=it(r,Ge,(function(e){return e.name}),Ke);if(i){var s=it(r,tt.getCompare());return new st(a,ct(t),new at({".priority":s},{".priority":tt}))}return new st(a,ct(t),at.Default)}!function(e){He=e}(ct);var lt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.assert)(!Ee(t)&&".priority"!==ge(t),"Can't create PathIndex with empty path or .priority key"),n}return(0,a.__extends)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?x(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=ct(e),r=st.EMPTY_NODE.updateChild(this.indexPath_,n);return new Me(t,r)},t.prototype.maxPost=function(){var e=st.EMPTY_NODE.updateChild(this.indexPath_,ut);return new Me(A,e)},t.prototype.toString=function(){return _e(this.indexPath_,0).join("/")},t}(Le),ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?x(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Me.MIN},t.prototype.maxPost=function(){return Me.MAX},t.prototype.makePost=function(e,t){var n=ct(e);return new Me(t,n)},t.prototype.toString=function(){return".value"},t}(Le),ft=new ht,dt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",pt=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=dt.charAt(n%64),n=Math.floor(n/64);(0,o.assert)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=dt.charAt(t[r]);return(0,o.assert)(20===s.length,"nextPushId: Length should be 20."),s}}(),mt=function(e){if("2147483647"===e)return"-";var t=B(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return A;var o=n[i],a=dt.charAt(dt.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},gt=function(e){if("-2147483648"===e)return C;var t=B(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=dt.charAt(dt.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function vt(e){return{type:"value",snapshotNode:e}}function yt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function bt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function _t(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var wt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(bt(t,s)):(0,o.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(yt(t,n)):a.trackChildChange(_t(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(tt,(function(e,r){t.hasChild(e)||n.trackChildChange(bt(e,r))})),t.isLeafNode()||t.forEachChild(tt,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(_t(t,r,i))}else n.trackChildChange(yt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?st.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),kt=function(){function e(t){this.indexedFilter_=new wt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Me(t,n))||(n=st.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=st.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(st.EMPTY_NODE);var i=this;return t.forEachChild(tt,(function(e,t){i.matches(new Me(e,t))||(r=r.updateImmediateChild(e,st.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),Et=function(){function e(e){this.rangedFilter_=new kt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Me(t,n))||(n=st.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=st.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=st.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(st.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,st.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;(0,o.assert)(u.numChildren()===this.limit_,"");var c=new Me(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(_t(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(bt(t,f));var m=u.updateImmediateChild(t,st.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(yt(d.name,d.node)),m.updateImmediateChild(d.name,d.node)):m}return n.isEmpty()?e:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(bt(l.name,l.node)),i.trackChildChange(yt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,st.EMPTY_NODE)):e},e}(),Tt=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=tt}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:C},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:A},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===tt},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function It(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function St(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Nt(e,t){var n=e.copy();return n.index_=t,n}function Ct(e){var t,n={};return e.isDefault()||(e.index_===tt?t="$priority":e.index_===ft?t="$value":e.index_===Ue?t="$key":((0,o.assert)(e.index_ instanceof lt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,o.stringify)(t),e.startSet_&&(n.startAt=(0,o.stringify)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,o.stringify)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,o.stringify)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,o.stringify)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function At(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==tt&&(t.i=e.index_.toString()),t}var xt=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=E("p:rest:"),o.listens_={},o}return(0,a.__extends)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=Ct(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),(0,o.safeGet)(a.listens_,u)===c)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=Ct(e._queryParams),r=e._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var s=(0,a.__read)(i,2),u=s[0],c=s[1];u&&u.accessToken&&(t.auth=u.accessToken),c&&c.token&&(t.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.querystring)(t);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var e=null;if(h.status>=200&&h.status<300){try{e=(0,o.jsonEval)(h.responseText)}catch(t){S("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,e)}else 401!==h.status&&404!==h.status&&S("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()}))},t}(he),Rt=function(){function e(){this.rootNode_=st.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Ot(){return{value:null,children:new Map}}function Dt(e,t,n){if(Ee(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ge(t);e.children.has(r)||e.children.set(r,Ot()),Dt(e.children.get(r),t=ye(t),n)}}function Pt(e,t){if(Ee(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(tt,(function(t,n){Dt(e,new pe(t),n)})),Pt(e,t)}if(e.children.size>0){var r=ge(t);if(t=ye(t),e.children.has(r))Pt(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function jt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){jt(r,new pe(t.toString()+"/"+e),n)}))}var Mt,Lt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=(0,a.__assign)({},e);return this.last_&&j(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Ft=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Lt(e);var n=1e4+2e4*Math.random();q(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;j(t,(function(t,i){i>0&&(0,o.contains)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),q(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function Ut(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Mt||(Mt={}));var Bt,Vt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Mt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(Ee(this.path)){if(null!=this.affectedTree.value)return(0,o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new pe(t));return new e(me(),n,this.revert)}return(0,o.assert)(ge(this.path)===t,"operationForChild called for unrelated child."),new e(ye(this.path),this.affectedTree,this.revert)},e}(),qt=function(){function e(e,t){this.source=e,this.path=t,this.type=Mt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Ee(this.path)?new e(this.source,me()):new e(this.source,ye(this.path))},e}(),zt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Mt.OVERWRITE}return e.prototype.operationForChild=function(t){return Ee(this.path)?new e(this.source,me(),this.snap.getImmediateChild(t)):new e(this.source,ye(this.path),this.snap)},e}(),Gt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Mt.MERGE}return e.prototype.operationForChild=function(t){if(Ee(this.path)){var n=this.children.subtree(new pe(t));return n.isEmpty()?null:n.value?new zt(this.source,me(),n.value):new e(this.source,me(),n)}return(0,o.assert)(ge(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ye(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Kt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(Ee(e))return this.isFullyInitialized()&&!this.filtered_;var t=ge(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Wt=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Ht(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.assertionError)("Should only compare child_ events.");var r=new Me(t.childName,t.snapshotNode),i=new Me(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Qt(e,t){return{eventCache:e,serverCache:t}}function Yt(e,t,n,r){return Qt(new Kt(t,n,r),e.serverCache)}function Jt(e,t,n,r){return Qt(e.eventCache,new Kt(t,n,r))}function $t(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Xt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Zt=function(){function e(e,t){void 0===t&&(Bt||(Bt=new ze(R)),t=Bt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return j(t,(function(e,t){n=n.set(new pe(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:me(),value:this.value};if(Ee(e))return null;var n=ge(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ye(e),t);return null!=i?{path:ke(new pe(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(Ee(t))return this;var n=ge(t),r=this.children.get(n);return null!==r?r.subtree(ye(t)):new e(null)},e.prototype.set=function(t,n){if(Ee(t))return new e(n,this.children);var r=ge(t),i=(this.children.get(r)||new e(null)).set(ye(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(Ee(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ge(t),r=this.children.get(n);if(r){var i=r.remove(ye(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(Ee(e))return this.value;var t=ge(e),n=this.children.get(t);return n?n.get(ye(e)):null},e.prototype.setTree=function(t,n){if(Ee(t))return n;var r=ge(t),i=(this.children.get(r)||new e(null)).setTree(ye(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(me(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(ke(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,me(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Ee(e))return null;var i=ge(e),o=this.children.get(i);return o?o.findOnPath_(ye(e),ke(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,me(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(Ee(t))return this;this.value&&r(n,this.value);var i=ge(t),o=this.children.get(i);return o?o.foreachOnPath_(ye(t),ke(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(me(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(ke(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),en=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Zt(null))},e}();function tn(e,t,n){if(Ee(t))return new en(new Zt(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Te(i,t);return o=o.updateChild(a,n),new en(e.writeTree_.set(i,o))}var s=new Zt(n),u=e.writeTree_.setTree(t,s);return new en(u)}function nn(e,t,n){var r=e;return j(n,(function(e,n){r=tn(r,ke(t,e),n)})),r}function rn(e,t){if(Ee(t))return en.empty();var n=e.writeTree_.setTree(t,new Zt(null));return new en(n)}function on(e,t){return null!=an(e,t)}function an(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Te(n.path,t)):null}function sn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(tt,(function(e,n){t.push(new Me(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Me(e,n.value))})),t}function un(e,t){if(Ee(t))return e;var n=an(e,t);return new en(null!=n?new Zt(n):e.writeTree_.subtree(t))}function cn(e){return e.writeTree_.isEmpty()}function ln(e,t){return hn(me(),e.writeTree_,t)}function hn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?((0,o.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=hn(ke(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(ke(e,".priority"),r)),n}function fn(e,t){return In(t,e)}function dn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&pn(u,r.path)?i=!1:Ne(r.path,u.path)&&(a=!0)),s--}if(i){if(a)return function(e){e.visibleWrites=gn(e.allWrites,mn,me()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=rn(e.visibleWrites,r.path):j(r.children,(function(t){e.visibleWrites=rn(e.visibleWrites,ke(r.path,t))}));return!0}return!1}function pn(e,t){if(e.snap)return Ne(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ne(ke(e.path,n),t))return!0;return!1}function mn(e){return e.visible}function gn(e,t,n){for(var r=en.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)Ne(n,s)?r=tn(r,u=Te(n,s),a.snap):Ne(s,n)&&(u=Te(s,n),r=tn(r,me(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.assertionError)("WriteRecord should have .snap or .children");if(Ne(n,s))r=nn(r,u=Te(n,s),a.children);else if(Ne(s,n))if(Ee(u=Te(s,n)))r=nn(r,me(),a.children);else{var c=(0,o.safeGet)(a.children,ge(u));if(c){var l=c.getChild(ye(u));r=tn(r,me(),l)}}}}}return r}function vn(e,t,n,r,i){if(r||i){var o=un(e.visibleWrites,t);if(!i&&cn(o))return n;if(i||null!=n||on(o,me())){return ln(gn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ne(e.path,t)||Ne(t,e.path))}),t),n||st.EMPTY_NODE)}return null}var a=an(e.visibleWrites,t);if(null!=a)return a;var s=un(e.visibleWrites,t);return cn(s)?n:null!=n||on(s,me())?ln(s,n||st.EMPTY_NODE):null}function yn(e,t,n,r){return vn(e.writeTree,e.treePath,t,n,r)}function bn(e,t){return function(e,t,n){var r=st.EMPTY_NODE,i=an(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(tt,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=un(e.visibleWrites,t);return n.forEachChild(tt,(function(e,t){var n=ln(un(o,new pe(e)),t);r=r.updateImmediateChild(e,n)})),sn(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return sn(un(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function _n(e,t,n,r){return function(e,t,n,r,i){(0,o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=ke(t,n);if(on(e.visibleWrites,a))return null;var s=un(e.visibleWrites,a);return cn(s)?i.getChild(n):ln(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function wn(e,t){return function(e,t){return an(e.visibleWrites,t)}(e.writeTree,ke(e.treePath,t))}function kn(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=un(e.visibleWrites,t),c=an(u,me());if(null!=c)s=c;else{if(null==n)return[];s=ln(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}function En(e,t,n){return function(e,t,n,r){var i=ke(t,n),o=an(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?ln(un(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Tn(e,t){return In(ke(e.treePath,t),e.writeTree)}function In(e,t){return{treePath:e,writeTree:t}}var Sn=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,_t(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,bt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,yt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.assertionError)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,_t(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Nn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),Cn=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Kt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return En(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Xt(this.viewCache_),i=kn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function An(e,t,n,r,i){var a,s,u=new Sn;if(n.type===Mt.OVERWRITE){var c=n;c.source.fromUser?a=On(e,t,c.path,c.snap,r,i,u):((0,o.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!Ee(c.path),a=Rn(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===Mt.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=ke(n,r);Dn(t,ge(c))&&(s=On(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=ke(n,r);Dn(t,ge(c))||(s=On(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):((0,o.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=jn(e,t,l.path,l.children,r,i,s,u))}else if(n.type===Mt.ACK_USER_WRITE){var h=n;a=h.revert?function(e,t,n,r,i,a){var s;if(null!=wn(r,n))return t;var u=new Cn(r,t,i),c=t.eventCache.getNode(),l=void 0;if(Ee(n)||".priority"===ge(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=yn(r,Xt(t));else{var f=t.serverCache.getNode();(0,o.assert)(f instanceof st,"serverChildren would be complete if leaf node"),h=bn(r,f)}l=e.filter.updateFullNode(c,h,a)}else{var d=ge(n),p=En(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,ye(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,st.EMPTY_NODE,ye(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=yn(r,Xt(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=wn(r,me()),Yt(t,l,s,e.filter.filtersNodes())}(e,t,h.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=wn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Ee(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Rn(e,t,n,u.getNode().getChild(n),i,o,s,a);if(Ee(n)){var c=new Zt(null);return u.getNode().forEachChild(Ue,(function(e,t){c=c.set(new pe(e),t)})),jn(e,t,n,c,i,o,s,a)}return t}var l=new Zt(null);return r.foreach((function(e,t){var r=ke(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),jn(e,t,n,l,i,o,s,a)}(e,t,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Mt.LISTEN_COMPLETE)throw(0,o.assertionError)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache,a=Jt(t,o.getNode(),o.isFullyInitialized()||Ee(n),o.isFiltered());return xn(e,a,n,r,Nn,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=$t(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(vt($t(t)))}}(t,a,f),{viewCache:a,changes:f}}function xn(e,t,n,r,i,a){var s=t.eventCache;if(null!=wn(r,n))return t;var u=void 0,c=void 0;if(Ee(n))if((0,o.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Xt(t),h=bn(r,l instanceof st?l:st.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=yn(r,Xt(t));u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=ge(n);if(".priority"===d){(0,o.assert)(1===ve(n),"Can't have a priority with additional path components");var p=s.getNode(),m=_n(r,n,p,c=t.serverCache.getNode());u=null!=m?e.filter.updatePriority(p,m):s.getNode()}else{var g=ye(n),v=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var y=_n(r,n,s.getNode(),c);v=null!=y?s.getNode().getImmediateChild(d).updateChild(g,y):s.getNode().getImmediateChild(d)}else v=En(r,d,t.serverCache);u=null!=v?e.filter.updateChild(s.getNode(),d,v,g,i,a):s.getNode()}}return Yt(t,u,s.isFullyInitialized()||Ee(n),e.filter.filtersNodes())}function Rn(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(Ee(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=ge(n);if(!c.isCompleteForPath(n)&&ve(n)>1)return t;var d=ye(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,Nn,null)}var m=Jt(t,u,c.isFullyInitialized()||Ee(n),l.filtersNodes());return xn(e,m,n,i,new Cn(i,m,o),s)}function On(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new Cn(i,t,o);if(Ee(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Yt(t,u,!0,e.filter.filtersNodes());else{var h=ge(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Yt(t,u,c.isFullyInitialized(),c.isFiltered());else{var f=ye(n),d=c.getNode().getImmediateChild(h),p=void 0;if(Ee(f))p=r;else{var m=l.getCompleteChild(h);p=null!=m?".priority"===be(f)&&m.getChild(we(f)).isEmpty()?m:m.updateChild(f,r):st.EMPTY_NODE}if(d.equals(p))s=t;else s=Yt(t,e.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Dn(e,t){return e.eventCache.isCompleteForChild(t)}function Pn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function jn(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Ee(n)?r:new Zt(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Pn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Rn(e,c,new pe(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=Pn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Rn(e,c,new pe(n),h,i,o,a,s)}})),c}var Mn,Ln=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new wt(r.getIndex()),o=(n=r).loadsAllData()?new wt(n.getIndex()):n.hasLimit()?new Et(n):new kt(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(st.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(st.EMPTY_NODE,s.getNode(),null),l=new Kt(u,a.isFullyInitialized(),i.filtersNodes()),h=new Kt(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Qt(h,l),this.eventGenerator_=new Wt(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Fn(e,t){var n=Xt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Ee(t)&&!n.getImmediateChild(ge(t)).isEmpty())?n.getChild(t):null}function Un(e){return 0===e.eventRegistrations_.length}function Bn(e,t,n){var r=[];if(n){(0,o.assert)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Vn(e,t,n,r){t.type===Mt.MERGE&&null!==t.source.queryId&&((0,o.assert)(Xt(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.assert)($t(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=An(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,(0,o.assert)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.assert)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.assert)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,qn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function qn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Ht(e,i,"child_removed",t,r,n),Ht(e,i,"child_added",t,r,n),Ht(e,i,"child_moved",o,r,n),Ht(e,i,"child_changed",t,r,n),Ht(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var zn,Gn=function(){this.views=new Map};function Kn(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return(0,o.assert)(null!=c,"SyncTree gave us an op for an invalid query."),Vn(c,t,n,r)}var l=[];try{for(var h=(0,a.__values)(e.views.values()),f=h.next();!f.done;f=h.next()){c=f.value;l=l.concat(Vn(c,t,n,r))}}catch(d){i={error:d}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}function Wn(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=yn(n,i?r:null),u=!1;s?u=!0:r instanceof st?(s=bn(n,r),u=!1):(s=st.EMPTY_NODE,u=!1);var c=Qt(new Kt(s,u,!1),new Kt(r,i,!1));return new Ln(t,c)}return a}function Hn(e,t,n,r,i,o){var a=Wn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(tt,(function(e,t){r.push(yt(e,t))})),n.isFullyInitialized()&&r.push(vt(n.getNode())),qn(e,r,n.getNode(),t)}(a,n)}function Qn(e,t,n,r){var i,s,u=t._queryIdentifier,c=[],l=[],h=Zn(e);if("default"===u)try{for(var f=(0,a.__values)(e.views.entries()),d=f.next();!d.done;d=f.next()){var p=(0,a.__read)(d.value,2),m=p[0],g=p[1];l=l.concat(Bn(g,n,r)),Un(g)&&(e.views.delete(m),g.query._queryParams.loadsAllData()||c.push(g.query))}}catch(v){i={error:v}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}else(g=e.views.get(u))&&(l=l.concat(Bn(g,n,r)),Un(g)&&(e.views.delete(u),g.query._queryParams.loadsAllData()||c.push(g.query)));return h&&!Zn(e)&&c.push(new((0,o.assert)(Mn,"Reference.ts has not been loaded"),Mn)(t._repo,t._path)),{removed:c,events:l}}function Yn(e){var t,n,r=[];try{for(var i=(0,a.__values)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Jn(e,t){var n,r,i=null;try{for(var o=(0,a.__values)(e.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||Fn(u,t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function $n(e,t){if(t._queryParams.loadsAllData())return er(e);var n=t._queryIdentifier;return e.views.get(n)}function Xn(e,t){return null!=$n(e,t)}function Zn(e){return null!=er(e)}function er(e){var t,n;try{for(var r=(0,a.__values)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var tr=1,nr=function(e){this.listenProvider_=e,this.syncPointTree_=new Zt(null),this.pendingWriteTree_={visibleWrites:en.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function rr(e,t,n,r,i){return function(e,t,n,r,i){(0,o.assert)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=tn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?hr(e,new zt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ir(e,t,n,r){!function(e,t,n,r){(0,o.assert)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=nn(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Zt.fromObject(n);return hr(e,new Gt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function or(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(dn(e.pendingWriteTree_,t)){var i=new Zt(null);return null!=r.snap?i=i.set(me(),!0):j(r.children,(function(e){i=i.set(new pe(e),!0)})),hr(e,new Vt(r.path,i,n))}return[]}function ar(e,t,n){return hr(e,new zt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function sr(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||Xn(o,t))){var s=Qn(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return Zn(t)}));if(c&&!l){var h=e.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=function(e){return e.fold((function(e,t,n){if(t&&Zn(t))return[er(t)];var r=[];return t&&(r=Yn(t)),j(n,(function(e,t){r=r.concat(t)})),r}))}(h),d=0;d<f.length;++d){var p=f[d],m=p.query,g=pr(e,p);e.listenProvider_.startListening(_r(m),mr(e,m),g.hashFn,g.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(_r(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(gr(t));e.listenProvider_.stopListening(_r(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=gr(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function ur(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Te(e,r);i=i||Jn(t,n),a=a||Zn(t)}));var s,u=e.syncPointTree_.get(r);(u?(a=a||Zn(u),i=i||Jn(u,me())):(u=new Gn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=st.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Jn(t,me());n&&(i=i.updateImmediateChild(e,n))})));var c=Xn(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=gr(t);(0,o.assert)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=tr++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var f=Hn(u,t,n,fn(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=$n(u,t);f=f.concat(function(e,t,n){var r=t._path,i=mr(e,t),a=pr(e,n),s=e.listenProvider_.startListening(_r(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)(0,o.assert)(!Zn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!Ee(e)&&t&&Zn(t))return[er(t).query];var r=[];return t&&(r=r.concat(Yn(t).map((function(e){return e.query})))),j(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var h=c[l];e.listenProvider_.stopListening(_r(h),mr(e,h))}return s}(e,t,d))}return f}function cr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Jn(n,Te(e,t));if(r)return r}));return vn(r,t,i,n,!0)}function lr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Te(e,n);r=r||Jn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Jn(i,me()):(i=new Gn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Kt(r,!0,!1):null;return function(e){return $t(e.viewCache_)}(Wn(i,t,fn(e.pendingWriteTree_,t._path),o?a.getNode():st.EMPTY_NODE,o))}function hr(e,t){return fr(t,e.syncPointTree_,null,fn(e.pendingWriteTree_,me()))}function fr(e,t,n,r){if(Ee(e.path))return dr(e,t,n,r);var i=t.get(me());null==n&&null!=i&&(n=Jn(i,me()));var o=[],a=ge(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=Tn(r,a);o=o.concat(fr(s,u,c,l))}return i&&(o=o.concat(Kn(i,e,r,n))),o}function dr(e,t,n,r){var i=t.get(me());null==n&&null!=i&&(n=Jn(i,me()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=Tn(r,t),u=e.operationForChild(t);u&&(o=o.concat(dr(u,i,a,s)))})),i&&(o=o.concat(Kn(i,e,r,n))),o}function pr(e,t){var n=t.query,r=mr(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||st.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=vr(e,n);if(r){var i=yr(r),o=i.path,a=i.queryId,s=Te(o,t);return br(e,o,new qt(Ut(a),s))}return[]}(e,n._path,r):function(e,t){return hr(e,new qt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return sr(e,n,null,i)}}}function mr(e,t){var n=gr(t);return e.queryToTagMap.get(n)}function gr(e){return e._path.toString()+"$"+e._queryIdentifier}function vr(e,t){return e.tagToQueryMap.get(t)}function yr(e){var t=e.indexOf("$");return(0,o.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new pe(e.substr(0,t))}}function br(e,t,n){var r=e.syncPointTree_.get(t);return(0,o.assert)(r,"Missing sync point for query tag that we're tracking"),Kn(r,n,fn(e.pendingWriteTree_,t),null)}function _r(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,o.assert)(zn,"Reference.ts has not been loaded"),zn)(e._repo,e._path):e}var wr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),kr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=ke(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return cr(this.syncTree_,this.path_)},e}(),Er=function(e,t,n){return e&&"object"===typeof e?((0,o.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Tr(e[".sv"],t,n):"object"===typeof e[".sv"]?Ir(e[".sv"],t):void(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Tr=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,o.assert)(!1,"Unexpected server value: "+e)},Ir=function(e,t,n){e.hasOwnProperty("increment")||(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&(0,o.assert)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.assert)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Sr=function(e,t,n,r){return Cr(t,new kr(n,e),r)},Nr=function(e,t,n){return Cr(e,new wr(t),n)};function Cr(e,t,n){var r,i=e.getPriority().val(),o=Er(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=Er(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new $e(s,ct(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new $e(o))),u.forEachChild(tt,(function(e,i){var o=Cr(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var Ar=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function xr(e,t){for(var n=t instanceof pe?t:new pe(t),r=e,i=ge(n);null!==i;){var a=(0,o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new Ar(i,r,a),i=ge(n=ye(n))}return r}function Rr(e){return e.node.value}function Or(e,t){e.node.value=t,Lr(e)}function Dr(e){return e.node.childCount>0}function Pr(e,t){j(e.node.children,(function(n,r){t(new Ar(n,e,r))}))}function jr(e,t,n,r){n&&!r&&t(e),Pr(e,(function(e){jr(e,t,!0,r)})),n&&r&&t(e)}function Mr(e){return new pe(null===e.parent?e.name:Mr(e.parent)+"/"+e.name)}function Lr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Rr(e)&&!Dr(e)}(n),i=(0,o.contains)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Lr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Lr(e))}(e.parent,e.name,e)}var Fr=/[\[\].#$\/\u0000-\u001F\u007F]/,Ur=/[\[\].#$\u0000-\u001F\u007F]/,Br=10485760,Vr=function(e){return"string"===typeof e&&0!==e.length&&!Fr.test(e)},qr=function(e){return"string"===typeof e&&0!==e.length&&!Ur.test(e)},zr=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!N(e)||e&&"object"===typeof e&&(0,o.contains)(e,".sv")},Gr=function(e,t,n,r){r&&void 0===t||Kr((0,o.errorPrefix)(e,"value"),t,n)},Kr=function e(t,n,r){var i=r instanceof pe?new Ce(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+xe(i));if("function"===typeof n)throw new Error(t+"contains a function "+xe(i)+" with contents = "+n.toString());if(N(n))throw new Error(t+"contains "+n.toString()+" "+xe(i));if("string"===typeof n&&n.length>Br/3&&(0,o.stringLength)(n)>Br)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+xe(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,s=!1;if(j(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Vr(n)))throw new Error(t+" contains an invalid key ("+n+") "+xe(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.stringLength)(t),Ae(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=(0,o.stringLength)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&s)throw new Error(t+' contains ".value" child '+xe(i)+" in addition to actual children.")}},Wr=function(e,t,n,r){if(!r||void 0!==t){var i=(0,o.errorPrefix)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];j(t,(function(e,t){var r=new pe(e);if(Kr(i,t,ke(n,r)),".priority"===be(r)&&!zr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=_e(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Vr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Ie);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&Ne(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Hr=function(e,t,n){if(!n||void 0!==t){if(N(t))throw new Error((0,o.errorPrefix)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!zr(t))throw new Error((0,o.errorPrefix)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Qr=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.errorPrefix)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Yr=function(e,t,n,r){if((!r||void 0!==n)&&!Vr(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Jr=function(e,t,n,r){if((!r||void 0!==n)&&!qr(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},$r=function(e,t){if(".info"===ge(t))throw new Error(e+" failed = Can't modify data under /.info/")},Xr=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Vr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),qr(e)}(n))throw new Error((0,o.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Zr=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error((0,o.errorPrefix)(e,t)+"must be a boolean.")},ei=function(){this.eventLists_=[],this.recursionDepth_=0};function ti(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Se(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function ni(e,t,n){ti(e,n),ii(e,(function(e){return Se(e,t)}))}function ri(e,t,n){ti(e,n),ii(e,(function(e){return Ne(e,t)||Ne(t,e)}))}function ii(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(oi(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function oi(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();b&&k("event: "+n.toString()),V(r)}}}var ai="repo_interrupt",si=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ei,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ot(),this.transactionQueueTree_=new Ar,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function ui(e,t,n){if(e.stats_=te(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new xt(e.repoInfo_,(function(t,n,r,i){hi(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return fi(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.stringify)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new je(e.repoInfo_,t,(function(t,n,r,i){hi(e,t,n,r,i)}),(function(t){fi(e,t)}),(function(t){!function(e,t){j(t,(function(t,n){di(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return ee[n]||(ee[n]=t()),ee[n]}(e.repoInfo_,(function(){return new Ft(e.stats_,e.server_)})),e.infoData_=new Rt,e.infoSyncTree_=new nr({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=ar(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),di(e,"connected",!1),e.serverSyncTree_=new nr({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);ri(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function ci(e){var t=e.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function li(e){return(t=(t={timestamp:ci(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function hi(e,t,n,r,i){e.dataUpdateCount++;var a=new pe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=(0,o.map)(n,(function(e){return ct(e)}));s=function(e,t,n,r){var i=vr(e,r);if(i){var o=yr(i),a=o.path,s=o.queryId,u=Te(a,t),c=Zt.fromObject(n);return br(e,a,new Gt(Ut(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=ct(n);s=function(e,t,n,r){var i=vr(e,r);if(null!=i){var o=yr(i),a=o.path,s=o.queryId,u=Te(a,t);return br(e,a,new zt(Ut(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.map)(n,(function(e){return ct(e)}));s=function(e,t,n){var r=Zt.fromObject(n);return hr(e,new Gt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var h=ct(n);s=ar(e.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=Ti(e,a)),ri(e.eventQueue_,f,s)}function fi(e,t){di(e,"connected",t),!1===t&&function(e){_i(e,"onDisconnectEvents");var t=li(e),n=Ot();jt(e.onDisconnect_,me(),(function(r,i){var o=Sr(r,i,e.serverSyncTree_,t);Dt(n,r,o)}));var r=[];jt(n,me(),(function(t,n){r=r.concat(ar(e.serverSyncTree_,t,n));var i=Ai(e,t);Ti(e,i)})),e.onDisconnect_=Ot(),ri(e.eventQueue_,me(),r)}(e)}function di(e,t,n){var r=new pe("/.info/"+t),i=ct(n);e.infoData_.updateSnapshot(r,i);var o=ar(e.infoSyncTree_,r,i);ri(e.eventQueue_,r,o)}function pi(e){return e.nextWriteId_++}function mi(e,t,n,r,i){_i(e,"set",{path:t.toString(),value:n,priority:r});var o=li(e),a=ct(n,r),s=cr(e.serverSyncTree_,t),u=Nr(a,s,o),c=pi(e),l=rr(e.serverSyncTree_,t,u,c,!0);ti(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||S("set at "+t+" failed: "+n);var a=or(e.serverSyncTree_,c,!o);ri(e.eventQueue_,t,a),wi(e,i,n,r)}));var h=Ai(e,t);Ti(e,h),ri(e.eventQueue_,h,[])}function gi(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Pt(e.onDisconnect_,t),wi(e,n,r,i)}))}function vi(e,t,n,r){var i=ct(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Dt(e.onDisconnect_,t,i),wi(e,r,n,o)}))}function yi(e,t,n){var r;r=".info"===ge(t._path)?sr(e.infoSyncTree_,t,n):sr(e.serverSyncTree_,t,n),ni(e.eventQueue_,t._path,r)}function bi(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ai)}function _i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),k.apply(void 0,(0,a.__spreadArray)([r],(0,a.__read)(t)))}function wi(e,t,n,r){t&&V((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function ki(e,t,n){return cr(e.serverSyncTree_,t,n)||st.EMPTY_NODE}function Ei(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||Ci(e,t),Rr(t)){var n=Si(e,t);(0,o.assert)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=ki(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Te(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;e.server_.put(f.toString(),h,(function(r){_i(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(or(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);Ci(e,xr(e.transactionQueueTree_,t)),Ei(e,e.transactionQueueTree_),ri(e.eventQueue_,t,i);for(s=0;s<o.length;s++)V(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{S("transaction at "+f.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}Ti(e,t)}}),s)}(e,Mr(t),n)}else Dr(t)&&Pr(t,(function(t){Ei(e,t)}))}function Ti(e,t){var n=Ii(e,t),r=Mr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,c,l=t[s],h=Te(n,l.path),f=!1;if((0,o.assert)(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)f=!0,u=l.abortReason,i=i.concat(or(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)f=!0,u="maxretry",i=i.concat(or(e.serverSyncTree_,l.currentWriteId,!0));else{var d=ki(e,l.path,a);l.currentInputSnapshot=d;var p=t[s].update(d.val());if(void 0!==p){Kr("transaction failed: Data returned ",p,l.path);var m=ct(p);"object"===typeof p&&null!=p&&(0,o.contains)(p,".priority")||(m=m.updatePriority(d.getPriority()));var g=l.currentWriteId,v=li(e),y=Nr(m,d,v);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=y,l.currentWriteId=pi(e),a.splice(a.indexOf(g),1),i=(i=i.concat(rr(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat(or(e.serverSyncTree_,g,!0))}else f=!0,u="nodata",i=i.concat(or(e.serverSyncTree_,l.currentWriteId,!0))}ri(e.eventQueue_,n,i),i=[],f&&(t[s].status=2,c=t[s].unwatcher,setTimeout(c,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);Ci(e,e.transactionQueueTree_);for(u=0;u<r.length;u++)V(r[u]);Ei(e,e.transactionQueueTree_)}(e,Si(e,n),r),r}function Ii(e,t){var n,r=e.transactionQueueTree_;for(n=ge(t);null!==n&&void 0===Rr(r);)r=xr(r,n),n=ge(t=ye(t));return r}function Si(e,t){var n=[];return Ni(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Ni(e,t,n){var r=Rr(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Pr(t,(function(t){Ni(e,t,n)}))}function Ci(e,t){var n=Rr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Or(t,n.length>0?n:void 0)}Pr(t,(function(t){Ci(e,t)}))}function Ai(e,t){var n=Mr(Ii(e,t)),r=xr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){xi(e,t)})),xi(e,r),jr(r,(function(t){xi(e,t)})),n}function xi(e,t){var n=Rr(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.assert)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(or(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Or(t,void 0):n.length=a+1,ri(e.eventQueue_,Mr(t),i);for(s=0;s<r.length;s++)V(r[s])}}var Ri=function(e,t){var n=Oi(e),r=n.namespace;"firebase.com"===n.domain&&I(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||I("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new J(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new pe(n.pathString)}},Oi=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(h,f)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=(0,a.__values)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):S("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var m=t.indexOf(".");r=t.substring(0,m).toLowerCase(),n=t.substring(m+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},Di=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.stringify)(this.snapshot.exportVal())},e}(),Pi=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),ji=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return(0,o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),Mi=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.Deferred;return gi(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){$r("OnDisconnect.remove",this._path);var e=new o.Deferred;return vi(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){$r("OnDisconnect.set",this._path),Gr("OnDisconnect.set",e,this._path,!1);var t=new o.Deferred;return vi(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){$r("OnDisconnect.setWithPriority",this._path),Gr("OnDisconnect.setWithPriority",e,this._path,!1),Hr("OnDisconnect.setWithPriority",t,!1);var n=new o.Deferred;return function(e,t,n,r,i){var o=ct(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Dt(e.onDisconnect_,t,o),wi(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){$r("OnDisconnect.update",this._path),Wr("OnDisconnect.update",e,this._path,!1);var t=new o.Deferred;return function(e,t,n,r){if((0,o.isEmpty)(n))return k("onDisconnect().update() called with empty data.  Don't do anything."),void wi(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&j(n,(function(n,r){var i=ct(r);Dt(e.onDisconnect_,ke(t,n),i)})),wi(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),Li=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return Ee(this._path)?null:be(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Vi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=At(this._queryParams),t=D(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return At(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=(0,o.getModularInstance)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Se(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function Fi(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ui(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ue){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==C)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==A)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===tt){if(null!=t&&!zr(t)||null!=n&&!zr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.assert)(e.getIndex()instanceof lt||e.getIndex()===ft,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Bi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Vi=function(e){function t(t,n){return e.call(this,t,n,new Tt,!1)||this}return(0,a.__extends)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=we(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(Li),qi=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new pe(t),r=Ki(this.ref,t);return new e(this._node.getChild(n),r,tt)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Ki(n.ref,r),tt))}))},e.prototype.hasChild=function(e){var t=new pe(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function zi(e,t){return(e=(0,o.getModularInstance)(e))._checkNotDeleted("ref"),void 0!==t?Ki(e._root,t):e._root}function Gi(e,t){(e=(0,o.getModularInstance)(e))._checkNotDeleted("refFromURL");var n=Ri(t,e._repo.repoInfo_.nodeAdmin);Xr("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||I("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),zi(e,n.path.toString())}function Ki(e,t){var n,r,i,a;return null===ge((e=(0,o.getModularInstance)(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Jr(n,r,i,a)):Jr("child","path",t,!1),new Vi(e._repo,ke(e._path,t))}function Wi(e,t){e=(0,o.getModularInstance)(e),$r("push",e._path),Gr("push",t,e._path,!0);var n,r=ci(e._repo),i=pt(r),a=Ki(e,i),s=Ki(e,i);return n=null!=t?Qi(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Hi(e){return $r("remove",e._path),Qi(e,null)}function Qi(e,t){e=(0,o.getModularInstance)(e),$r("set",e._path),Gr("set",t,e._path,!1);var n=new o.Deferred;return mi(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Yi(e,t){e=(0,o.getModularInstance)(e),$r("setPriority",e._path),Hr("setPriority",t,!1);var n=new o.Deferred;return mi(e._repo,ke(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Ji(e,t,n){if($r("setWithPriority",e._path),Gr("setWithPriority",t,e._path,!1),Hr("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.Deferred;return mi(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function $i(e,t){Wr("update",t,e._path,!1);var n=new o.Deferred;return function(e,t,n,r){_i(e,"update",{path:t.toString(),value:n});var i=!0,o=li(e),a={};if(j(n,(function(n,r){i=!1,a[n]=Sr(ke(t,n),ct(r),e.serverSyncTree_,o)})),i)k("update() called with empty data.  Don't do anything."),wi(0,r,"ok",void 0);else{var s=pi(e),u=ir(e.serverSyncTree_,t,a,s);ti(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||S("update at "+t+" failed: "+n);var a=or(e.serverSyncTree_,s,!o),u=a.length>0?Ti(e,t):t;ri(e.eventQueue_,u,a),wi(0,r,n,i)})),j(n,(function(n){var r=Ai(e,ke(t,n));Ti(e,r)})),ri(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Xi(e){return function(e,t){var n=lr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=ct(n).withIndex(t._queryParams.getIndex()),i=ar(e.serverSyncTree_,t._path,r);return ni(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return _i(e,"get for query "+(0,o.stringify)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=(0,o.getModularInstance)(e))._repo,e).then((function(t){return new qi(t,new Vi(e._repo,e._path),e._queryParams.getIndex())}))}var Zi=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Di("value",this,new qi(e.snapshotNode,new Vi(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Pi(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),eo=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Pi(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.assert)(null!=e.childName,"Child events should have a childName.");var n=Ki(new Vi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Di(e.type,this,new qi(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function to(e,t,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){yi(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new ji(n,o||void 0),c="value"===t?new Zi(u):new eo(t,u);return function(e,t,n){var r;r=".info"===ge(t._path)?ur(e.infoSyncTree_,t,n):ur(e.serverSyncTree_,t,n),ni(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return yi(e._repo,e,c)}}function no(e,t,n,r){return to(e,"value",t,n,r)}function ro(e,t,n,r){return to(e,"child_added",t,n,r)}function io(e,t,n,r){return to(e,"child_changed",t,n,r)}function oo(e,t,n,r){return to(e,"child_moved",t,n,r)}function ao(e,t,n,r){return to(e,"child_removed",t,n,r)}function so(e,t,n){var r=null,i=n?new ji(n):null;"value"===t?r=new Zi(i):t&&(r=new eo(t,i)),yi(e._repo,e,r)}var uo=function(){},co=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Gr("endAt",this._value,e._path,!0);var t=St(e._queryParams,this._value,this._key);if(Bi(t),Ui(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Li(e._repo,e._path,t,e._orderByCalled)},t}(uo);function lo(e,t){return Yr("endAt","key",t,!0),new co(e,t)}var ho=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Gr("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Ue?("string"===typeof t&&(t=gt(t)),r=St(e,t,n)):r=St(e,t,null==n?C:gt(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Bi(t),Ui(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Li(e._repo,e._path,t,e._orderByCalled)},t}(uo);function fo(e,t){return Yr("endBefore","key",t,!0),new ho(e,t)}var po=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Gr("startAt",this._value,e._path,!0);var t=It(e._queryParams,this._value,this._key);if(Bi(t),Ui(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Li(e._repo,e._path,t,e._orderByCalled)},t}(uo);function mo(e,t){return void 0===e&&(e=null),Yr("startAt","key",t,!0),new po(e,t)}var go=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Gr("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===Ue?("string"===typeof t&&(t=mt(t)),r=It(e,t,n)):r=It(e,t,null==n?A:mt(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Bi(t),Ui(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Li(e._repo,e._path,t,e._orderByCalled)},t}(uo);function vo(e,t){return Yr("startAfter","key",t,!0),new go(e,t)}var yo=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Li(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)},t}(uo);function bo(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new yo(e)}var _o=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Li(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)},t}(uo);function wo(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new _o(e)}var ko=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Fi(e,"orderByChild");var t=new pe(this._path);if(Ee(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new lt(t),r=Nt(e._queryParams,n);return Ui(r),new Li(e._repo,e._path,r,!0)},t}(uo);function Eo(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Jr("orderByChild","path",e,!1),new ko(e)}var To=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Fi(e,"orderByKey");var t=Nt(e._queryParams,Ue);return Ui(t),new Li(e._repo,e._path,t,!0)},t}(uo);function Io(){return new To}var So=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Fi(e,"orderByPriority");var t=Nt(e._queryParams,tt);return Ui(t),new Li(e._repo,e._path,t,!0)},t}(uo);function No(){return new So}var Co=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Fi(e,"orderByValue");var t=Nt(e._queryParams,ft);return Ui(t),new Li(e._repo,e._path,t,!0)},t}(uo);function Ao(){return new Co}var xo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(Gr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new co(this._value,this._key)._apply(new po(this._value,this._key)._apply(e))},t}(uo);function Ro(e,t){return Yr("equalTo","key",t,!0),new xo(e,t)}function Oo(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(0,o.getModularInstance)(e);try{for(var u=(0,a.__values)(r),c=u.next();!c.done;c=u.next()){var l=c.value;s=l._apply(s)}}catch(h){t={error:h}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}!function(e){(0,o.assert)(!Mn,"__referenceConstructor has already been defined"),Mn=e}(Vi),function(e){(0,o.assert)(!zn,"__referenceConstructor has already been defined"),zn=e}(Vi);var Do={},Po=!1;function jo(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||I("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),k("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=Ri(o,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/6thsense2022",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDKa0Aj0EwT479UsIp8Y1Eq6jpSDdsNLQQ",REACT_APP_FIREBASE_APP_ID:"1:35785195987:web:bb87005d49851fcc6e6f26",REACT_APP_FIREBASE_AUTH_DOMAIN:"igem-arqr-2021.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"igem-arqr-2021"}.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,o="http://"+c+"?ns="+u.namespace,u=(s=Ri(o,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new K(K.OWNER):new G(e.name,e.options,t);Xr("Invalid Firebase Database URL",s),Ee(s.path)||I("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=Do[t.name];i||(i={},Do[t.name]=i);var o=i[e.toURLString()];o&&I("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new si(e,Po,n,r),i[e.toURLString()]=o,o}(u,e,l,new z(e.name,n));return new Mo(h,e)}var Mo=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(ui(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Vi(this._repo,me())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return null!==this._rootInternal&&(!function(e,t){var n=Do[t];n&&n[e.key]===e||I("Database "+t+"("+e.repoInfo_+") has already been deleted."),bi(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&I("Cannot call "+e+" on a deleted database.")},e}();function Lo(e,t,n,r){void 0===r&&(r={}),(e=(0,o.getModularInstance)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&I("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&I('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new K(K.OWNER);else if(r.mockUserToken){var s="string"===typeof r.mockUserToken?r.mockUserToken:(0,o.createMockUserToken)(r.mockUserToken,e.app.options.projectId);a=new K(s)}!function(e,t,n,r){e.repoInfo_=new J(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function Fo(e){(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOffline"),bi(e._repo)}function Uo(e){var t;(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(ai)}var Bo={".sv":"timestamp"};var Vo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function qo(e,t,n){var r;if(e=(0,o.getModularInstance)(e),$r("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.Deferred,s=no(e,(function(){}));return function(e,t,n,r,i,a){_i(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:g(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=ki(e,t,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Kr("transaction failed: Data returned ",c,s.path),s.status=0;var l=xr(e.transactionQueueTree_,t),h=Rr(l)||[];h.push(s),Or(l,h);var f=void 0;"object"===typeof c&&null!==c&&(0,o.contains)(c,".priority")?(f=(0,o.safeGet)(c,".priority"),(0,o.assert)(zr(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(cr(e.serverSyncTree_,t)||st.EMPTY_NODE).getPriority().val();var d=li(e),p=ct(c,f),m=Nr(p,u,d);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=m,s.currentWriteId=pi(e);var v=rr(e.serverSyncTree_,t,m,s.currentWriteId,s.applyLocally);ri(e.eventQueue_,t,v),Ei(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new qi(r,new Vi(e._repo,e._path),tt),a.resolve(new Vo(n,i)))}),s,i),a.promise}var zo=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){(0,o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){(0,o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){(0,o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,o.validateCallback)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if((0,o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.validateCallback)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Go=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Ko=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return(0,o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return(0,o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return(0,o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return(0,o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),t=String(t),Jr("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return(0,o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Jr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return(0,o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return(0,o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,o.validateCallback)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return(0,o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return(0,o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new Ho(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Wo=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;(0,o.validateArgCount)("Query.on",2,4,arguments.length),(0,o.validateCallback)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),c=function(e,t){n.call(u.context,new Ko(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return no(this._delegate,c,l),n;case"child_added":return ro(this._delegate,c,l),n;case"child_removed":return ao(this._delegate,c,l),n;case"child_changed":return io(this._delegate,c,l),n;case"child_moved":return oo(this._delegate,c,l),n;default:throw new Error((0,o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if((0,o.validateArgCount)("Query.off",0,3,arguments.length),Qr("Query.off",e,!0),(0,o.validateCallback)("Query.off","callback",t,!0),(0,o.validateContextObject)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,so(this._delegate,e,r)}else so(this._delegate,e)},e.prototype.get=function(){var e=this;return Xi(this._delegate).then((function(t){return new Ko(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;(0,o.validateArgCount)("Query.once",1,4,arguments.length),(0,o.validateCallback)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,c=function(e,t){var r=new Ko(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":no(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":ro(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":ao(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":io(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":oo(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return(0,o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new e(this.database,Oo(this._delegate,bo(t)))},e.prototype.limitToLast=function(t){return(0,o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new e(this.database,Oo(this._delegate,wo(t)))},e.prototype.orderByChild=function(t){return(0,o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new e(this.database,Oo(this._delegate,Eo(t)))},e.prototype.orderByKey=function(){return(0,o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new e(this.database,Oo(this._delegate,Io()))},e.prototype.orderByPriority=function(){return(0,o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new e(this.database,Oo(this._delegate,No()))},e.prototype.orderByValue=function(){return(0,o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new e(this.database,Oo(this._delegate,Ao()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAt",0,2,arguments.length),new e(this.database,Oo(this._delegate,mo(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAfter",0,2,arguments.length),new e(this.database,Oo(this._delegate,vo(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endAt",0,2,arguments.length),new e(this.database,Oo(this._delegate,lo(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endBefore",0,2,arguments.length),new e(this.database,Oo(this._delegate,fo(t,n)))},e.prototype.equalTo=function(t,n){return(0,o.validateArgCount)("Query.equalTo",1,2,arguments.length),new e(this.database,Oo(this._delegate,Ro(t,n)))},e.prototype.toString=function(){return(0,o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if((0,o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,o.validateCallback)(e,"cancel",r.cancel,!0),r.context=n,(0,o.validateContextObject)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error((0,o.errorPrefix)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Ho(this.database,new Vi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Ho=function(e){function t(t,n){var r=e.call(this,t,new Li(n._repo,n._path,new Tt,!1))||this;return r.database=t,r._delegate=n,r}return(0,a.__extends)(t,e),t.prototype.getKey=function(){return(0,o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return(0,o.validateArgCount)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,Ki(this._delegate,e))},t.prototype.getParent=function(){(0,o.validateArgCount)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return(0,o.validateArgCount)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){(0,o.validateArgCount)("Reference.set",1,2,arguments.length),(0,o.validateCallback)("Reference.set","onComplete",t,!0);var n=Qi(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if((0,o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}$r("Reference.update",this._delegate._path),(0,o.validateCallback)("Reference.update","onComplete",t,!0);var i=$i(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=Ji(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){(0,o.validateArgCount)("Reference.remove",0,1,arguments.length),(0,o.validateCallback)("Reference.remove","onComplete",e,!0);var t=Hi(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;(0,o.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,o.validateCallback)("Reference.transaction","transactionUpdate",e,!1),(0,o.validateCallback)("Reference.transaction","onComplete",t,!0),Zr("Reference.transaction","applyLocally",n,!0);var i=qo(this._delegate,e,{applyLocally:n}).then((function(e){return new Go(e.committed,new Ko(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){(0,o.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,o.validateCallback)("Reference.setPriority","onComplete",t,!0);var n=Yi(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;(0,o.validateArgCount)("Reference.push",0,2,arguments.length),(0,o.validateCallback)("Reference.push","onComplete",n,!0);var i=Wi(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return $r("Reference.onDisconnect",this._delegate._path),new zo(new Mi(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Wo),Qo=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),Lo(this._delegate,e,t,n)},e.prototype.ref=function(e){if((0,o.validateArgCount)("database.ref",0,1,arguments.length),e instanceof Ho){var t=Gi(this._delegate,e.toString());return new Ho(this,t)}t=zi(this._delegate,e);return new Ho(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";(0,o.validateArgCount)(t,1,1,arguments.length);var n=Gi(this._delegate,e);return new Ho(this,n)},e.prototype.goOffline=function(){return(0,o.validateArgCount)("database.goOffline",0,0,arguments.length),Fo(this._delegate)},e.prototype.goOnline=function(){return(0,o.validateArgCount)("database.goOnline",0,0,arguments.length),Uo(this._delegate)},e.ServerValue={TIMESTAMP:Bo,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();var Yo=Object.freeze({__proto__:null,forceLongPolling:function(){ue.forceDisallow(),oe.forceAllow()},forceWebSockets:function(){oe.forceDisallow()},isWebSocketsAvailable:function(){return ue.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Lt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);j(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;c(r);var l=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return l.setComponent(new i.Component("auth-internal",(function(){return o}),"PRIVATE")),{instance:new Qo(jo(t,l,void 0,n,u),t),namespace:a}}}),Jo=je;je.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},je.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var $o=le,Xo=J,Zo=Object.freeze({__proto__:null,DataConnection:Jo,RealTimeConnection:$o,hijackHash:function(e){var t=je.prototype.put;return je.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){je.prototype.put=t}},ConnectionTarget:Xo,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){Po=e}(e)}}),ea=Qo.ServerValue;!function(t){c(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.Component("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Qo(jo(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Ho,Query:Wo,Database:Qo,DataSnapshot:Ko,enableLogging:w,INTERNAL:Yo,ServerValue:ea,TEST_ACCESS:Zo}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.11.0"),(0,o.isNodeSdk)()&&(e.exports=n)}(r.default)},386:function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(t),n.d(t,{LogLevel:function(){return o},Logger:function(){return h},setLogLevel:function(){return f},setUserLogHandler:function(){return d}});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function f(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},971:function(e,t,n){"use strict";n.r(t),n.d(t,{CONSTANTS:function(){return i},Deferred:function(){return p},ErrorFactory:function(){return O},FirebaseError:function(){return R},MAX_VALUE_MILLIS:function(){return ce},RANDOM_FACTOR:function(){return le},Sha1:function(){return $},areCookiesEnabled:function(){return A},assert:function(){return o},assertionError:function(){return a},async:function(){return ee},base64:function(){return u},base64Decode:function(){return h},base64Encode:function(){return c},base64urlEncodeWithoutPadding:function(){return l},calculateBackoffMillis:function(){return he},contains:function(){return q},createMockUserToken:function(){return m},createSubscribe:function(){return X},decode:function(){return L},deepCopy:function(){return f},deepEqual:function(){return W},deepExtend:function(){return d},errorPrefix:function(){return re},extractQuerystring:function(){return J},getGlobal:function(){return x},getModularInstance:function(){return de},getUA:function(){return g},isAdmin:function(){return V},isBrowser:function(){return b},isBrowserExtension:function(){return _},isElectron:function(){return k},isEmpty:function(){return G},isIE:function(){return E},isIndexedDBAvailable:function(){return N},isMobileCordova:function(){return v},isNode:function(){return y},isNodeSdk:function(){return I},isReactNative:function(){return w},isSafari:function(){return S},isUWP:function(){return T},isValidFormat:function(){return B},isValidTimestamp:function(){return F},issuedAtTime:function(){return U},jsonEval:function(){return j},map:function(){return K},ordinal:function(){return fe},querystring:function(){return Q},querystringDecode:function(){return Y},safeGet:function(){return z},stringLength:function(){return ue},stringToByteArray:function(){return se},stringify:function(){return M},validateArgCount:function(){return ne},validateCallback:function(){return oe},validateContextObject:function(){return ae},validateIndexedDBOpenable:function(){return C},validateNamespace:function(){return ie}});var r=n(388),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){var t=s(e);return u.encodeByteArray(t,!0)},l=function(e){return c(e).replace(/\./g,"")},h=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function f(e){return d(void 0,e)}function d(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=d(e[n],t[n]));return e}var p=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function m(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(a)),""].join(".")}function g(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function y(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function b(){return"object"===typeof self&&self.self===self}function _(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function w(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function k(){return g().indexOf("Electron/")>=0}function E(){var e=g();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function T(){return g().indexOf("MSAppHost/")>=0}function I(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function S(){return!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N(){return"indexedDB"in self&&null!=indexedDB}function C(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function A(){return!(!navigator||!navigator.cookieEnabled)}function x(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}var R=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,O.prototype.create),o}return(0,r.__extends)(t,e),t}(Error),O=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?D(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new R(i,s,r);return u},e}();function D(e,t){return e.replace(P,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var P=/\{\$([^}]+)}/g;function j(e){return JSON.parse(e)}function M(e){return JSON.stringify(e)}var L=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=j(h(o[0])||""),n=j(h(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},F=function(e){var t=L(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},U=function(e){var t=L(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},B=function(e){var t=L(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},V=function(e){var t=L(e).claims;return"object"===typeof t&&!0===t.admin};function q(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function G(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function K(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function W(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var s=e[a],u=t[a];if(H(s)&&H(u)){if(!W(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){a=l[c];if(!n.includes(a))return!1}return!0}function H(e){return null!==e&&"object"===typeof e}function Q(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}function Y(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function J(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var $=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function X(e,t){var n=new Z(e,t);return n.subscribe.bind(n)}var Z=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=te),void 0===r.error&&(r.error=te),void 0===r.complete&&(r.complete=te);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function ee(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}}function te(){}var ne=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function re(e,t){return e+" failed: "+t+" argument "}function ie(e,t,n){if((!n||t)&&"string"!==typeof t)throw new Error(re(e,"namespace")+"must be a valid firebase namespace.")}function oe(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(re(e,t)+"must be a valid function.")}function ae(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(re(e,t)+"must be a valid context object.")}var se=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ue=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},ce=144e5,le=.5;function he(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(le*r*(Math.random()-.5)*2);return Math.min(ce,r+i)}function fe(e){return Number.isFinite(e)?e+function(e){var t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";var n=e%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(e):""+e}function de(e){return e&&e._delegate?e._delegate:e}},959:function(e){function t(e,t,n,r){var i,o=null==(i=r)||"number"===typeof i||"boolean"===typeof i?r:n(r),a=t.get(o);return"undefined"===typeof a&&(a=e.call(this,r),t.set(o,a)),a}function n(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=t.get(i);return"undefined"===typeof o&&(o=e.apply(this,r),t.set(i,o)),o}function r(e,t,n,r,i){return n.bind(t,e,r,i)}function i(e,i){return r(e,this,1===e.length?t:n,i.cache.create(),i.serializer)}function o(){return JSON.stringify(arguments)}function a(){this.cache=Object.create(null)}a.prototype.has=function(e){return e in this.cache},a.prototype.get=function(e){return this.cache[e]},a.prototype.set=function(e,t){this.cache[e]=t};var s={create:function(){return new a}};e.exports=function(e,t){var n=t&&t.cache?t.cache:s,r=t&&t.serializer?t.serializer:o;return(t&&t.strategy?t.strategy:i)(e,{cache:n,serializer:r})},e.exports.strategies={variadic:function(e,t){return r(e,this,n,t.cache.create(),t.serializer)},monadic:function(e,n){return r(e,this,t,n.cache.create(),n.serializer)}}},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(t),m=u(n),g=0;g<a.length;++g){var v=a[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var y=f(n,v);try{c(t,v,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case g:case m:case u:return e;default:return t}}case i:return t}}}function k(e){return w(e)===h}t.AsyncMode=l,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return k(e)||w(e)===l},t.isConcurrentMode=k,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===a||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===_||e.$$typeof===v)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},348:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}function m(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function g(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=m,e.deleteDb=g,Object.defineProperty(e,"__esModule",{value:!0})}(t)},571:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var h=0;h<s.length;h++)r.call(a,s[h])&&(u[s[h]]=a[s[h]])}}return u}},151:function(e,t,n){var r=n(571);e.exports=d,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var h=n[0],f=n[1],d=n.index;if(s+=e.slice(a,d),a=d+h.length,f)s+=f[1];else{var p=e[a],m=n[2],g=n[3],v=n[4],y=n[5],b=n[6],_=n[7];s&&(r.push(s),s="");var w=null!=m&&null!=p&&p!==m,k="+"===b||"*"===b,E="?"===b||"*"===b,T=n[2]||l,I=v||y;r.push({name:g||o++,prefix:m||"",delimiter:T,optional:E,repeat:k,partial:w,asterisk:!!_,pattern:I?c(I):_?".*":"[^"+u(T)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",h(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var h,f=s[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(h=u(f[d]),!n[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===d?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');o+=l.prefix+h}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=u(c);else{var f=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+f+d+")*"),a+=d=c.optional?c.partial?f+"("+d+")?":"(?:"+f+"("+d+"))?":f+"("+d+")"}}var p=u(n.delimiter||"/"),m=a.slice(-p.length)===p;return i||(a=(m?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+p+"|$)",l(new RegExp("^"+a,h(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",h(n)),t)}(e,t,n):function(e,t,n){return f(o(e,n),t,n)}(e,t,n)}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),o=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(m,e)||!d.call(p,e)&&(f.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=60103,E=60106,T=60107,I=60108,S=60114,N=60109,C=60110,A=60112,x=60113,R=60120,O=60115,D=60116,P=60121,j=60128,M=60129,L=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;k=U("react.element"),E=U("react.portal"),T=U("react.fragment"),I=U("react.strict_mode"),S=U("react.profiler"),N=U("react.provider"),C=U("react.context"),A=U("react.forward_ref"),x=U("react.suspense"),R=U("react.suspense_list"),O=U("react.memo"),D=U("react.lazy"),P=U("react.block"),U("react.scope"),j=U("react.opaque.id"),M=U("react.debug_trace_mode"),L=U("react.offscreen"),F=U("react.legacy_hidden")}var B,V="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=V&&e[V]||e["@@iterator"])?e:null}function z(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var G=!1;function K(e,t){if(!e||G)return"";G=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{G=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function W(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case E:return"Portal";case S:return"Profiler";case I:return"StrictMode";case x:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return H(e.type);case P:return H(e._render);case D:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ge,ve=(ge=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function ke(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){_e.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Te(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,Ce=null,Ae=null;function xe(e){if(e=ri(e)){if("function"!==typeof Ne)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),Ne(e.stateNode,e.type,t))}}function Re(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Oe(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function De(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function je(){}var Me=De,Le=!1,Fe=!1;function Ue(){null===Ce&&null===Ae||(je(),Oe())}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ve=!1;if(h)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(ge){Ve=!1}function ze(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ge=!1,Ke=null,We=!1,He=null,Qe={onError:function(e){Ge=!0,Ke=e}};function Ye(e,t,n,r,i,o,a,s,u){Ge=!1,Ke=null,ze.apply(Qe,arguments)}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Je(e)!==e)throw Error(a(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xe(i),e;if(o===r)return Xe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,ut=null,ct=null,lt=new Map,ht=new Map,ft=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function mt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function gt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function vt(e){var t=ni(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function _t(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==ct&&yt(ct)&&(ct=null),lt.forEach(bt),ht.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,_t)))}function kt(e){function t(t){return wt(t,e)}if(0<at.length){wt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ht.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)vt(n),null===n.blockedOn&&ft.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tt={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},It={},St={};function Nt(e){if(It[e])return It[e];if(!Tt[e])return e;var t,n=Tt[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return It[e]=n[t];return e}h&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete Tt.animationend.animation,delete Tt.animationiteration.animation,delete Tt.animationstart.animation),"TransitionEvent"in window||delete Tt.transitionend.transition);var Ct=Nt("animationend"),At=Nt("animationiteration"),xt=Nt("animationstart"),Rt=Nt("transitionend"),Ot=new Map,Dt=new Map,Pt=["abort","abort",Ct,"animationEnd",At,"animationIteration",xt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function jt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dt.set(r,t),Ot.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Mt=8;function Lt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Mt=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Lt(u),i=Mt):0!==(s&=o)&&(r=Lt(s),i=Mt)}else 0!==(o=n&~a)?(r=Lt(o),i=Mt):0!==s&&(r=Lt(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Gt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Lt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Gt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?Bt(10,t):e;case 10:return 0===(e=Vt(192&~t))?Bt(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&(0===(e=Vt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Vt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Gt(t)]=n}var Gt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Wt|0)|0},Kt=Math.log,Wt=Math.LN2;var Ht=o.unstable_UserBlockingPriority,Qt=o.unstable_runWithPriority,Yt=!0;function Jt(e,t,n,r){Le||je();var i=Xt,o=Le;Le=!0;try{Pe(i,e,t,n,r)}finally{(Le=o)||Ue()}}function $t(e,t,n,r){Qt(Ht,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<at.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=Zt(e,t,n,r);if(null===o)i&&mt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=gt(st,e,t,n,r,i),!0;case"dragenter":return ut=gt(ut,e,t,n,r,i),!0;case"mouseover":return ct=gt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,gt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ht.set(o,gt(ht.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;mt(e,r)}jr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Se(r);if(null!==(i=ni(i))){var o=Je(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=$e(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return jr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,ln,hn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(fn),pn=i({},fn,{view:0,detail:0}),mn=un(pn),gn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(cn=e.screenX-hn.screenX,ln=e.screenY-hn.screenY):ln=cn=0,hn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),vn=un(gn),yn=un(i({},gn,{dataTransfer:0})),bn=un(i({},pn,{relatedTarget:0})),_n=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=un(wn),En=un(i({},fn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return Nn}var An=i({},pn,{key:function(e){if(e.key){var t=Tn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=un(An),Rn=un(i({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Dn=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=i({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=un(Pn),Mn=[9,13,27,32],Ln=h&&"CompositionEvent"in window,Fn=null;h&&"documentMode"in document&&(Fn=document.documentMode);var Un=h&&"TextEvent"in window&&!Fn,Bn=h&&(!Ln||Fn&&8<Fn&&11>=Fn),Vn=String.fromCharCode(32),qn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Qn(e,t,n,r){Re(r),0<(t=Lr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Jn=null;function $n(e){Ar(e,0)}function Xn(e){if($(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(h){var tr;if(h){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",or),Jn=Yn=null)}function or(e){if("value"===e.propertyName&&Xn(Jn)){var t=[];if(Qn(t,Jn,e,Se(e)),e=$n,Le)e(t);else{Le=!0;try{De(e,t)}finally{Le=!1,Ue()}}}}function ar(e,t,n){"focusin"===e?(ir(),Jn=n,(Yn=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Jn)}function ur(e,t){if("click"===e)return Xn(t)}function cr(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},hr=Object.prototype.hasOwnProperty;function fr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!hr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function mr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=h&&"documentMode"in document&&11>=document.documentMode,br=null,_r=null,wr=null,kr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==br||br!==X(r)||("selectionStart"in(r=br)&&vr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&fr(wr,r)||(wr=r,0<(r=Lr(_r,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}jt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),jt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),jt(Pt,2);for(var Tr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<Tr.length;Ir++)Dt.set(Tr[Ir],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ye.apply(this,arguments),Ge){if(!Ge)throw Error(a(198));var l=Ke;Ge=!1,Ke=null,We||(We=!0,He=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Cr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Cr(i,s,c),o=u}}}if(We)throw e=He,We=!1,He=null,e}function xr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Rr]||(e[Rr]=!0,s.forEach((function(t){Nr.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Nr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Pr(o,e,i,t),a.add(s))}function Pr(e,t,n,r){var i=Dt.get(t);switch(void 0===i?2:i){case 0:i=Jt;break;case 1:i=$t;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Me(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=o,i=Se(n),a=[];e:{var s=Ot.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":u=xn;break;case"focusin":c="focus",u=bn;break;case"focusout":c="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case Ct:case At:case xt:u=_n;break;case Rt:u=Dn;break;case"scroll":u=mn;break;case"wheel":u=jn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Rn}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&(null!=(m=Be(p,f))&&l.push(Mr(p,m,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(h=Je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=vn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,m="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(m,p+"leave",u,n,i)).target=h,s.relatedTarget=d,m=null,ni(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,m=l),h=m,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Fr(d))p++;for(d=0,m=f;m;m=Fr(m))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)f=Fr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Fr(l),f=Fr(f)}l=null}else l=null;null!==u&&Ur(a,s,u,l,!1),null!==c&&null!==h&&Ur(a,h,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Zn;else if(Hn(s))if(er)g=cr;else{g=sr;var v=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ur);switch(g&&(g=g(e,r))?Qn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ie(s,"number",s.value)),v=r?ii(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(br=v,_r=r,wr=null);break;case"focusout":wr=_r=br=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,Er(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Er(a,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Kn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Kn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Kn=!0)),0<(v=Lr(r,b)).length&&(b=new En(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Gn(n))&&(b.data=y))),(y=Un?function(e,t){switch(e){case"compositionend":return Gn(t);case"keypress":return 32!==t.which?null:(qn=!0,Vn);case"textInput":return(e=t.data)===Vn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!Ln&&zn(e,t)?(e=rn(),nn=tn=en=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Lr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Ar(a,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Be(e,n))&&r.unshift(Mr(e,o,i)),null!=(o=Be(e,t))&&r.push(Mr(e,o,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Be(n,o))&&a.unshift(Mr(n,u,s)):i||null!=(u=Be(n,o))&&a.push(Mr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Br(){}var Vr=null,qr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Gr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Hr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Jr=0;var $r=Math.random().toString(36).slice(2),Xr="__reactFiber$"+$r,Zr="__reactProps$"+$r,ei="__reactContainer$"+$r,ti="__reactEvents$"+$r;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Xr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[Zr]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function hi(e,t){ui++,si[ui]=e.current,e.current=t}var fi={},di=ci(fi),pi=ci(!1),mi=fi;function gi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function vi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){li(pi),li(di)}function bi(e,t,n){if(di.current!==fi)throw Error(a(168));hi(di,t),hi(pi,n)}function _i(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,H(t)||"Unknown",o));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,mi=di.current,hi(di,e),hi(pi,pi.current),!0}function ki(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=_i(e,t,mi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),hi(di,e)):li(pi),hi(pi,n)}var Ei=null,Ti=null,Ii=o.unstable_runWithPriority,Si=o.unstable_scheduleCallback,Ni=o.unstable_cancelCallback,Ci=o.unstable_shouldYield,Ai=o.unstable_requestPaint,xi=o.unstable_now,Ri=o.unstable_getCurrentPriorityLevel,Oi=o.unstable_ImmediatePriority,Di=o.unstable_UserBlockingPriority,Pi=o.unstable_NormalPriority,ji=o.unstable_LowPriority,Mi=o.unstable_IdlePriority,Li={},Fi=void 0!==Ai?Ai:function(){},Ui=null,Bi=null,Vi=!1,qi=xi(),zi=1e4>qi?xi:function(){return xi()-qi};function Gi(){switch(Ri()){case Oi:return 99;case Di:return 98;case Pi:return 97;case ji:return 96;case Mi:return 95;default:throw Error(a(332))}}function Ki(e){switch(e){case 99:return Oi;case 98:return Di;case 97:return Pi;case 96:return ji;case 95:return Mi;default:throw Error(a(332))}}function Wi(e,t){return e=Ki(e),Ii(e,t)}function Hi(e,t,n){return e=Ki(e),Si(e,t,n)}function Qi(){if(null!==Bi){var e=Bi;Bi=null,Ni(e)}Yi()}function Yi(){if(!Vi&&null!==Ui){Vi=!0;var e=0;try{var t=Ui;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Si(Oi,Qi),n}finally{Vi=!1}}}var Ji=w.ReactCurrentBatchConfig;function $i(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ci(null),Zi=null,eo=null,to=null;function no(){to=eo=Zi=null}function ro(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Zi=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(La=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Zi)throw Error(a(308));eo=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ho(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var h=e.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=l:f.next=l,h.lastBaseUpdate=c)}}if(null!==a){for(f=o.baseState,s=0,h=l=c=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(u=t,d=n,m.tag){case 1:if("function"===typeof(p=m.payload)){f=p.call(d,f,u);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=m.payload)?p.call(d,f,u):p)||void 0===u)break e;f=i({},f,u);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(l=h=d,c=f):h=h.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===h&&(c=f),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=h,Vs|=s,e.lanes=s,e.memoizedState=f}}function mo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var go=(new r.Component).refs;function vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fu(),i=du(e),o=lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),ho(e,o),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fu(),i=du(e),o=lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),ho(e,o),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fu(),r=du(e),i=lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ho(e,i),pu(e,r,n)}};function bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,o))}function _o(e,t,n){var r=!1,i=fi,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=vi(t)?mi:di.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?gi(e,i):fi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function ko(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=go,uo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=vi(t)?mi:di.current,i.context=gi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&yo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Eo=Array.isArray;function To(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===go&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Io(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function So(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Wu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=To(e,t,n),r.return=e,r):((r=Hu(n.type,n.key,n.props,null,e.mode,r)).ref=To(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$u(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ju(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Hu(t.type,t.key,t.props,null,e.mode,n)).ref=To(e,null,t),n.return=e,n;case E:return(t=$u(t,e.mode,n)).return=e,t}if(Eo(t)||q(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Io(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?n.type===T?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(Eo(n)||q(n))return null!==i?null:h(e,t,n,r,null);Io(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return e=e.get(null===r.key?n:r.key)||null,r.type===T?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Eo(r)||q(r))return h(t,e=e.get(n)||null,r,i,null);Io(t,r)}return null}function m(i,a,s,u){for(var c=null,l=null,h=a,m=a=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=d(i,h,s[m],u);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),a=o(v,a,m),null===l?c=v:l.sibling=v,l=v,h=g}if(m===s.length)return n(i,h),c;if(null===h){for(;m<s.length;m++)null!==(h=f(i,s[m],u))&&(a=o(h,a,m),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);m<s.length;m++)null!==(g=p(h,i,m,s[m],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=o(g,a,m),null===l?c=g:l.sibling=g,l=g);return e&&h.forEach((function(e){return t(i,e)})),c}function g(i,s,u,c){var l=q(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,m=s,g=s=0,v=null,y=u.next();null!==m&&!y.done;g++,y=u.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=d(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===h?l=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),l;if(null===m){for(;!y.done;g++,y=u.next())null!==(y=f(i,y.value,c))&&(s=o(y,s,g),null===h?l=y:h.sibling=y,h=y);return l}for(m=r(i,m);!y.done;g++,y=u.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===h?l=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===T&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case k:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===T){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=To(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===T?((r=Qu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Hu(o.type,o.key,o.props,null,e.mode,u)).ref=To(e,r,o),u.return=e,e=u)}return s(e);case E:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$u(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Ju(o,e.mode,u)).return=e,e=r),s(e);if(Eo(o))return m(e,r,o,u);if(q(o))return g(e,r,o,u);if(l&&Io(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,H(e.type)||"Component"))}return n(e,r)}}var No=So(!0),Co=So(!1),Ao={},xo=ci(Ao),Ro=ci(Ao),Oo=ci(Ao);function Do(e){if(e===Ao)throw Error(a(174));return e}function Po(e,t){switch(hi(Oo,t),hi(Ro,e),hi(xo,Ao),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(xo),hi(xo,t)}function jo(){li(xo),li(Ro),li(Oo)}function Mo(e){Do(Oo.current);var t=Do(xo.current),n=pe(t,e.type);t!==n&&(hi(Ro,e),hi(xo,n))}function Lo(e){Ro.current===e&&(li(xo),li(Ro))}var Fo=ci(0);function Uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bo=null,Vo=null,qo=!1;function zo(e,t){var n=Gu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Go(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ko(e){if(qo){var t=Vo;if(t){var n=t;if(!Go(e,t)){if(!(t=Qr(n.nextSibling))||!Go(e,t))return e.flags=-1025&e.flags|2,qo=!1,void(Bo=e);zo(Bo,n)}Bo=e,Vo=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,qo=!1,Bo=e}}function Wo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Bo=e}function Ho(e){if(e!==Bo)return!1;if(!qo)return Wo(e),qo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Gr(t,e.memoizedProps))for(t=Vo;t;)zo(e,t),t=Qr(t.nextSibling);if(Wo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Vo=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Vo=null}}else Vo=Bo?Qr(e.stateNode.nextSibling):null;return!0}function Qo(){Vo=Bo=null,qo=!1}var Yo=[];function Jo(){for(var e=0;e<Yo.length;e++)Yo[e]._workInProgressVersionPrimary=null;Yo.length=0}var $o=w.ReactCurrentDispatcher,Xo=w.ReactCurrentBatchConfig,Zo=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,i,o){if(Zo=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$o.current=null===e||null===e.memoizedState?Da:Pa,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,$o.current=ja,e=n(r,i)}while(ia)}if($o.current=Oa,t=null!==ta&&null!==ta.next,Zo=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function ca(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function la(e,t){return"function"===typeof t?t(e):t}function ha(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Zo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,o=r):u=u.next=h,ea.lanes|=l,Vs|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,lr(r,t.memoizedState)||(La=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fa(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);lr(o,t.memoizedState)||(La=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function da(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Zo&e)===e)&&(t._workInProgressVersionPrimary=r,Yo.push(t))),e)return n(t._source);throw Yo.push(t),Error(a(350))}function pa(e,t,n,r){var i=Ds;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=$o.current,c=u.useState((function(){return da(i,t,n)})),l=c[1],h=c[0];c=na;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,m=f.source;f=f.subscribe;var g=ea;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!lr(s,e)){e=n(t._source),lr(h,e)||(l(e),e=du(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-Gt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(g);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),lr(p,n)&&lr(m,t)&&lr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:h}).dispatch=l=Ra.bind(null,ea,e),c.queue=e,c.baseQueue=null,h=da(i,t,n),c.memoizedState=c.baseState=h),h}function ma(e,t,n){return pa(ca(),e,t,n)}function ga(e){var t=ua();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=Ra.bind(null,ea,e),[t.memoizedState,e]}function va(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ya(e){return e={current:e},ua().memoizedState=e}function ba(){return ca().memoizedState}function _a(e,t,n,r){var i=ua();ea.flags|=e,i.memoizedState=va(1|t,n,void 0,void 0===r?null:r)}function wa(e,t,n,r){var i=ca();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void va(t,n,o,r)}ea.flags|=e,i.memoizedState=va(1|t,n,o,r)}function ka(e,t){return _a(516,4,e,t)}function Ea(e,t){return wa(516,4,e,t)}function Ta(e,t){return wa(4,2,e,t)}function Ia(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Sa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,Ia.bind(null,t,e),n)}function Na(){}function Ca(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Aa(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xa(e,t){var n=Gi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Xo.transition;Xo.transition=1;try{e(!1),t()}finally{Xo.transition=n}}))}function Ra(e,t,n){var r=fu(),i=du(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Oa={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Da={readContext:ao,useCallback:function(e,t){return ua().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:ka,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_a(4,2,Ia.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _a(4,2,e,t)},useMemo:function(e,t){var n=ua();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ua();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ra.bind(null,ea,e),[r.memoizedState,e]},useRef:ya,useState:ga,useDebugValue:Na,useDeferredValue:function(e){var t=ga(e),n=t[0],r=t[1];return ka((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=ga(!1),t=e[0];return ya(e=xa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ua();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(qo){var e=!1,t=function(e){return{$$typeof:j,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Jr++).toString(36))),Error(a(355))})),n=ga(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,va(5,(function(){n("r:"+(Jr++).toString(36))}),void 0,null)),t}return ga(t="r:"+(Jr++).toString(36)),t},unstable_isNewReconciler:!1},Pa={readContext:ao,useCallback:Ca,useContext:ao,useEffect:Ea,useImperativeHandle:Sa,useLayoutEffect:Ta,useMemo:Aa,useReducer:ha,useRef:ba,useState:function(){return ha(la)},useDebugValue:Na,useDeferredValue:function(e){var t=ha(la),n=t[0],r=t[1];return Ea((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=ha(la)[0];return[ba().current,e]},useMutableSource:ma,useOpaqueIdentifier:function(){return ha(la)[0]},unstable_isNewReconciler:!1},ja={readContext:ao,useCallback:Ca,useContext:ao,useEffect:Ea,useImperativeHandle:Sa,useLayoutEffect:Ta,useMemo:Aa,useReducer:fa,useRef:ba,useState:function(){return fa(la)},useDebugValue:Na,useDeferredValue:function(e){var t=fa(la),n=t[0],r=t[1];return Ea((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=fa(la)[0];return[ba().current,e]},useMutableSource:ma,useOpaqueIdentifier:function(){return fa(la)[0]},unstable_isNewReconciler:!1},Ma=w.ReactCurrentOwner,La=!1;function Fa(e,t,n,r){t.child=null===e?Co(t,null,n,r):No(t,e.child,n,r)}function Ua(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=sa(e,t,n,r,o,i),null===e||La?(t.flags|=1,Fa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ba(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Ku(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Va(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=Wu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Va(e,t,n,r,i,o){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(La=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(La=!0)}return Ga(e,t,n,r,o)}function qa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},ku(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ku(t,e),null;t.memoizedState={baseLanes:0},ku(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ku(t,r);return Fa(e,t,i,n),t.child}function za(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ga(e,t,n,r,i){var o=vi(n)?mi:di.current;return o=gi(t,o),oo(t,i),n=sa(e,t,n,r,o,i),null===e||La?(t.flags|=1,Fa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ka(e,t,n,r,i){if(vi(n)){var o=!0;wi(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),_o(t,n,r),ko(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ao(c):c=gi(t,c=vi(n)?mi:di.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&wo(t,a,r,c),so=!1;var f=t.memoizedState;a.state=f,po(t,r,a,i),u=t.memoizedState,s!==r||f!==u||pi.current||so?("function"===typeof l&&(vo(t,n,l,r),u=t.memoizedState),(s=so||bo(t,n,s,r,f,u,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,co(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:$i(t.type,s),a.props=c,h=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ao(u):u=gi(t,u=vi(n)?mi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&wo(t,a,r,u),so=!1,f=t.memoizedState,a.state=f,po(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||pi.current||so?("function"===typeof d&&(vo(t,n,d,r),p=t.memoizedState),(c=so||bo(t,n,c,r,f,p,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Wa(e,t,n,r,o,i)}function Wa(e,t,n,r,i,o){za(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&ki(t,n,!1),os(e,t,o);r=t.stateNode,Ma.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=No(t,e.child,null,o),t.child=No(t,null,s,o)):Fa(e,t,s,o),t.memoizedState=r.state,i&&ki(t,n,!0),t.child}function Ha(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Po(e,t.containerInfo)}var Qa,Ya,Ja,$a={dehydrated:null,retryLane:0};function Xa(e,t,n){var r,i=t.pendingProps,o=Fo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),hi(Fo,1&o),null===e?(void 0!==i.fallback&&Ko(t),e=i.children,o=i.fallback,a?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$a,e):"number"===typeof i.unstable_expectedLoadTime?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$a,t.lanes=33554432,e):((n=Yu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=$a,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Za(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Yu(t,i,0,null),n=Qu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Wu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Wu(a,s),null!==e?r=Wu(e,r):(r=Qu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Fa(e,t,r.children,n),0!==(2&(r=Fo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(hi(Fo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Vs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Wu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!qo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return vi(t.type)&&yi(),null;case 3:return jo(),li(pi),li(di),Jo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ho(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Lo(t);var o=Do(Oo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ya(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Do(xo.current),Ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Xr]=t,r[Zr]=s,n){case"dialog":xr("cancel",r),xr("close",r);break;case"iframe":case"object":case"embed":xr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)xr(Sr[e],r);break;case"source":xr("error",r);break;case"img":case"image":case"link":xr("error",r),xr("load",r);break;case"details":xr("toggle",r);break;case"input":ee(r,s),xr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},xr("invalid",r);break;case"textarea":ue(r,s),xr("invalid",r)}for(var c in Te(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&xr("scroll",r));switch(n){case"input":J(r),re(r,s,!0);break;case"textarea":J(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Br)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===he&&(e=de(n)),e===he?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Zr]=r,Qa(e,t),t.stateNode=e,c=Ie(n,r),n){case"dialog":xr("cancel",e),xr("close",e),o=r;break;case"iframe":case"object":case"embed":xr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Sr.length;o++)xr(Sr[o],e);o=r;break;case"source":xr("error",e),o=r;break;case"img":case"image":case"link":xr("error",e),xr("load",e),o=r;break;case"details":xr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),xr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),xr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),xr("invalid",e);break;default:o=r}Te(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?ke(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&ve(e,h):"children"===s?"string"===typeof h?("textarea"!==n||""!==h)&&ye(e,h):"number"===typeof h&&ye(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&xr("scroll",e):null!=h&&_(e,s,h,c))}switch(n){case"input":J(e),re(e,r,!1);break;case"textarea":J(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Br)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ja(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Do(Oo.current),Do(xo.current),Ho(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(Fo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ho(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fo.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Ds||0===(134217727&Vs)&&0===(134217727&qs)||yu(Ds,js))),(r||n)&&(t.flags|=4),null);case 4:return jo(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(li(Fo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)as(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Uo(e))){for(t.flags|=64,as(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return hi(Fo,1&Fo.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Ws&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Uo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!qo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Fo.current,hi(Fo,s?1&t|2:1&t),n):null;case 23:case 24:return Eu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function us(e){switch(e.tag){case 1:vi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(jo(),li(pi),li(di),Jo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Lo(e),null;case 13:return li(Fo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fo),null;case 4:return jo(),null;case 10:return ro(e),null;case 23:case 24:return Eu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ya=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Do(xo.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Br)}for(h in Te(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(c=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&l!==c&&(null!=l||null!=c))if("style"===h)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(h,n)),n=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(h,l)):"children"===h?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&xr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===j?l.toString():(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Ja=function(e,t,n,r){n!==r&&(t.flags|=4)};var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Js||(Js=!0,$s=r),ls(0,t)},n}function ds(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xs?Xs=new Set([this]):Xs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function ms(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Bu(e,n)}else t.current=null}function gs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:$i(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(a(163))}function vs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Lu(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:$i(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&mo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}mo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&kt(n)))))}throw Error(a(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(Ti&&"function"===typeof Ti.onCommitFiberUnmount)try{Ti.onCommitFiberUnmount(Ei,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Lu(t,n);else{r=t;try{i()}catch(o){Bu(r,o)}}n=n.next}while(n!==e)}break;case 1:if(ms(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Bu(t,o)}break;case 5:ms(t);break;case 4:Is(e,t)}}function _s(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function ks(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Es(e,n,t):Ts(e,n,t)}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Br));else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Ts(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ts(e,t,n),e=e.sibling;null!==e;)Ts(e,t,n),e=e.sibling}function Is(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ss(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?ke(n,u):"dangerouslySetInnerHTML"===s?ve(n,u):"children"===s?ye(n,u):_(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,kt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ks=zi(),ys(t.child,!0)),void Ns(t);case 19:return void Ns(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(a(163))}function Ns(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=qu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var As=Math.ceil,xs=w.ReactCurrentDispatcher,Rs=w.ReactCurrentOwner,Os=0,Ds=null,Ps=null,js=0,Ms=0,Ls=ci(0),Fs=0,Us=null,Bs=0,Vs=0,qs=0,zs=0,Gs=null,Ks=0,Ws=1/0;function Hs(){Ws=zi()+500}var Qs,Ys=null,Js=!1,$s=null,Xs=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,ou=0,au=null,su=-1,uu=0,cu=0,lu=null,hu=!1;function fu(){return 0!==(48&Os)?zi():-1!==su?su:su=zi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Gi()?1:2;if(0===uu&&(uu=Bs),0!==Ji.transition){0!==cu&&(cu=null!==Gs?Gs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Gi(),0!==(4&Os)&&98===e?e=Bt(12,uu):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(e=mu(e,t)))return null;zt(e,t,n),e===Ds&&(qs|=t,4===Fs&&yu(e,js));var r=Gi();1===t?0!==(8&Os)&&0===(48&Os)?bu(e):(gu(e,n),0===Os&&(Hs(),Qi())):(0===(4&Os)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),gu(e,n)),Gs=e}function mu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function gu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Gt(s),c=1<<u,l=o[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Lt(c);var h=Mt;o[u]=10<=h?l+250:6<=h?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Ds?js:0),t=Mt,0===r)null!==n&&(n!==Li&&Ni(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Li&&Ni(n)}15===t?(n=bu.bind(null,e),null===Ui?(Ui=[n],Bi=Si(Oi,Yi)):Ui.push(n),n=Li):14===t?n=Hi(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Hi(n,vu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function vu(e){if(su=-1,cu=uu=0,0!==(48&Os))throw Error(a(327));var t=e.callbackNode;if(ju()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ds?js:0);if(0===n)return null;var r=n,i=Os;Os|=16;var o=Su();for(Ds===e&&js===r||(Hs(),Tu(e,r));;)try{Au();break}catch(u){Iu(e,u)}if(no(),xs.current=o,Os=i,null!==Ps?r=0:(Ds=null,js=0,r=Fs),0!==(Bs&qs))Tu(e,0);else if(0!==r){if(2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=Ut(e))&&(r=Nu(e,n))),1===r)throw t=Us,Tu(e,0),yu(e,n),gu(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Ou(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Ks+500-zi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){fu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kr(Ou.bind(null,e),r);break}Ou(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Gt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*As(n/1960))-n)){e.timeoutHandle=Kr(Ou.bind(null,e),n);break}Ou(e);break;default:throw Error(a(329))}}return gu(e,zi()),e.callbackNode===t?vu.bind(null,e):null}function yu(e,t){for(t&=~zs,t&=~qs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gt(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!==(48&Os))throw Error(a(327));if(ju(),e===Ds&&0!==(e.expiredLanes&js)){var t=js,n=Nu(e,t);0!==(Bs&qs)&&(n=Nu(e,t=Ft(e,t)))}else n=Nu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=Ut(e))&&(n=Nu(e,t))),1===n)throw n=Us,Tu(e,0),yu(e,t),gu(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ou(e),gu(e,zi()),null}function _u(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(Hs(),Qi())}}function wu(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&(Hs(),Qi())}}function ku(e,t){hi(Ls,Ms),Ms|=t,Bs|=t}function Eu(){Ms=Ls.current,li(Ls)}function Tu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:jo(),li(pi),li(di),Jo();break;case 5:Lo(r);break;case 4:jo();break;case 13:case 19:li(Fo);break;case 10:ro(r);break;case 23:case 24:Eu()}n=n.return}Ds=e,Ps=Wu(e.current,null),js=Ms=Bs=t,Fs=0,Us=null,zs=qs=Vs=0}function Iu(e,t){for(;;){var n=Ps;try{if(no(),$o.current=Oa,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Zo=0,na=ta=ea=null,ia=!1,Rs.current=null,null===n||null===n.return){Fs=1,Us=t,Ps=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=js,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&Fo.current),f=a;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var m=f.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(d){var g=f.updateQueue;if(null===g){var v=new Set;v.add(c),f.updateQueue=v}else g.add(c);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=lo(-1,1);y.tag=2,ho(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new hs,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var _=Vu.bind(null,o,c,s);c.then(_,_)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((H(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,t&=-t,f.lanes|=t,fo(f,fs(0,o,t));break e;case 1:o=u;var w=f.type,k=f.stateNode;if(0===(64&f.flags)&&("function"===typeof w.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Xs||!Xs.has(k)))){f.flags|=4096,t&=-t,f.lanes|=t,fo(f,ds(f,o,t));break e}}f=f.return}while(null!==f)}Ru(n)}catch(E){t=E,Ps===n&&null!==n&&(Ps=n=n.return);continue}break}}function Su(){var e=xs.current;return xs.current=Oa,null===e?Oa:e}function Nu(e,t){var n=Os;Os|=16;var r=Su();for(Ds===e&&js===t||Tu(e,t);;)try{Cu();break}catch(i){Iu(e,i)}if(no(),Os=n,xs.current=r,null!==Ps)throw Error(a(261));return Ds=null,js=0,Fs}function Cu(){for(;null!==Ps;)xu(Ps)}function Au(){for(;null!==Ps&&!Ci();)xu(Ps)}function xu(e){var t=Qs(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Ru(e):Ps=t,Rs.current=null}function Ru(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Ps=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ps=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ps=t);Ps=t=e}while(null!==t);0===Fs&&(Fs=5)}function Ou(e){var t=Gi();return Wi(99,Du.bind(null,e,t)),null}function Du(e,t){do{ju()}while(null!==eu);if(0!==(48&Os))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-Gt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ds&&(Ps=Ds=null,js=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Os,Os|=32,Rs.current=null,Vr=Yt,vr(s=gr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(S){u=null;break e}var h=0,f=-1,d=-1,p=0,m=0,g=s,v=null;t:for(;;){for(var y;g!==u||0!==o&&3!==g.nodeType||(f=h+o),g!==c||0!==l&&3!==g.nodeType||(d=h+l),3===g.nodeType&&(h+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===s)break t;if(v===u&&++p===o&&(f=h),v===c&&++m===l&&(d=h),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}u=-1===f||-1===d?null:{start:f,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;qr={focusedElem:s,selectionRange:u},Yt=!1,lu=null,hu=!1,Ys=r;do{try{Pu()}catch(S){if(null===Ys)throw Error(a(330));Bu(Ys,S),Ys=Ys.nextEffect}}while(null!==Ys);lu=null,Ys=r;do{try{for(s=e;null!==Ys;){var b=Ys.flags;if(16&b&&ye(Ys.stateNode,""),128&b){var _=Ys.alternate;if(null!==_){var w=_.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:ks(Ys),Ys.flags&=-3;break;case 6:ks(Ys),Ys.flags&=-3,Ss(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Ss(Ys.alternate,Ys);break;case 4:Ss(Ys.alternate,Ys);break;case 8:Is(s,u=Ys);var k=u.alternate;_s(u),null!==k&&_s(k)}Ys=Ys.nextEffect}}catch(S){if(null===Ys)throw Error(a(330));Bu(Ys,S),Ys=Ys.nextEffect}}while(null!==Ys);if(w=qr,_=gr(),b=w.focusedElem,s=w.selectionRange,_!==b&&b&&b.ownerDocument&&mr(b.ownerDocument.documentElement,b)){null!==s&&vr(b)&&(_=s.start,void 0===(w=s.end)&&(w=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(w,b.value.length)):(w=(_=b.ownerDocument||document)&&_.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,k=Math.min(s.start,u),s=void 0===s.end?k:Math.min(s.end,u),!w.extend&&k>s&&(u=s,s=k,k=u),u=pr(b,k),o=pr(b,s),u&&o&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((_=_.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),k>s?(w.addRange(_),w.extend(o.node,o.offset)):(_.setEnd(o.node,o.offset),w.addRange(_))))),_=[];for(w=b;w=w.parentNode;)1===w.nodeType&&_.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<_.length;b++)(w=_[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!Vr,qr=Vr=null,e.current=n,Ys=r;do{try{for(b=e;null!==Ys;){var E=Ys.flags;if(36&E&&vs(b,Ys.alternate,Ys),128&E){_=void 0;var T=Ys.ref;if(null!==T){var I=Ys.stateNode;Ys.tag,_=I,"function"===typeof T?T(_):T.current=_}}Ys=Ys.nextEffect}}catch(S){if(null===Ys)throw Error(a(330));Bu(Ys,S),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Fi(),Os=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((E=Ys).sibling=null,E.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&(Xs=null),1===r?e===au?ou++:(ou=0,au=e):ou=0,n=n.stateNode,Ti&&"function"===typeof Ti.onCommitFiberRoot)try{Ti.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(S){}if(gu(e,zi()),Js)throw Js=!1,e=$s,$s=null,e;return 0!==(8&Os)||Qi(),null}function Pu(){for(;null!==Ys;){var e=Ys.alternate;hu||null===lu||(0!==(8&Ys.flags)?et(Ys,lu)&&(hu=!0):13===Ys.tag&&Cs(e,Ys)&&et(Ys,lu)&&(hu=!0));var t=Ys.flags;0!==(256&t)&&gs(e,Ys),0===(512&t)||Zs||(Zs=!0,Hi(97,(function(){return ju(),null}))),Ys=Ys.nextEffect}}function ju(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Wi(e,Fu)}return!1}function Mu(e,t){nu.push(t,e),Zs||(Zs=!0,Hi(97,(function(){return ju(),null})))}function Lu(e,t){ru.push(t,e),Zs||(Zs=!0,Hi(97,(function(){return ju(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Os))throw Error(a(331));var t=Os;Os|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));Bu(o,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));Bu(o,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Os=t,Qi(),!0}function Uu(e,t,n){ho(e,t=fs(0,t=cs(n,t),1)),t=fu(),null!==(e=mu(e,1))&&(zt(e,1,t),gu(e,t))}function Bu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r))){var i=ds(n,e=cs(t,e),1);if(ho(n,i),i=fu(),null!==(n=mu(n,1)))zt(n,1,i),gu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Vu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=fu(),e.pingedLanes|=e.suspendedLanes&n,Ds===e&&(js&n)===n&&(4===Fs||3===Fs&&(62914560&js)===js&&500>zi()-Ks?Tu(e,0):zs|=n),gu(e,t)}function qu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Gi()?1:2:(0===uu&&(uu=Bs),0===(t=Vt(62914560&~uu))&&(t=4194304))),n=fu(),null!==(e=mu(e,t))&&(zt(e,t,n),gu(e,n))}function zu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Gu(e,t,n,r){return new zu(e,t,n,r)}function Ku(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wu(e,t){var n=e.alternate;return null===n?((n=Gu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Ku(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case T:return Qu(n.children,i,o,t);case M:s=8,i|=16;break;case I:s=8,i|=1;break;case S:return(e=Gu(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=o,e;case x:return(e=Gu(13,n,t,i)).type=x,e.elementType=x,e.lanes=o,e;case R:return(e=Gu(19,n,t,i)).elementType=R,e.lanes=o,e;case L:return Yu(n,i,o,t);case F:return(e=Gu(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:s=10;break e;case C:s=9;break e;case A:s=11;break e;case O:s=14;break e;case D:s=16,r=null;break e;case P:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Gu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Qu(e,t,n,r){return(e=Gu(7,e,r,t)).lanes=n,e}function Yu(e,t,n,r){return(e=Gu(23,e,r,t)).elementType=L,e.lanes=n,e}function Ju(e,t,n){return(e=Gu(6,e,null,t)).lanes=n,e}function $u(e,t,n){return(t=Gu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,o=fu(),s=du(i);e:if(n){t:{if(Je(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(vi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(vi(c)){n=_i(n,c,u);break e}}n=u}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ho(i,t),pu(i,s,o),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xu(e,t,null!=n&&!0===n.hydrate),t=Gu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,uo(t),e[ei]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(a);s.call(e)}}ec(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(a);u.call(e)}}wu((function(){ec(t,a,e,i)}))}return tc(a)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(a(200));return Zu(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)La=!0;else{if(0===(n&r)){switch(La=!1,t.tag){case 3:Ha(t),Qo();break;case 5:Mo(t);break;case 1:vi(t.type)&&wi(t);break;case 4:Po(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;hi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xa(e,t,n):(hi(Fo,1&Fo.current),null!==(t=os(e,t,n))?t.sibling:null);hi(Fo,1&Fo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),hi(Fo,Fo.current),r)break;return null;case 23:case 24:return t.lanes=0,qa(e,t,n)}return os(e,t,n)}La=0!==(16384&e.flags)}else La=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=gi(t,di.current),oo(t,n),i=sa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vi(r)){var o=!0;wi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&vo(t,r,s,e),i.updater=yo,t.stateNode=i,i._reactInternals=t,ko(t,r,e,n),t=Wa(null,t,r,!0,o,n)}else t.tag=0,Fa(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Ku(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===O)return 14}return 2}(i),e=$i(i,e),o){case 0:t=Ga(null,t,i,e,n);break e;case 1:t=Ka(null,t,i,e,n);break e;case 11:t=Ua(null,t,i,e,n);break e;case 14:t=Ba(null,t,i,$i(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ga(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ka(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 3:if(Ha(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Qo(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Vo=Qr(t.stateNode.containerInfo.firstChild),Bo=t,o=qo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Yo.push(o);for(n=Co(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fa(e,t,r,n),Qo();t=t.child}return t;case 5:return Mo(t),null===e&&Ko(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Gr(r,i)?s=null:null!==o&&Gr(r,o)&&(t.flags|=16),za(e,t),Fa(e,t,s,n),t.child;case 6:return null===e&&Ko(t),null;case 13:return Xa(e,t,n);case 4:return Po(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=No(t,null,r,n):Fa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ua(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 7:return Fa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(hi(Xi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=lr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!pi.current){t=os(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=lo(-1,n&-n)).tag=2,ho(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),io(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,Fa(e,t,r,n),t.child;case 14:return o=$i(i=t.type,t.pendingProps),Ba(e,t,i,o=$i(i.type,o),r,n);case 15:return Va(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$i(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,vi(r)?(e=!0,wi(t)):e=!1,oo(t,n),_o(t,r,i),ko(t,r,i,n),Wa(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return qa(e,t,n)}throw Error(a(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,fu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,fu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=fu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ne=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));$(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},De=_u,Pe=function(e,t,n,r,i){var o=Os;Os|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Os=o)&&(Hs(),Qi())}},je=function(){0===(49&Os)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,gu(e,zi())}))}Qi()}(),ju())},Me=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(Hs(),Qi())}};var uc={Events:[ri,ii,oi,Re,Oe,ju,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{Ei=hc.inject(lc),Ti=hc}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Os;if(0!==(48&n))return e(t);Os|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Os=n,Qi()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(a(40));return!!e._reactRootContainer&&(wu((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=_u,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ac(e,t,n,!1,r)},t.version="17.0.1"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},459:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case g:case m:case u:return e;default:return t}}case i:return t}}}function k(e){return w(e)===h}t.isContextConsumer=function(e){return w(e)===c}},900:function(e,t,n){"use strict";e.exports=n(459)},195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case g:case m:case u:return e;default:return t}}case i:return t}}}function k(e){return w(e)===h}},228:function(e,t,n){"use strict";n(195)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),l=h("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,r(b,g.prototype),b.isPureReactComponent=!0;var _={current:null},w=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!k.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:_.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+S(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),N(a,t,n,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(s=e[c],c);u+=N(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,n,l=r+S(s,c++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var x={current:null};function R(){var e=x.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error(d(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!k.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.1"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,h=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,v=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,w=_.port2;_.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+y;try{g(!0,e)?w.postMessage(null):(m=!1,g=null)}catch(n){throw w.postMessage(null),n}}else m=!1},n=function(e){g=e,m||(m=!0,w.postMessage(null))},r=function(e,n){v=f((function(){e(t.unstable_now())}),n)},i=function(){d(v),v=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>I(a,n))void 0!==u&&0>I(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>I(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],N=[],C=1,A=null,x=3,R=!1,O=!1,D=!1;function P(e){for(var t=E(N);null!==t;){if(null===t.callback)T(N);else{if(!(t.startTime<=e))break;T(N),t.sortIndex=t.expirationTime,k(S,t)}t=E(N)}}function j(e){if(D=!1,P(e),!O)if(null!==E(S))O=!0,n(M);else{var t=E(N);null!==t&&r(j,t.startTime-e)}}function M(e,n){O=!1,D&&(D=!1,i()),R=!0;var o=x;try{for(P(n),A=E(S);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=A.callback;if("function"===typeof a){A.callback=null,x=A.priorityLevel;var s=a(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?A.callback=s:A===E(S)&&T(S),P(n)}else T(S);A=E(S)}if(null!==A)var u=!0;else{var c=E(N);null!==c&&r(j,c.startTime-n),u=!1}return u}finally{A=null,x=o,R=!1}}var L=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||R||(O=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return E(S)},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var n=x;x=t;try{return e()}finally{x=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=L,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=x;x=e;try{return t()}finally{x=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,k(N,e),null===E(S)&&e===E(N)&&(D?i():D=!0,r(j,a-s))):(e.sortIndex=u,k(S,e),O||R||(O=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=x;return function(){var n=x;x=t;try{return e.apply(this,arguments)}finally{x=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},388:function(e,t,n){"use strict";n.r(t),n.d(t,{__assign:function(){return o},__asyncDelegator:function(){return w},__asyncGenerator:function(){return _},__asyncValues:function(){return k},__await:function(){return b},__awaiter:function(){return l},__classPrivateFieldGet:function(){return N},__classPrivateFieldIn:function(){return A},__classPrivateFieldSet:function(){return C},__createBinding:function(){return f},__decorate:function(){return s},__exportStar:function(){return d},__extends:function(){return i},__generator:function(){return h},__importDefault:function(){return S},__importStar:function(){return I},__makeTemplateObject:function(){return E},__metadata:function(){return c},__param:function(){return u},__read:function(){return m},__rest:function(){return a},__spread:function(){return g},__spreadArray:function(){return y},__spreadArrays:function(){return v},__values:function(){return p}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var f=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function d(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof b?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function k(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var T=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return T(t,e),t}function S(e){return e&&e.__esModule?e:{default:e}}function N(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function C(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function A(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/6thsense2022/",function(){"use strict";var e={};n.r(e),n.d(e,{addTrackers:function(){return B_},default:function(){return Z_},event:function(){return Q_},exception:function(){return Y_},ga:function(){return q_},initialize:function(){return V_},modalview:function(){return W_},outboundLink:function(){return $_},pageview:function(){return K_},plugin:function(){return J_},send:function(){return G_},set:function(){return z_},testModeAPI:function(){return X_},timing:function(){return H_}});var t=n(791),r=n.t(t,2),i=n(164),o=n(7),a=n.n(o),s=t.createContext(null);var u=function(e){e()},c=function(){return u},l={notify:function(){}};var h=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=l,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var e=c(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=l)},e}(),f="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?t.useLayoutEffect:t.useEffect;var d=function(e){var n=e.store,r=e.context,i=e.children,o=(0,t.useMemo)((function(){var e=new h(n);return e.onStateChange=e.notifyNestedSubs,{store:n,subscription:e}}),[n]),a=(0,t.useMemo)((function(){return n.getState()}),[n]);f((function(){var e=o.subscription;return e.trySubscribe(),a!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,a]);var u=r||s;return t.createElement(u.Provider,{value:o},i)};function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var g=n(110),v=n.n(g),y=n(900),b=[],_=[null,null];function w(e,t){var n=e[1];return[t.payload,n+1]}function k(e,t,n){f((function(){return e.apply(void 0,t)}),n)}function E(e,t,n,r,i,o,a){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,a())}function T(e,t,n,r,i,o,a,s,u,c){if(e){var l=!1,h=null,f=function(){if(!l){var e,n,f=t.getState();try{e=r(f,i.current)}catch(Cp){n=Cp,h=Cp}n||(h=null),e===o.current?a.current||u():(o.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=f,n.trySubscribe(),f();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}}var I=function(){return[null,0]};function S(e,n){void 0===n&&(n={});var r=n,i=r.getDisplayName,o=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,a=r.methodName,u=void 0===a?"connectAdvanced":a,c=r.renderCountProp,l=void 0===c?void 0:c,f=r.shouldHandleStateChanges,d=void 0===f||f,g=r.storeKey,S=void 0===g?"store":g,N=(r.withRef,r.forwardRef),C=void 0!==N&&N,A=r.context,x=void 0===A?s:A,R=m(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),O=x;return function(n){var r=n.displayName||n.name||"Component",i=o(r),a=p({},R,{getDisplayName:o,methodName:u,renderCountProp:l,shouldHandleStateChanges:d,storeKey:S,displayName:i,wrappedComponentName:r,WrappedComponent:n}),s=R.pure;var c=s?t.useMemo:function(e){return e()};function f(r){var i=(0,t.useMemo)((function(){var e=r.reactReduxForwardedRef,t=m(r,["reactReduxForwardedRef"]);return[r.context,e,t]}),[r]),o=i[0],s=i[1],u=i[2],l=(0,t.useMemo)((function(){return o&&o.Consumer&&(0,y.isContextConsumer)(t.createElement(o.Consumer,null))?o:O}),[o,O]),f=(0,t.useContext)(l),g=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(f)&&Boolean(f.store);var v=g?r.store:f.store,S=(0,t.useMemo)((function(){return function(t){return e(t.dispatch,a)}(v)}),[v]),N=(0,t.useMemo)((function(){if(!d)return _;var e=new h(v,g?null:f.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[v,g,f]),C=N[0],A=N[1],x=(0,t.useMemo)((function(){return g?f:p({},f,{subscription:C})}),[g,f,C]),R=(0,t.useReducer)(w,b,I),D=R[0][0],P=R[1];if(D&&D.error)throw D.error;var j=(0,t.useRef)(),M=(0,t.useRef)(u),L=(0,t.useRef)(),F=(0,t.useRef)(!1),U=c((function(){return L.current&&u===M.current?L.current:S(v.getState(),u)}),[v,D,u]);k(E,[M,j,F,u,U,L,A]),k(T,[d,v,C,S,M,j,F,L,A,P],[v,C,S]);var B=(0,t.useMemo)((function(){return t.createElement(n,p({},U,{ref:s}))}),[s,n,U]);return(0,t.useMemo)((function(){return d?t.createElement(l.Provider,{value:x},B):B}),[l,B,x])}var g=s?t.memo(f):f;if(g.WrappedComponent=n,g.displayName=f.displayName=i,C){var N=t.forwardRef((function(e,n){return t.createElement(g,p({},e,{reactReduxForwardedRef:n}))}));return N.displayName=i,N.WrappedComponent=n,v()(N,n)}return v()(g,n)}}function N(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function C(e,t){if(N(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!N(e[n[i]],t[n[i]]))return!1;return!0}function A(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function x(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function R(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=x(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=x(i),i=r(t,n)),i},r}}var O=[function(e){return"function"===typeof e?R(e):void 0},function(e){return e?void 0:A((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?A((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];var D=[function(e){return"function"===typeof e?R(e):void 0},function(e){return e?void 0:A((function(){return{}}))}];function P(e,t,n){return p({},n,e,t)}var j=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var u=e(t,n,s);return a?i&&o(u,r)||(r=u):(a=!0,r=u),r}}}(e):void 0},function(e){return e?void 0:function(){return P}}];function M(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function L(e,t,n,r,i){var o,a,s,u,c,l=i.areStatesEqual,h=i.areOwnPropsEqual,f=i.areStatePropsEqual,d=!1;function p(i,d){var p=!h(d,a),m=!l(i,o);return o=i,a=d,p&&m?(s=e(o,a),t.dependsOnOwnProps&&(u=t(r,a)),c=n(s,u,a)):p?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(u=t(r,a)),c=n(s,u,a)):m?function(){var t=e(o,a),r=!f(t,s);return s=t,r&&(c=n(s,u,a)),c}():c}return function(i,l){return d?p(i,l):(s=e(o=i,a=l),u=t(r,a),c=n(s,u,a),d=!0,c)}}function F(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=m(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,o),s=r(e,o),u=i(e,o);return(o.pure?L:M)(a,s,u,e,o)}function U(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function B(e,t){return e===t}function V(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?S:n,i=t.mapStateToPropsFactories,o=void 0===i?D:i,a=t.mapDispatchToPropsFactories,s=void 0===a?O:a,u=t.mergePropsFactories,c=void 0===u?j:u,l=t.selectorFactory,h=void 0===l?F:l;return function(e,t,n,i){void 0===i&&(i={});var a=i,u=a.pure,l=void 0===u||u,f=a.areStatesEqual,d=void 0===f?B:f,g=a.areOwnPropsEqual,v=void 0===g?C:g,y=a.areStatePropsEqual,b=void 0===y?C:y,_=a.areMergedPropsEqual,w=void 0===_?C:_,k=m(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),E=U(e,o,"mapStateToProps"),T=U(t,s,"mapDispatchToProps"),I=U(n,c,"mergeProps");return r(h,p({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:E,initMapDispatchToProps:T,initMergeProps:I,pure:l,areStatesEqual:d,areOwnPropsEqual:v,areStatePropsEqual:b,areMergedPropsEqual:w},k))}}var q=V();var z;z=i.unstable_batchedUpdates,u=z;var G=n(637);(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,n){if(n){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[e=e[e.length-1]]))!=o&&null!=n&&t(i,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=r.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(ne){this.f(ne)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(ne){n.reject(ne)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(Er){o(Er)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=o(e),a=r.next();!a.done;a=r.next())i(a.value).Ra(t,n)}))},t.all=function(e){var n=o(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Ra(o(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""}function h(){}function f(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function d(e){var t=f(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==f(e)}function m(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function g(e){return Object.prototype.hasOwnProperty.call(e,v)&&e[v]||(e[v]=++y)}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function w(e,t,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:_).apply(null,arguments)}function k(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var E=Date.now;function T(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function I(e){return e}function S(e,t,n){this.code=A+e,this.message=t||x[e]||"",this.a=n||null}function N(e){var t=e&&e.code;return t?new S(t.substring(A.length),e.message,e.serverResponse):null}T(S,Error),S.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},S.prototype.toJSON=function(){return this.w()};var C,A="auth/",x={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},R={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function O(e){for(var t in R)if(R[t].id===e)return{firebaseEndpoint:(e=R[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function D(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function P(e){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function j(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");P.call(this,n+e[r])}function M(e,t){throw new j("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function L(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function F(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function U(){this.b=this.a=null}C=O("__EID__")?"__EID__":void 0,T(P,Error),P.prototype.name="CustomError",T(j,P),j.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var B=new L((function(){return new q}),(function(e){e.reset()}));function V(){var e=wt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function q(){this.next=this.b=this.a=null}U.prototype.add=function(e,t){var n=B.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},K=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var W=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},H=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},Q=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function Y(e,t){return 0<=z(e,t)}function J(e,t){var n;return(n=0<=(t=z(e,t)))&&Array.prototype.splice.call(e,t,1),n}function $(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function X(e){return Array.prototype.concat.apply([],arguments)}function Z(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var ee,te=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},re=/&/g,ie=/</g,oe=/>/g,ae=/"/g,se=/'/g,ue=/\x00/g,ce=/[\x00&<>"']/;function le(e,t){return-1!=e.indexOf(t)}function he(e,t){return e<t?-1:e>t?1:0}e:{var fe=s.navigator;if(fe){var de=fe.userAgent;if(de){ee=de;break e}}ee=""}function pe(e){return le(ee,e)}function me(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function ge(e){for(var t in e)return!1;return!0}function ve(e){var t,n={};for(t in e)n[t]=e[t];return n}var ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function be(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ye.length;o++)n=ye[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _e(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(m(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function we(e,t){this.a=e===Ie&&t||"",this.b=Te}function ke(e){return e instanceof we&&e.constructor===we&&e.b===Te?e.a:(M("expected object of type Const, got '"+e+"'"),"type_error:Const")}we.prototype.ta=!0,we.prototype.sa=function(){return this.a},we.prototype.toString=function(){return"Const{"+this.a+"}"};var Ee,Te={},Ie={};function Se(){if(void 0===Ee){var e=null,t=s.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:I,createScript:I,createScriptURL:I})}catch(n){s.console&&s.console.error(n.message)}Ee=e}else Ee=e}return Ee}function Ne(e,t){this.a=t===Oe?e:""}function Ce(e){return e instanceof Ne&&e.constructor===Ne?e.a:(M("expected object of type TrustedResourceUrl, got '"+e+"' of type "+f(e)),"type_error:TrustedResourceUrl")}function Ae(e,t){var n=ke(e);if(!Re.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=Se();return new Ne(e=t?t.createScriptURL(e):e,Oe)}(e=n.replace(xe,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof we?ke(e):encodeURIComponent(String(e))})))}Ne.prototype.ta=!0,Ne.prototype.sa=function(){return this.a.toString()},Ne.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var xe=/%{(\w+)}/g,Re=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Oe={};function De(e,t){this.a=t===Be?e:""}function Pe(e){return e instanceof De&&e.constructor===De?e.a:(M("expected object of type SafeUrl, got '"+e+"' of type "+f(e)),"type_error:SafeUrl")}De.prototype.ta=!0,De.prototype.sa=function(){return this.a.toString()},De.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var je=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Me=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Le=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Fe(e){if(e instanceof De)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),Le.test(e))e=new De(e,Be);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Me);e=t&&je.test(t[1])?new De(e,Be):null}return e}function Ue(e){return e instanceof De?e:(e="object"==typeof e&&e.ta?e.sa():String(e),Le.test(e)||(e="about:invalid#zClosurez"),new De(e,Be))}var Be={},Ve=new De("about:invalid#zClosurez",Be);function qe(e,t,n){this.a=n===ze?e:""}qe.prototype.ta=!0,qe.prototype.sa=function(){return this.a.toString()},qe.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var ze={};function Ge(e,t,n,r){return e=e instanceof De?e:Ue(e),t=t||s,n=n instanceof we?ke(n):n||"",t.open(Pe(e),n,r,void 0)}function Ke(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function We(e){return ce.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(re,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(ie,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(oe,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ae,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(se,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ue,"&#0;"))),e}function He(e){return He[" "](e),e}He[" "]=h;var Qe,Ye=pe("Opera"),Je=pe("Trident")||pe("MSIE"),$e=pe("Edge"),Xe=$e||Je,Ze=pe("Gecko")&&!(le(ee.toLowerCase(),"webkit")&&!pe("Edge"))&&!(pe("Trident")||pe("MSIE"))&&!pe("Edge"),et=le(ee.toLowerCase(),"webkit")&&!pe("Edge");function tt(){var e=s.document;return e?e.documentMode:void 0}e:{var nt="",rt=function(){var e=ee;return Ze?/rv:([^\);]+)(\)|;)/.exec(e):$e?/Edge\/([\d\.]+)/.exec(e):Je?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):et?/WebKit\/(\S+)/.exec(e):Ye?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(rt&&(nt=rt?rt[1]:""),Je){var it=tt();if(null!=it&&it>parseFloat(nt)){Qe=String(it);break e}}Qe=nt}var ot,at={};function st(e){return function(e,t){var n=at;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=te(String(Qe)).split("."),r=te(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=he(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||he(0==a[2].length,0==s[2].length)||he(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(s.document&&Je){var ut=tt();ot=ut||(parseInt(Qe,10)||void 0)}else ot=void 0;var ct=ot;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(pa){}var lt=!Je||9<=Number(ct);function ht(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function ft(e,t){me(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:mt.hasOwnProperty(n)?e.setAttribute(mt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var dt,pt,mt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function gt(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||m(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(m(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}K(a?Z(o):o,r)}}}function vt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function yt(e){s.setTimeout((function(){throw e}),0)}function bt(e,t){pt||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);pt=function(){e.then(kt)}}else pt=function(){var e=kt;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!pe("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(dt||(dt=function(){var e=s.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!pe("Presto")&&(e=function(){var e=vt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=w((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!pe("Trident")&&!pe("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){s.setTimeout(e,0)}}()),dt(e)):s.setImmediate(e)}}(),_t||(pt(),_t=!0),wt.add(e,t)}var _t=!1,wt=new U;function kt(){for(var e;e=V();){try{e.a.call(e.b)}catch(t){yt(t)}F(B,e)}_t=!1}function Et(e,t){if(this.a=Tt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){Lt(n,It,e)}),(function(e){if(!(e instanceof Gt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(Cp){}Lt(n,St,e)}))}catch(r){Lt(this,St,r)}}var Tt=0,It=2,St=3;function Nt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Nt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ct=new L((function(){return new Nt}),(function(e){e.reset()}));function At(e,t,n){var r=Ct.get();return r.g=e,r.b=t,r.f=n,r}function xt(e){if(e instanceof Et)return e;var t=new Et(h);return Lt(t,It,e),t}function Rt(e){return new Et((function(t,n){n(e)}))}function Ot(e,t,n){Ft(e,t,n,null)||bt(k(t,e))}function Dt(e){return new Et((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Ot(e[o],k(i,o,!0),k(i,o,!1));else t(r)}))}function Pt(e,t){if(e.a==Tt)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Tt&&1==r?Pt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Bt(n),Vt(n,i,St,t)))}e.c=null}else Lt(e,St,t)}function jt(e,t){e.b||e.a!=It&&e.a!=St||Ut(e),e.f?e.f.next=t:e.b=t,e.f=t}function Mt(e,t,n,r){var i=At(null,null,null);return i.a=new Et((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(ne){o(ne)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Gt?o(t):e(i)}catch(ne){o(ne)}}:o})),i.a.c=e,jt(e,i),i.a}function Lt(e,t,n){e.a==Tt&&(e===n&&(t=St,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Ft(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Ut(e),t!=St||n instanceof Gt||function(e,t){e.g=!0,bt((function(){e.g&&zt.call(null,t)}))}(e,n)))}function Ft(e,t,n,r){if(e instanceof Et)return jt(e,At(t||h,n||null,r)),!0;if(D(e))return e.then(t,n,r),!0;if(m(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(u){o(u)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Ut(e){e.h||(e.h=!0,bt(e.gc,e))}function Bt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Vt(e,t,n,r){if(n==St&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,qt(t,n,r);else try{t.c?t.g.call(t.f):qt(t,n,r)}catch(Cp){zt.call(null,Cp)}F(Ct,t)}function qt(e,t,n){t==It?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}Et.prototype.then=function(e,t,n){return Mt(this,p(e)?e:null,p(t)?t:null,n)},Et.prototype.$goog_Thenable=!0,(e=Et.prototype).oa=function(e,t){return(e=At(e,e,t)).c=!0,jt(this,e),this},e.o=function(e,t){return Mt(this,null,e,t)},e.cancel=function(e){if(this.a==Tt){var t=new Gt(e);bt((function(){Pt(this,t)}),this)}},e.$c=function(e){this.a=Tt,Lt(this,It,e)},e.ad=function(e){this.a=Tt,Lt(this,St,e)},e.gc=function(){for(var e;e=Bt(this);)Vt(this,e,this.a,this.i);this.h=!1};var zt=yt;function Gt(e){P.call(this,e)}function Kt(){0!=Wt&&(Ht[g(this)]=this),this.ya=this.ya,this.pa=this.pa}T(Gt,P),Gt.prototype.name="cancel";var Wt=0,Ht={};function Qt(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Wt)){var t=g(e);if(0!=Wt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ht[t]}}Kt.prototype.ya=!1,Kt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Yt=Object.freeze||function(e){return e},Jt=!Je||9<=Number(ct),$t=Je&&!st("9"),Xt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",h,t),s.removeEventListener("test",h,t)}catch(n){}return e}();function Zt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function en(e,t){if(Zt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Ze){e:{try{He(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:tn[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Zt.prototype.preventDefault=function(){this.defaultPrevented=!0},T(en,Zt);var tn=Yt({2:"touch",3:"pen",4:"mouse"});en.prototype.preventDefault=function(){en.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,$t)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},en.prototype.g=function(){return this.a};var nn="closure_listenable_"+(1e6*Math.random()|0),rn=0;function on(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++rn,this.wa=this.Qa=!1}function an(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function sn(e){this.src=e,this.a={},this.b=0}function un(e,t){var n=t.type;n in e.a&&J(e.a[n],t)&&(an(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function cn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}sn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=cn(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new on(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var ln="closure_lm_"+(1e6*Math.random()|0),hn={};function fn(e,t,n,r,i){if(r&&r.once)pn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)fn(e,t[o],n,r,i);else n=En(n),e&&e[nn]?In(e,t,n,m(r)?!!r.capture:!!r,i):dn(e,t,n,!1,r,i)}function dn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=m(i)?!!i.capture:!!i,s=wn(e);if(s||(e[ln]=s=new sn(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=_n,t=Jt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Xt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(vn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function pn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)pn(e,t[o],n,r,i);else n=En(n),e&&e[nn]?Sn(e,t,n,m(r)?!!r.capture:!!r,i):dn(e,t,n,!0,r,i)}function mn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)mn(e,t[o],n,r,i);else r=m(r)?!!r.capture:!!r,n=En(n),e&&e[nn]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=cn(o=e.a[t],n,r,i))&&(an(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=wn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=cn(t,n,r,i)),(n=-1<e?t[e]:null)&&gn(n))}function gn(e){if("number"!==typeof e&&e&&!e.wa){var t=e.src;if(t&&t[nn])un(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(vn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=wn(t))?(un(n,e),0==n.b&&(n.src=null,t[ln]=null)):an(e)}}}function vn(e){return e in hn?hn[e]:hn[e]="on"+e}function yn(e,t,n,r){var i=!0;if((e=wn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=bn(o,r),i=i&&!1!==o)}return i}function bn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&gn(e),n.call(r,t)}function _n(e,t){if(e.wa)return!0;if(!Jt){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new en(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=yn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=yn(r[i],e,!1,t),n=n&&o}return n}return bn(e,new en(t,this))}function wn(e){return(e=e[ln])instanceof sn?e:null}var kn="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(e){return p(e)?e:(e[kn]||(e[kn]=function(t){return e.handleEvent(t)}),e[kn])}function Tn(){Kt.call(this),this.v=new sn(this),this.bc=this,this.hb=null}function In(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function Sn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Nn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&un(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Cn(e,t,n){if(p(e))n&&(e=w(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=w(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function An(e){var t=null;return new Et((function(n,r){-1==(t=Cn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw s.clearTimeout(t),e}))}function xn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"===typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Rn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(d(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function On(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof On)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Dn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Pn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Pn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Pn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}T(Tn,Kt),Tn.prototype[nn]=!0,Tn.prototype.addEventListener=function(e,t,n,r){fn(this,e,t,n,r)},Tn.prototype.removeEventListener=function(e,t,n,r){mn(this,e,t,n,r)},Tn.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"===typeof e)e=new Zt(e,n);else if(e instanceof Zt)e.target=e.target||n;else{var i=e;be(e=new Zt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Nn(a,r,!0,e)&&i}if(i=Nn(a=e.b=n,r,!0,e)&&i,i=Nn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Nn(a=e.b=t[o],r,!1,e)&&i;return i},Tn.prototype.Da=function(){if(Tn.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)an(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=On.prototype).X=function(){Dn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Dn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Pn(this.b,e)?this.b[e]:t},e.set=function(e,t){Pn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var jn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Mn?(this.i=void 0!==t?t:e.i,Ln(this,e.c),this.l=e.l,this.a=e.a,Fn(this,e.g),this.f=e.f,Un(this,ir(e.b)),this.h=e.h):e&&(n=String(e).match(jn))?(this.i=!!t,Ln(this,n[1]||"",!0),this.l=Gn(n[2]||""),this.a=Gn(n[3]||"",!0),Fn(this,n[4]),this.f=Gn(n[5]||"",!0),Un(this,n[6]||"",!0),this.h=Gn(n[7]||"")):(this.i=!!t,this.b=new Xn(null,this.i))}function Ln(e,t,n){e.c=n?Gn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Fn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Un(e,t,n){t instanceof Xn?(e.b=t,function(e,t){t&&!e.f&&(Zn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(tr(this,t),rr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Kn(t,Jn)),e.b=new Xn(t,e.i))}function Bn(e,t,n){e.b.set(t,n)}function Vn(e,t){return e.b.get(t)}function qn(e){return e instanceof Mn?new Mn(e):new Mn(e,void 0)}function zn(e,t,n,r){var i=new Mn(null,void 0);return e&&Ln(i,e),t&&(i.a=t),n&&Fn(i,n),r&&(i.f=r),i}function Gn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Kn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Wn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Mn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Kn(t,Hn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Kn(t,Hn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Kn(n,"/"==n.charAt(0)?Yn:Qn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Kn(n,$n)),e.join("")},Mn.prototype.resolve=function(e){var t=new Mn(this),n=!!e.c;n?Ln(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Fn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(le(i,"./")||le(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Un(t,ir(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Hn=/[#\/\?@]/g,Qn=/[#\?:]/g,Yn=/[#\?]/g,Jn=/[#\?@]/g,$n=/#/g;function Xn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Zn(e){e.a||(e.a=new On,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function er(e){var t=Rn(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Xn(null,void 0);e=xn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?rr(n,i,o):n.add(i,o)}return n}function tr(e,t){Zn(e),t=or(e,t),Pn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Pn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Dn(e)))}function nr(e,t){return Zn(e),t=or(e,t),Pn(e.a.b,t)}function rr(e,t,n){tr(e,t),0<n.length&&(e.c=null,e.a.set(or(e,t),Z(n)),e.b+=n.length)}function ir(e){var t=new Xn;return t.c=e.c,e.a&&(t.a=new On(e.a),t.b=e.b),t}function or(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function ar(e){var t=[];return ur(new sr,e,t),t.join("")}function sr(){}function ur(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),ur(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),hr(r,n),n.push(":"),ur(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":hr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=Xn.prototype).add=function(e,t){Zn(this),this.c=null,e=or(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Zn(this),this.a.forEach((function(n,r){K(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Zn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){Zn(this);var t=[];if("string"===typeof e)nr(this,e)&&(t=X(t,this.a.get(or(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=X(t,e[n])}return t},e.set=function(e,t){return Zn(this),this.c=null,nr(this,e=or(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var cr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},lr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function hr(e,t){t.push('"',e.replace(lr,(function(e){var t=cr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),cr[e]=t),t})),'"')}function fr(){var e=Dr();return Je&&!!ct&&11==ct||/Edge\/\d+/.test(e)}function dr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function pr(e,t){t=t||s.window;var n="about:blank";e&&(n=Pe(Fe(e)||Ve)),t.location.href=n}function mr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<mr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function gr(e){return!!((e=(e||Dr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function vr(e){e=e||s.window;try{e.close()}catch(t){}}function yr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Dr().toLowerCase(),r&&(t.target=r,le(n,"crios/")&&(t.target="_blank")),xr(Dr())==Cr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof De?n:Fe("undefined"!=typeof n.href?n.href:String(n))||Ve,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((pe("iPhone")&&!pe("iPod")&&!pe("iPad")||pe("iPad")||pe("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(_e(a=vt(document,"A"),"HTMLAnchorElement"),t=t instanceof De?t:Ue(t),a.href=Pe(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Ge("",r,n,a),e=Pe(t),a&&(Xe&&le(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+We(e)+'">',e=new qe(e=(r=Se())?r.createHTML(e):e,null,ze),r=a.document)&&(r.write(function(e){return e instanceof qe&&e.constructor===qe?e.a:(M("expected object of type SafeHtml, got '"+e+"' of type "+f(e)),"type_error:SafeHtml")}(e)),r.close())):(a=Ge(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var br=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_r=/^[^@]+@[^@]+$/;function wr(){var e=null;return new Et((function(t){"complete"==s.document.readyState?t():(e=function(){t()},pn(window,"load",e))})).o((function(t){throw mn(window,"load",e),t}))}function kr(e){return e=e||Dr(),!("file:"!==Fr()&&"ionic:"!==Fr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Tr(){var e=s.window;try{return!(!e||e==e.top)}catch(t){return!1}}function Ir(){return"undefined"!==typeof s.WorkerGlobalScope&&"function"===typeof s.importScripts}function Sr(){return G.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":G.default.INTERNAL.hasOwnProperty("node")?"Node":Ir()?"Worker":"Browser"}function Nr(){var e=Sr();return"ReactNative"===e||"Node"===e}var Cr="Firefox",Ar="Chrome";function xr(e){var t=e.toLowerCase();return le(t,"opera/")||le(t,"opr/")||le(t,"opios/")?"Opera":le(t,"iemobile")?"IEMobile":le(t,"msie")||le(t,"trident/")?"IE":le(t,"edge/")?"Edge":le(t,"firefox/")?Cr:le(t,"silk/")?"Silk":le(t,"blackberry")?"Blackberry":le(t,"webos")?"Webos":!le(t,"safari/")||le(t,"chrome/")||le(t,"crios/")||le(t,"android")?!le(t,"chrome/")&&!le(t,"crios/")||le(t,"edge/")?le(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Ar:"Safari"}var Rr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Or(e,t){t=t||[];var n,r=[],i={};for(n in Rr)i[Rr[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Sr())?r=xr(i=Dr()):"Worker"===r&&(r=xr(i=Dr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Dr(){return s.navigator&&s.navigator.userAgent||""}function Pr(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function jr(){try{var e=s.localStorage,t=zr();if(e)return e.setItem(t,"1"),e.removeItem(t),!fr()||!!s.indexedDB}catch(n){return Ir()&&!!s.indexedDB}return!1}function Mr(){return(Lr()||"chrome-extension:"===Fr()||kr())&&!Nr()&&jr()&&!Ir()}function Lr(){return"http:"===Fr()||"https:"===Fr()}function Fr(){return s.location&&s.location.protocol||null}function Ur(e){return!gr(e=e||Dr())&&xr(e)!=Cr}function Br(e){return"undefined"===typeof e?null:ar(e)}function Vr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function qr(e){if(null!==e)return JSON.parse(e)}function zr(e){return e||Math.floor(1e9*Math.random()).toString()}function Gr(e){return"Safari"!=xr(e=e||Dr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Kr(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Wr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Dr(),t=Sr(),this.b=gr(e)||"ReactNative"===t}function Hr(){var e=s.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Qr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Yr(){return!(!Pr("fireauth.oauthhelper",s)&&!Pr("fireauth.iframe",s))}Wr.prototype.get=function(){var e=s.navigator;return!e||"boolean"!==typeof e.onLine||!Lr()&&"chrome-extension:"!==Fr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Jr,$r={};function Xr(e){$r[e]||($r[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var Zr={};Object.defineProperty(Zr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Zr,"abcd",{configurable:!0,enumerable:!0,value:2}),Jr=2==Zr.abcd}catch(pa){Jr=!1}function ei(e,t,n){Jr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function ti(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&ei(e,n,t[n])}function ni(e){var t={};return ti(t,e),t}function ri(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)ei(t,n,ri(e[n]));return t}function ii(e){var t=e&&(e[ci]?"phone":null);if(!(t&&e&&e[ui]))throw new S("internal-error","Internal assert: invalid MultiFactorInfo object");ei(this,"uid",e[ui]),ei(this,"displayName",e[ai]||null);var n=null;e[si]&&(n=new Date(e[si]).toUTCString()),ei(this,"enrollmentTime",n),ei(this,"factorId",t)}function oi(e){try{var t=new li(e)}catch(n){t=null}return t}ii.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ai="displayName",si="enrolledAt",ui="mfaEnrollmentId",ci="phoneInfo";function li(e){ii.call(this,e),ei(this,"phoneNumber",e[ci])}function hi(e){var t={},n=e[mi],r=e[vi],i=e[yi];if(e=oi(e[gi]),!i||i!=di&&i!=pi&&!n||i==pi&&!r||i==fi&&!e)throw Error("Invalid checkActionCode response!");i==pi?(t[_i]=n||null,t[ki]=n||null,t[bi]=r):(t[_i]=r||null,t[ki]=r||null,t[bi]=n||null),t[wi]=e||null,ei(this,Ti,i),ei(this,Ei,ri(t))}T(li,ii),li.prototype.w=function(){var e=li.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var fi="REVERT_SECOND_FACTOR_ADDITION",di="EMAIL_SIGNIN",pi="VERIFY_AND_CHANGE_EMAIL",mi="email",gi="mfaInfo",vi="newEmail",yi="requestType",bi="email",_i="fromEmail",wi="multiFactorInfo",ki="previousEmail",Ei="data",Ti="operation";function Ii(e){var t=Vn(e=qn(e),Si)||null,n=Vn(e,Ni)||null,r=Vn(e,xi)||null;if(r=r&&Oi[r]||null,!t||!n||!r)throw new S("argument-error",Si+", "+Ni+"and "+xi+" are required in a valid action code URL.");ti(this,{apiKey:t,operation:r,code:n,continueUrl:Vn(e,Ci)||null,languageCode:Vn(e,Ai)||null,tenantId:Vn(e,Ri)||null})}var Si="apiKey",Ni="oobCode",Ci="continueUrl",Ai="languageCode",xi="mode",Ri="tenantId",Oi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:fi,signIn:di,verifyAndChangeEmail:pi,verifyEmail:"VERIFY_EMAIL"};function Di(e){try{return new Ii(e)}catch(t){return null}}function Pi(e){var t=e[Ui];if("undefined"===typeof t)throw new S("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new S("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[ji];if(n&&"object"===typeof n){t=n[qi];var r=n[Bi];if(n=n[Vi],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new S("argument-error",Bi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new S("argument-error",Vi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new S("argument-error",qi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new S("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new S("argument-error",ji+" property must be a non null object when specified.");if(this.f=null,(t=e[Fi])&&"object"===typeof t){if("string"===typeof(t=t[zi])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new S("argument-error",zi+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new S("argument-error",Fi+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[Li])&&"boolean"!==typeof t)throw new S("argument-error",Li+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[Mi])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new S("argument-error",Mi+" property must be a non empty string when specified.");this.i=e||null}var ji="android",Mi="dynamicLinkDomain",Li="handleCodeInApp",Fi="iOS",Ui="url",Bi="installApp",Vi="minimumVersion",qi="packageName",zi="bundleId";function Gi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Ki=null;function Wi(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Ki[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Ki){Ki={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ki[o]&&(Ki[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function Hi(e){var t=Yi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Qi(e){try{return new Hi(e)}catch(t){return null}}function Yi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=Wi(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(ne){}return null}Hi.prototype.T=function(){return this.f},Hi.prototype.l=function(){return this.c},Hi.prototype.toString=function(){return this.h};var Ji="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),$i=["client_id","response_type","scope","redirect_uri","state"],Xi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:$i},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:$i},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:$i},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Ji},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Zi(e){for(var t in Xi)if(Xi[t].fa==e)return Xi[t];return null}function eo(e){var t={};t["facebook.com"]=oo,t["google.com"]=so,t["github.com"]=ao,t["twitter.com"]=uo;var n=e&&e[no];try{if(n)return t[n]?new t[n](e):new io(e);if("undefined"!==typeof e[to])return new ro(e)}catch(r){}return null}var to="idToken",no="providerId";function ro(e){var t=e[no];if(!t&&e[to]){var n=Qi(e[to]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),ei(this,"providerId",t),ei(this,"isNewUser",n)}function io(e){ro.call(this,e),ei(this,"profile",ri((e=qr(e.rawUserInfo||"{}"))||{}))}function oo(e){if(io.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ao(e){if(io.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");ei(this,"username",this.profile&&this.profile.login||null)}function so(e){if(io.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function uo(e){if(io.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");ei(this,"username",e.screenName||null)}function co(e){var t=qn(e),n=Vn(t,"link"),r=Vn(qn(n),"link");return t=Vn(t,"deep_link_id"),Vn(qn(t),"link")||t||r||n||e}function lo(e,t){if(!e&&!t)throw new S("internal-error","Internal assert: no raw session string available");if(e&&t)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?ho:fo}T(io,ro),T(oo,io),T(ao,io),T(so,io),T(uo,io);var ho="enroll",fo="signin";function po(){}function mo(e,t){return e.then((function(e){if(e[is]){var n=Qi(e[is]);if(!n||t!=n.i)throw new S("user-mismatch");return e}throw new S("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==A+"user-not-found"?new S("user-mismatch"):e}))}function go(e,t){if(!t)throw new S("internal-error","failed to construct a credential");this.a=t,ei(this,"providerId",e),ei(this,"signInMethod",e)}function vo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function yo(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new go(e.providerId,e.pendingToken)}catch(t){}return null}function bo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&ei(this,"idToken",t.idToken),t.accessToken&&ei(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&ei(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new S("internal-error","failed to construct a credential");ei(this,"accessToken",t.oauthToken),ei(this,"secret",t.oauthTokenSecret)}ei(this,"providerId",e),ei(this,"signInMethod",n)}function _o(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:er(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function wo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new bo(e.providerId,t,e.signInMethod)}catch(n){}}return null}function ko(e,t){this.Qc=t||[],ti(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Zi(e)||{}).Ja||null,this.pb=null}function Eo(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');ko.call(this,e,[])}function To(e){ko.call(this,e,$i),this.a=[]}function Io(){To.call(this,"facebook.com")}function So(e){if(!e)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return m(e)&&(t=e.accessToken),(new Io).credential({accessToken:t})}function No(){To.call(this,"github.com")}function Co(e){if(!e)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return m(e)&&(t=e.accessToken),(new No).credential({accessToken:t})}function Ao(){To.call(this,"google.com"),this.Ca("profile")}function xo(e,t){var n=e;return m(e)&&(n=e.idToken,t=e.accessToken),(new Ao).credential({idToken:n,accessToken:t})}function Ro(){ko.call(this,"twitter.com",Ji)}function Oo(e,t){var n=e;if(m(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new bo("twitter.com",n,"twitter.com")}function Do(e,t,n){this.a=e,this.f=t,ei(this,"providerId","password"),ei(this,"signInMethod",n===jo.EMAIL_LINK_SIGN_IN_METHOD?jo.EMAIL_LINK_SIGN_IN_METHOD:jo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Po(e){return e&&e.email&&e.password?new Do(e.email,e.password,e.signInMethod):null}function jo(){ti(this,{providerId:"password",isOAuthProvider:!1})}function Mo(e,t){if(!(t=Lo(t)))throw new S("argument-error","Invalid email link!");return new Do(e,t.code,jo.EMAIL_LINK_SIGN_IN_METHOD)}function Lo(e){return(e=Di(e=co(e)))&&e.operation===di?e:null}function Fo(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new S("internal-error");this.a=e,ei(this,"providerId","phone"),this.fa="phone",ei(this,"signInMethod","phone")}function Uo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return K(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Fo(t)}return null}function Bo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Vo(e){try{this.a=e||G.default.auth()}catch(t){throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ti(this,{providerId:"phone",isOAuthProvider:!1})}function qo(e,t){if(!e)throw new S("missing-verification-id");if(!t)throw new S("missing-verification-code");return new Fo({fb:e,eb:t})}function zo(e){if(e.temporaryProof&&e.phoneNumber)return new Fo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return xo(o,n);case"facebook.com":return So(n);case"github.com":return Co(n);case"twitter.com":return Oo(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new go(t,a):new bo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new To(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Go(e){if(!e.isOAuthProvider)throw new S("invalid-oauth-provider")}function Ko(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new S("invalid-auth-event");if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}function Wo(e){return(e=e||{}).type?new Ko(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&N(e.error),e.postBody,e.tenantId):null}function Ho(){this.b=null,this.a=[]}lo.prototype.Ha=function(){return this.a?xt(this.a):xt(this.b)},lo.prototype.w=function(){return this.type==ho?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},po.prototype.ka=function(){},po.prototype.b=function(){},po.prototype.c=function(){},po.prototype.w=function(){},go.prototype.ka=function(e){return Ss(e,vo(this))},go.prototype.b=function(e,t){var n=vo(this);return n.idToken=t,Ns(e,n)},go.prototype.c=function(e,t){return mo(Cs(e,vo(this)),t)},go.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},bo.prototype.ka=function(e){return Ss(e,_o(this))},bo.prototype.b=function(e,t){var n=_o(this);return n.idToken=t,Ns(e,n)},bo.prototype.c=function(e,t){return mo(Cs(e,_o(this)),t)},bo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},ko.prototype.Ka=function(e){return this.Jb=ve(e),this},T(Eo,ko),T(To,ko),To.prototype.Ca=function(e){return Y(this.a,e)||this.a.push(e),this},To.prototype.Rb=function(){return Z(this.a)},To.prototype.credential=function(e,t){var n;if(!(n=m(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new bo(this.providerId,n,this.providerId)},T(Io,To),ei(Io,"PROVIDER_ID","facebook.com"),ei(Io,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(No,To),ei(No,"PROVIDER_ID","github.com"),ei(No,"GITHUB_SIGN_IN_METHOD","github.com"),T(Ao,To),ei(Ao,"PROVIDER_ID","google.com"),ei(Ao,"GOOGLE_SIGN_IN_METHOD","google.com"),T(Ro,ko),ei(Ro,"PROVIDER_ID","twitter.com"),ei(Ro,"TWITTER_SIGN_IN_METHOD","twitter.com"),Do.prototype.ka=function(e){return this.signInMethod==jo.EMAIL_LINK_SIGN_IN_METHOD?cu(e,Ms,{email:this.a,oobCode:this.f}):cu(e,iu,{email:this.a,password:this.f})},Do.prototype.b=function(e,t){return this.signInMethod==jo.EMAIL_LINK_SIGN_IN_METHOD?cu(e,Ls,{idToken:t,email:this.a,oobCode:this.f}):cu(e,Js,{idToken:t,email:this.a,password:this.f})},Do.prototype.c=function(e,t){return mo(this.ka(e),t)},Do.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},ti(jo,{PROVIDER_ID:"password"}),ti(jo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ti(jo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Fo.prototype.ka=function(e){return e.gb(Bo(this))},Fo.prototype.b=function(e,t){var n=Bo(this);return n.idToken=t,cu(e,au,n)},Fo.prototype.c=function(e,t){var n=Bo(this);return n.operation="REAUTH",mo(e=cu(e,su,n),t)},Fo.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Vo.prototype.gb=function(e,t){var n=this.a.a;return xt(t.verify()).then((function(r){if("string"!==typeof r)throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var i,o=m(e)?e.session:null,a=m(e)?e.phoneNumber:e;return i=o&&o.type==ho?o.Ha().then((function(e){return function(e,t){return cu(e,Xs,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==fo?o.Ha().then((function(t){return function(e,t){return cu(e,Zs,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return cu(e,Qs,t)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}))}throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},ti(Vo,{PROVIDER_ID:"phone"}),ti(Vo,{PHONE_SIGN_IN_METHOD:"phone"}),Ko.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Ko.prototype.T=function(){return this.h},Ko.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Qo,Yo=null;function Jo(e){var t="unauthorized-domain",n=void 0,r=qn(e);e=r.a,"chrome-extension"==(r=r.c)?n=Ke("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Ke("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",S.call(this,t,n)}function $o(e,t,n){S.call(this,e,n),(e=t||{}).Kb&&ei(this,"email",e.Kb),e.ea&&ei(this,"phoneNumber",e.ea),e.credential&&ei(this,"credential",e.credential),e.$b&&ei(this,"tenantId",e.$b)}function Xo(e){if(e.code){var t=e.code||"";0==t.indexOf(A)&&(t=t.substring(A.length));var n={credential:zo(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new S(t,e.message||void 0);return new $o(t,n,e.message)}return null}function Zo(){}function ea(e){return e.c||(e.c=e.b())}function ta(){}function na(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(Cp){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function ra(){}function ia(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Tb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function oa(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function aa(e,t,n){this.reset(e,t,n,void 0,void 0)}T(Jo,S),T($o,S),$o.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&be(e,t),e},$o.prototype.toJSON=function(){return this.w()},Zo.prototype.c=null,T(ta,Zo),ta.prototype.a=function(){var e=na(this);return e?new ActiveXObject(e):new XMLHttpRequest},ta.prototype.b=function(){var e={};return na(this)&&(e[0]=!0,e[1]=!0),e},Qo=new ta,T(ra,Zo),ra.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ia;throw Error("Unsupported browser")},ra.prototype.b=function(){return{}},(e=ia.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,oa(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",oa(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,oa(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},aa.prototype.a=null;function sa(e){this.f=e,this.b=this.c=this.a=null}function ua(e,t){this.name=e,this.value=t}aa.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||E(),delete this.a},ua.prototype.toString=function(){return this.name};var ca=new ua("SEVERE",1e3),la=new ua("WARNING",900),ha=new ua("CONFIG",700),fa=new ua("FINE",500);function da(e){return e.c?e.c:e.a?da(e.a):(M("Root logger has no level set."),null)}sa.prototype.log=function(e,t,n){if(e.value>=da(this).value)for(p(t)&&(t=t()),e=new aa(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var pa,ma={},ga=null;function va(e){var t;if(ga||(ga=new sa(""),ma[""]=ga,ga.c=ha),!(t=ma[e])){t=new sa(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=va(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,ma[e]=t}return t}function ya(e,t){e&&e.log(fa,t,void 0)}function ba(e){this.f=e}function _a(e){Tn.call(this),this.u=e,this.h=void 0,this.readyState=wa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=va("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}T(ba,Zo),ba.prototype.a=function(){return new _a(this.f)},ba.prototype.b=(pa={},function(){return pa}),T(_a,Tn);var wa=0;function ka(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function Ea(e){e.readyState=4,e.g=null,e.c=null,e.m=null,Ta(e)}function Ta(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ia(e){Tn.call(this),this.headers=new On,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Sa,this.u=this.S=!1}(e=_a.prototype).open=function(e,t){if(this.readyState!=wa)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,Ta(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ea(this)),this.readyState=wa},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,Ta(this)),this.a&&(this.readyState=3,Ta(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,ka(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?Ea(this):Ta(this),3==this.readyState&&ka(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,Ea(this))},e.sc=function(e){this.a&&(this.response=e,Ea(this))},e.Va=function(e){var t=this.i;t&&t.log(la,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&Ea(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(la,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(la,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_a.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),T(Ia,Tn);var Sa="";Ia.prototype.b=va("goog.net.XhrIo");var Na=/^https?$/i,Ca=["POST","PUT"];function Aa(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Qo.a(),e.C=e.D?ea(e.D):ea(Qo),e.a.onreadystatechange=w(e.Wb,e);try{ya(e.b,Fa(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(a){return ya(e.b,Fa(e,"Error opening Xhr: "+a.message)),void Ra(e,a)}t=r||"";var o=new On(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"===typeof e)K(e,t,void 0);else for(var n=Rn(e),r=xn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=xa,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.Y()),r=s.FormData&&t instanceof s.FormData,!Y(Ca,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{ja(e),0<e.g&&(e.u=function(e){return Je&&st(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),ya(e.b,Fa(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=w(e.Ma,e)):e.s=Cn(e.Ma,e.g,e)),ya(e.b,Fa(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){ya(e.b,Fa(e,"Send error: "+a.message)),Ra(e,a)}}function xa(e){return"content-type"==e.toLowerCase()}function Ra(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Oa(e),Pa(e)}function Oa(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Da(e){if(e.c&&"undefined"!=typeof a)if(e.C[1]&&4==Ma(e)&&2==La(e))ya(e.b,Fa(e,"Local request error detected and ignored"));else if(e.i&&4==Ma(e))Cn(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Ma(e)){ya(e.b,Fa(e,"Request complete")),e.c=!1;try{var t,n=La(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(jn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Na.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Ma(e)?e.a.statusText:""}catch(l){ya(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+La(e)+"]",Oa(e)}}finally{Pa(e)}}}function Pa(e,t){if(e.a){ja(e);var n=e.a,r=e.C[0]?h:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(Cp){(e=e.b)&&e.log(ca,"Problem encountered resetting onreadystatechange: "+Cp.message,void 0)}}}function ja(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(s.clearTimeout(e.s),e.s=null)}function Ma(e){return e.a?e.a.readyState:0}function La(e){try{return 2<Ma(e)?e.a.status:-1}catch(t){return-1}}function Fa(e,t){return t+" ["+e.P+" "+e.l+" "+La(e)+"]"}function Ua(e){var t=Ja;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ba(e,t,n){e.a=!0,e.c=n,e.f=!t,Ga(e)}function Va(e){if(e.a){if(!e.v)throw new Ka(e);e.v=!1}}function qa(e,t,n,r){e.g.push([t,n,r]),e.a&&Ga(e)}function za(e){return Q(e.g,(function(e){return p(e[1])}))}function Ga(e){if(e.h&&e.a&&za(e)){var t=e.h,n=Qa[t];n&&(s.clearTimeout(n.a),delete Qa[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(D(t)||"function"===typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,za(e)||(n=!0)}}e.c=t,r&&(u=w(e.m,e,!0),r=w(e.m,e,!1),t instanceof Ua?(qa(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new Ha(t),Qa[t.a]=t,e.h=t.a)}function Ka(){P.call(this)}function Wa(){P.call(this)}function Ha(e){this.a=s.setTimeout(w(this.c,this),0),this.b=e}(e=Ia.prototype).Ma=function(){"undefined"!=typeof a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ya(this.b,Fa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ya(this.b,Fa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Pa(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Pa(this,!0)),Ia.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Da(this):this.Jc())},e.Jc=function(){Da(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Sa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(ca,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ya(this.b,"Can not get response: "+t.message),null}},Ua.prototype.cancel=function(e){if(this.a)this.c instanceof Ua&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Wa(this),Va(this),Ba(this,!1,e))}},Ua.prototype.m=function(e,t){this.i=!1,Ba(this,e,t)},Ua.prototype.then=function(e,t,n){var r,i,o=new Et((function(e,t){r=e,i=t}));return qa(this,r,(function(e){e instanceof Wa?o.cancel():i(e)})),o.then(e,t,n)},Ua.prototype.$goog_Thenable=!0,T(Ka,P),Ka.prototype.message="Deferred has already fired",Ka.prototype.name="AlreadyCalledError",T(Wa,P),Wa.prototype.message="Deferred was canceled",Wa.prototype.name="CanceledError",Ha.prototype.c=function(){throw delete Qa[this.a],this.b};var Qa={};function Ya(e){var t={},n=t.document||document,r=Ce(e).toString(),i=vt(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Ua(o),u=null,h=null!=t.timeout?t.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){$a(i,!0);var e=new es(Za,"Timeout reached for loading script "+r);Va(a),Ba(a,!1,e)}),h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||($a(i,t.xd||!1,u),Va(a),Ba(a,!0,null))},i.onerror=function(){$a(i,!0,u);var e=new es(Xa,"Error while loading script "+r);Va(a),Ba(a,!1,e)},be(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ft(i,o),function(e,t){_e(e,"HTMLScriptElement"),e.src=Ce(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=s?t=l(t.document):(null===c&&(c=l(s.document)),t=c),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Ja(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&$a(e,!0,this.Ma)}}function $a(e,t,n){null!=n&&s.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Xa=0,Za=1;function es(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),P.call(this,n),this.code=e}function ts(e){this.f=e}function ns(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||os,this.g=ve(e.secureTokenHeaders||as),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||ss,this.a=ve(e.firebaseHeaders||us),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Sr(),!(n=s.XMLHttpRequest||n&&G.default.INTERNAL.node&&G.default.INTERNAL.node.XMLHttpRequest)&&!Ir())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Ir()?this.f=new ba(self):Nr()?this.f=new ts(n):this.f=new ra,this.b=null}T(es,P),T(ts,Zo),ts.prototype.a=function(){return new this.f},ts.prototype.b=function(){return{}};var rs,is="idToken",os=new Wr(3e4,6e4),as={"Content-Type":"application/x-www-form-urlencoded"},ss=new Wr(3e4,6e4),us={"Content-Type":"application/json"};function cs(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function ls(e,t){t&&(e.l=hs("https://securetoken.googleapis.com/v1/token",t),e.h=hs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=hs("https://identitytoolkit.googleapis.com/v2/",t))}function hs(e,t){return e=qn(e),t=qn(t.url),e.f=e.a+e.f,Ln(e,t.c),e.a=t.a,Fn(e,t.g),e.toString()}function fs(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function ds(e,t,n,r,i,o,a){(function(){var e=Dr();return!((e=xr(e)!=Ar?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!Je||!ct||9<ct)})()||Ir()?e=w(e.u,e):(rs||(rs=new Et((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{s[ms]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){qa(e,null,t,void 0)}(Ya(Ae(ps,{onload:ms})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=w(e.s,e)),e(t,n,r,i,o,a)}ns.prototype.T=function(){return this.b},ns.prototype.u=function(e,t,n,r,i,o){if(Ir()&&("undefined"===typeof s.fetch||"undefined"===typeof s.Headers||"undefined"===typeof s.Request))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Ia(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}In(a,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ya(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(ne){e=null}t&&t(e)})),Sn(a,"ready",(function(){u&&clearTimeout(u),Qt(this)})),Sn(a,"timeout",(function(){u&&clearTimeout(u),Qt(this),t&&t(null)})),Aa(a,e,n,r,i)};var ps=new we(Ie,"https://apis.google.com/js/client.js?onload=%{onload}"),ms="__fcb"+Math.floor(1e6*Math.random()).toString();function gs(e,t,n,r,i,o,a){var s=qn(t+n);Bn(s,"key",e.c),a&&Bn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Bn(s,c,i[c]);return new Et((function(t,n){ds(e,s.toString(),(function(e){e?e.error?n(hu(e,o||{})):t(e):n(new S("network-request-failed"))}),r,u?void 0:ar(Vr(i)),e.a,e.v.get())}))}function vs(e){if("string"!==typeof(e=e.email)||!_r.test(e))throw new S("invalid-email")}function ys(e){"email"in e&&vs(e)}function bs(e){if(!e[is]){if(e.mfaPendingCredential)throw new S("multi-factor-auth-required",null,ve(e));throw new S("internal-error")}}function _s(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new S("internal-error")}else{if(!e.sessionInfo)throw new S("missing-verification-id");if(!e.code)throw new S("missing-verification-code")}}ns.prototype.s=function(e,t,n,r,i){var o=this;rs.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},ns.prototype.Ab=function(){return cu(this,$s,{})},ns.prototype.Cb=function(e,t){return cu(this,Ys,{idToken:e,email:t})},ns.prototype.Db=function(e,t){return cu(this,Js,{idToken:e,password:t})};var ws={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ks(e){if(!e.phoneVerificationInfo)throw new S("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new S("missing-verification-code")}function Es(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new S("internal-error")}function Ts(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(nr(e=new Xn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Is(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Xo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Xo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Xo(e)):e.errorMessage&&(t=lu(e.errorMessage)),t)throw t;bs(e)}function Ss(e,t){return t.returnIdpCredential=!0,cu(e,eu,t)}function Ns(e,t){return t.returnIdpCredential=!0,cu(e,nu,t)}function Cs(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,cu(e,tu,t)}function As(e){if(!e.oobCode)throw new S("invalid-action-code")}(e=ns.prototype).Eb=function(e,t){var n={idToken:e},r=[];return me(ws,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),cu(this,Ys,n)},e.wb=function(e,t){return be(e={requestType:"PASSWORD_RESET",email:e},t),cu(this,Gs,e)},e.xb=function(e,t){return be(e={requestType:"EMAIL_SIGNIN",email:e},t),cu(this,Vs,e)},e.vb=function(e,t){return be(e={requestType:"VERIFY_EMAIL",idToken:e},t),cu(this,qs,e)},e.Fb=function(e,t,n){return be(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),cu(this,zs,e)},e.gb=function(e){return cu(this,ou,e)},e.ob=function(e,t){return cu(this,Hs,{oobCode:e,newPassword:t})},e.Sa=function(e){return cu(this,Rs,{oobCode:e})},e.kb=function(e){return cu(this,xs,{oobCode:e})};var xs={endpoint:"setAccountInfo",A:As,Z:"email",B:!0},Rs={endpoint:"resetPassword",A:As,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new S("internal-error")},B:!0},Os={endpoint:"signupNewUser",A:function(e){if(vs(e),!e.password)throw new S("weak-password")},G:bs,V:!0,B:!0},Ds={endpoint:"createAuthUri",B:!0},Ps={endpoint:"deleteAccount",O:["idToken"]},js={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new S("internal-error")}},Ms={endpoint:"emailLinkSignin",O:["email","oobCode"],A:vs,G:bs,V:!0,B:!0},Ls={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:vs,G:bs,V:!0},Fs={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ks,G:bs,B:!0,Na:!0},Us={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ks,G:bs,B:!0,Na:!0},Bs={endpoint:"getAccountInfo"},Vs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new S("internal-error");vs(e)},Z:"email",B:!0},qs={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new S("internal-error")},Z:"email",B:!0},zs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new S("internal-error")},Z:"email",B:!0},Gs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new S("internal-error");vs(e)},Z:"email",B:!0},Ks={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Ws={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new S("internal-error")}},Hs={endpoint:"resetPassword",A:As,Z:"email",B:!0},Qs={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ys={endpoint:"setAccountInfo",O:["idToken"],A:ys,V:!0},Js={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(ys(e),!e.password)throw new S("weak-password")},G:bs,V:!0},$s={endpoint:"signupNewUser",G:bs,V:!0,B:!0},Xs={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new S("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Zs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},eu={endpoint:"verifyAssertion",A:Es,Za:Ts,G:Is,V:!0,B:!0},tu={endpoint:"verifyAssertion",A:Es,Za:Ts,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new S("user-not-found");if(e.errorMessage)throw lu(e.errorMessage);bs(e)},V:!0,B:!0},nu={endpoint:"verifyAssertion",A:function(e){if(Es(e),!e.idToken)throw new S("internal-error")},Za:Ts,G:Is,V:!0},ru={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new S("invalid-custom-token")},G:bs,V:!0,B:!0},iu={endpoint:"verifyPassword",A:function(e){if(vs(e),!e.password)throw new S("wrong-password")},G:bs,V:!0,B:!0},ou={endpoint:"verifyPhoneNumber",A:_s,G:bs,B:!0},au={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new S("internal-error");_s(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Xo(e);bs(e)}},su={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:_s,G:bs,B:!0},uu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[is]^!!e.refreshToken)throw new S("internal-error")},B:!0,Na:!0};function cu(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.O))return Rt(new S("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return xt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),gs(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new S("internal-error");return r[t.Z]}))}function lu(e){return hu({error:{errors:[{message:e}],code:400,message:e}})}function hu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new S(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",be(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new S(r[i],t);return!t&&e&&(t=Br(e)),new S("internal-error",t)}function fu(e){this.b=e,this.a=null,this.sb=function(e){return(gu||(gu=new Et((function(e,t){function n(){Kr(),Pr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Kr(),t(Error("Network Error"))},timeout:pu.get()})}if(Pr("gapi.iframes.Iframe"))e();else if(Pr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Pr("gapi.load")?n():t(Error("Network Error"))},xt(Ya(r=Ae(du,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw gu=null,e})))).then((function(){return new Et((function(t,n){Pr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),mu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var du=new we(Ie,"https://apis.google.com/js/api.js?onload=%{onload}"),pu=new Wr(3e4,6e4),mu=new Wr(5e3,15e3),gu=null;function vu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=zn((e=qn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=zn("https",this.l,null,"/__/auth/iframe"),this.a=e,Bn(this.a,"apiKey",this.h),Bn(this.a,"appName",this.i),this.b=null,this.c=[]}function yu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function bu(e){try{return G.default.app(e).auth().Ga()}catch(t){return[]}}function _u(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function wu(e){var t=dr();return function(e){return cu(e,Ks,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=qn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=qn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:br.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Jo(dr())}))}function ku(e){return e.m||(e.m=wr().then((function(){if(!e.u){var t=e.c,n=e.i,r=bu(e.b),i=new vu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=Z(r||[]),e.u=i.toString()}e.v=new fu(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Wo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",xt(n)}return n.status="ERROR",xt(n)}))}(e)}))),e.m}function Eu(e){return e.l||(e.C=e.c?Or(e.c,bu(e.b)):null,e.l=new ns(e.g,O(e.i),e.C),e.f&&ls(e.l,e.f)),e.l}function Tu(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new yu(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=ve(u||null),e.f=c,e.zb(l).toString()}function Iu(e){if(this.a=e||G.default.INTERNAL.reactNative&&G.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Su(e){this.b=e,this.a={},this.f=w(this.c,this)}vu.prototype.toString=function(){return this.f?Bn(this.a,"v",this.f):tr(this.a.b,"v"),this.b?Bn(this.a,"eid",this.b):tr(this.a.b,"eid"),this.c.length?Bn(this.a,"fw",this.c.join(",")):tr(this.a.b,"fw"),this.a.toString()},yu.prototype.zb=function(e){return this.h=e,this},yu.prototype.toString=function(){if(this.v){var e=qn(this.v.url);e=zn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=zn("https",this.u,null,"/__/auth/handler");if(Bn(e,"apiKey",this.s),Bn(e,"appName",this.c),Bn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=G.default.app(this.c).auth().la()}catch(s){n=null}for(var r in t.pb=n,Bn(e,"providerId",this.a.providerId),t=Vr((n=this.a).Jb))t[r]=t[r].toString();r=n.Qc,t=ve(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),ge(t)||Bn(e,"customParameters",Br(t))}if("function"===typeof this.a.Rb&&((n=this.a.Rb()).length&&Bn(e,"scopes",n.join(","))),this.l?Bn(e,"redirectUrl",this.l):tr(e.b,"redirectUrl"),this.g?Bn(e,"eventId",this.g):tr(e.b,"eventId"),this.i?Bn(e,"v",this.i):tr(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Vn(e,a)&&Bn(e,a,this.b[a]);return this.h?Bn(e,"tid",this.h):tr(e.b,"tid"),this.f?Bn(e,"eid",this.f):tr(e.b,"eid"),(a=bu(this.c)).length&&Bn(e,"fw",a.join(",")),e.toString()},(e=_u.prototype).Pb=function(e,t,n){var r=new S("popup-closed-by-user"),i=new S("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return ku(e).then((function(){return function(e,t){return e.sb.then((function(){return new Et((function(n){e.a.send(t.type,t,n,Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&vr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new Et((function(t){return function n(){An(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return An(n).then((function(){t(r)}))}))},e.Yb=function(){var e=Dr();return!Ur(e)&&!Gr(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return Rt(new S("popup-blocked"));if(a&&!Ur())return this.ma().o((function(t){vr(e),i(t)})),r(),xt();this.a||(this.a=wu(Eu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw vr(e),i(t),t}));return r(),t})).then((function(){(Go(n),a)||pr(Tu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Ob=function(e,t,n,r){this.a||(this.a=wu(Eu(this)));var i=this;return this.a.then((function(){Go(t),pr(Tu(i.s,i.g,i.b,e,t,dr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return ku(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new S("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){$(this.h,(function(t){return t==e}))},(e=Iu.prototype).get=function(e){return xt(this.a.getItem(e)).then((function(e){return e&&qr(e)}))},e.set=function(e,t){return xt(this.a.setItem(e,Br(t)))},e.U=function(e){return xt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var Nu,Cu=[];function Au(e,t,n){ge(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function xu(e){this.a=e}function Ru(e){this.c=e,this.b=!1,this.a=[]}function Ou(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Rt(Error("connection_unavailable"));var l=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Et((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:h,onMessage:o},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return Du(e,c),t})).o((function(t){throw Du(e,c),t}))}function Du(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),$(e.a,(function(e){return e==t}))}}function Pu(){if(!Fu())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Ir()&&self?(this.v=function(){var e=Ir()?self:null;if(K(Cu,(function(n){n.b==e&&(t=n)})),!t){var t=new Su(e);Cu.push(t)}return t}(),Au(this.v,"keyChanged",(function(t,n){return zu(e).then((function(t){return 0<t.length&&K(e.a,(function(e){e(t)})),{keyProcessed:Y(t,n.key)}}))})),Au(this.v,"ping",(function(){return xt(["keyChanged"])}))):function(){var e=s.navigator;return e&&e.serviceWorker?xt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):xt(null)}().then((function(t){(e.h=t)&&(e.g=new Ru(new xu(t)),Ou(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&Y(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function ju(e){return new Et((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new Et((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return ju(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Mu(e){return e.i||(e.i=ju(e)),e.i}function Lu(e,t){var n=0;return new Et((function r(i,o){Mu(e).then(t).then(i).o((function(t){if(!(3<++n))return Mu(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Fu(){try{return!!s.indexedDB}catch(pa){return!1}}function Uu(e){return e.objectStore("firebaseLocalStorage")}function Bu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Vu(e){return new Et((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function qu(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Ou(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):xt()}function zu(e){return Mu(e).then((function(e){var t=Uu(Bu(e,!1));return t.getAll?Vu(t.getAll()):new Et((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=mr(e.c,n),e.c=n}return r}))}function Gu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Ku(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=xt().then((function(){if(Fu()){var e=zr(),r="__sak"+e;return Nu||(Nu=new Pu),(n=Nu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){K(t.a,(function(t){t(e)}))})),e}))}function Wu(){this.a={},this.type="inMemory"}function Hu(){if(!function(){var e="Node"==Sr();if(!(e=Qu()||e&&G.default.INTERNAL.node&&G.default.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Sr())throw new S("internal-error","The LocalStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Qu()||G.default.INTERNAL.node.localStorage,this.type="localStorage"}function Qu(){try{var e=s.localStorage,t=zr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Yu(){this.type="nullStorage"}function Ju(){if(!function(){var e="Node"==Sr();if(!(e=$u()||e&&G.default.INTERNAL.node&&G.default.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Sr())throw new S("internal-error","The SessionStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=$u()||G.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function $u(){try{var e=s.sessionStorage,t=zr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Xu(){var e={};e.Browser=tc,e.Node=nc,e.ReactNative=rc,e.Worker=ic,this.a=e[Sr()]}Su.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];K(r,(function(t){i.push(xt().then((function(){return t(e.origin,e.data.data)})))})),Dt(i).then((function(r){var i=[];K(r,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),K(i,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},xu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Ru.prototype.close=function(){for(;0<this.a.length;)Du(this,this.a[0]);this.b=!0},(e=Pu.prototype).set=function(e,t){var n=this,r=!1;return Lu(this,(function(t){return Vu((t=Uu(Bu(t,!0))).get(e))})).then((function(i){return Lu(n,(function(o){if(o=Uu(Bu(o,!0)),i)return i.value=t,Vu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Vu(o.add(a))}))})).then((function(){return n.c[e]=t,qu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Lu(this,(function(t){return Vu(Uu(Bu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Lu(this,(function(r){return n=!0,t.b++,Vu(Uu(Bu(r,!0)).delete(e))})).then((function(){return delete t.c[e],qu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=zu(e).then((function(t){0<t.length&&K(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}Gu(e),t()}(this),this.a.push(e)},e.ia=function(e){$(this.a,(function(t){return t==e})),0==this.a.length&&Gu(this)},(e=Ku.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){$(this.a,(function(t){return t==e}))},(e=Wu.prototype).get=function(e){return xt(this.a[e])},e.set=function(e,t){return this.a[e]=t,xt()},e.U=function(e){return delete this.a[e],xt()},e.ca=function(){},e.ia=function(){},(e=Hu.prototype).get=function(e){var t=this;return xt().then((function(){return qr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return xt().then((function(){var r=Br(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return xt().then((function(){t.a.removeItem(e)}))},e.ca=function(e){s.window&&fn(s.window,"storage",e)},e.ia=function(e){s.window&&mn(s.window,"storage",e)},(e=Yu.prototype).get=function(){return xt(null)},e.set=function(){return xt()},e.U=function(){return xt()},e.ca=function(){},e.ia=function(){},(e=Ju.prototype).get=function(e){var t=this;return xt().then((function(){return qr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return xt().then((function(){var r=Br(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return xt().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Zu,ec,tc={F:Hu,cb:Ju},nc={F:Hu,cb:Ju},rc={F:Iu,cb:Yu},ic={F:Hu,cb:Yu},oc={rd:"local",NONE:"none",td:"session"};function ac(){var e=!(Gr(Dr())||!Tr()),t=Ur(),n=jr();this.m=e,this.h=t,this.l=n,this.a={},Zu||(Zu=new Xu),e=Zu;try{this.g=!fr()&&Yr()||!s.indexedDB?new e.a.F:new Ku(Ir()?new Wu:new e.a.F)}catch(r){this.g=new Wu,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new Wu}this.v=new Wu,this.f=w(this.Zb,this),this.b={}}function sc(){return ec||(ec=new ac),ec}function uc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function cc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function lc(e,t,n){return n=cc(t,n),"local"==t.F&&(e.b[n]=null),uc(e,t.F).U(n)}function hc(e){e.c&&(clearInterval(e.c),e.c=null)}function fc(e){this.a=e,this.b=sc()}(e=ac.prototype).get=function(e,t){return uc(this,e.F).get(cc(e,t))},e.set=function(e,t,n){var r=cc(e,n),i=this,o=uc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=cc(e,t),this.l&&(this.b[e]=s.localStorage.getItem(e)),ge(this.a)&&(uc(this,"local").ca(this.f),this.h||(fr()||!Yr())&&s.indexedDB||!this.l||function(e){hc(e),e.c=setInterval((function(){for(var t in e.a){var n=s.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new en({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=cc(e,t),this.a[e]&&($(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),ge(this.a)&&(uc(this,"local").ia(this.f),hc(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?uc(this,"local").ia(this.f):hc(this),this.m)if(n=s.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?s.localStorage.setItem(t,r):s.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.nb(t))},Je&&ct&&10==ct&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else K(e,w(this.nb,this))},e.nb=function(e){this.a[e]&&K(this.a[e],(function(e){e()}))};var dc,pc={name:"authEvent",F:"local"};function mc(){this.a=sc()}function gc(e,t){this.b=vc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===dc&&(dc=s.Int32Array?new Int32Array(Tc):Tc),this.reset()}T(gc,(function(){this.b=-1}));for(var vc=64,yc=vc-1,bc=[],_c=0;_c<yc;_c++)bc[_c]=0;var wc=X(128,bc);function kc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|dc[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function Ec(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(kc(e),i=0);else{if(!d(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(kc(e),i=0)}}e.c=i,e.g+=n}gc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):Z(this.h)};var Tc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ic(){gc.call(this,8,Sc)}T(Ic,gc);var Sc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Nc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new mc,this.g=new fc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Cc(e){return new S("invalid-cordova-configuration",e)}function Ac(e){var t=new Ic;Ec(t,e),e=[];var n=8*t.g;56>t.c?Ec(t,wc,56-t.c):Ec(t,wc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(kc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return H(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function xc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Rc(e){return e.f||(e.f=e.ma().then((function(){return new Et((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Oc(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=co(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=qr(Vn(o=qn(i),"firebaseError")||null))?N(o):null)?new Ko(r.c,r.b,null,null,o,null,r.T()):new Ko(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}xc(e,i)}))}var n=new Ko("unknown",null,null,null,new S("no-auth-event")),r=!1,i=An(500).then((function(){return Oc(e).then((function(){r||xc(e,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Pr("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(n){console.error(n)}},Yo||(Yo=new Ho),function(e){var t=Yo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Pr("universalLinks.subscribe",s))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Oc(e){var t=null;return function(e){return e.b.get(pc,e.a).then((function(e){return Wo(e)}))}(e.g).then((function(n){return t=n,lc((n=e.g).b,pc,n.a)})).then((function(){return t}))}function Dc(e){this.a=e,this.b=sc()}(e=Nc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(kr(void 0)?wr().then((function(){return new Et((function(e,t){var n=s.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Rt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Pr("universalLinks.subscribe",s))throw Cc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Pr("BuildInfo.packageName",s))throw Cc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Pr("cordova.plugins.browsertab.openUrl",s))throw Cc("cordova-plugin-browsertab is not installed");if("function"!==typeof Pr("cordova.InAppBrowser.open",s))throw Cc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new S("cordova-not-ready")}))},e.Pb=function(e,t){return t(new S("operation-not-supported-in-this-environment")),xt()},e.Nb=function(){return Rt(new S("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return Rt(new S("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=xt().then((function(){return Go(t),Rc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Ko(t,r,null,o,new S("no-auth-event"),null,i),u=Pr("BuildInfo.packageName",s);if("string"!==typeof u)throw new S("invalid-cordova-configuration");var c=Pr("BuildInfo.displayName",s),l={};if(Dr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Dr().toLowerCase().match(/android/))return Rt(new S("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Ac(o),l.sessionId=o;var h=Tu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(pc,a.w(),t)})).then((function(){var t=Pr("cordova.plugins.browsertab.isAvailable",s);if("function"!==typeof t)throw new S("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=Pr("cordova.plugins.browsertab.openUrl",s)))throw new S("invalid-cordova-configuration");n(h)}else{if("function"!==typeof(n=Pr("cordova.InAppBrowser.open",s)))throw new S("invalid-cordova-configuration");t=Dr(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new Et((function(e,t){u=function(){var t=Pr("cordova.plugins.browsertab.close",s);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=An(2e3).then((function(){t(new S("redirect-cancelled-by-user"))})))},l=function(){Hr()&&c()},o.addEventListener("resume",c,!1),Dr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return Oc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null}))},e.Ea=function(e){this.b.push(e),Rc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Ko("unknown",null,null,null,new S("no-auth-event")),e(t))}))},e.Ta=function(e){$(this.b,(function(t){return t==e}))};var Pc={name:"pendingRedirect",F:"session"};function jc(e){return lc(e.b,Pc,e.a)}function Mc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new $c,this.C=new nl,this.g=new Dc(Yc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Lc(this.D,this.v,this.m,C,this.J)}function Lc(e,t,n,r,i){var o=G.default.SDK_VERSION||null;return kr()?new Nc(e,t,n,o,r,i):new _u(e,t,n,o,r,i)}function Fc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Uc(e){e.a.Yb()&&Fc(e).o((function(t){var n=new Ko("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Kc(t)&&e.s(n)})),e.a.Ub()||Xc(e.b)}function Bc(e,t){Y(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Pc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?jc(e.g).then((function(){Fc(e).o((function(t){var n=new Ko("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Kc(t)&&e.s(n)}))})):Uc(e)})).o((function(){Uc(e)}))}function Vc(e,t){$(e.h,(function(e){return e==t}))}Mc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Lc(this.D,this.v,this.m,null,this.J),this.i={}},Mc.prototype.s=function(e){if(!e)throw new S("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Xc(this.b),t};var qc=new Wr(2e3,1e4),zc=new Wr(3e4,6e4);function Gc(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Kc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Wc(e,t,n,r,i){var o;return function(e){return e.b.set(Pc,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(Kc(t))throw new S("operation-not-supported-in-this-environment");return o=t,jc(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new Et((function(){})):jc(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function Hc(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),qc.get())}Mc.prototype.ra=function(){return this.b.ra()};var Qc={};function Yc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Jc(e,t,n,r){var i=Yc(t,n,r);return Qc[i]||(Qc[i]=new Mc(e,t,n,r)),Qc[i]}function $c(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Xc(e){e.g||(e.g=!0,tl(e,!1,null,null))}function Zc(e){e.g&&!e.i&&tl(e,!1,null,null)}function el(e,t){if(e.b=function(){return xt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function tl(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Rt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):el(e,n):el(e,{user:null}),e.f=[],e.c=[]}function nl(){}function rl(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function il(e,t){this.a=t,ei(this,"verificationId",e)}function ol(e,t,n,r){return new Vo(e).gb(t,n).then((function(e){return new il(e,r)}))}function al(e){var t=Yi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ti(this,{token:e,expirationTime:Qr(1e3*t.exp),authTime:Qr(1e3*t.auth_time),issuedAtTime:Qr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function sl(e,t,n){var r=t&&t[cl];if(!r)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ve(t),this.g=n,this.c=new lo(null,r),this.b=[];var i=this;K(t[ul]||[],(function(e){(e=oi(e))&&i.b.push(e)})),ei(this,"auth",this.a),ei(this,"session",this.c),ei(this,"hints",this.b)}$c.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},$c.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(tl(this,!0,null,e.a),xt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){tl(e,s,t,null)})).o((function(t){tl(e,s,null,t)}))}(this,e,t):Rt(new S("invalid-auth-event")):(tl(this,!1,null,null),xt())}else Rt(new S("invalid-auth-event"))},$c.prototype.ra=function(){var e=this;return new Et((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new S("timeout");e.a&&e.a.cancel(),e.a=An(zc.get()).then((function(){e.b||(e.g=!0,tl(e,!0,null,t))}))}(e))}))},nl.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),xt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):Rt(new S("invalid-auth-event"))}else Rt(new S("invalid-auth-event"))},il.prototype.confirm=function(e){return e=qo(this.verificationId,e),this.a(e)};var ul="mfaInfo",cl="mfaPendingCredential";function ll(e,t,n,r){S.call(this,"multi-factor-auth-required",r,t),this.b=new sl(e,t,n),ei(this,"resolver",this.b)}function hl(e,t,n){if(e&&m(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new ll(t,e.serverResponse,n,e.message)}catch(r){}return null}function fl(){}function dl(e){ei(this,"factorId",e.fa),this.a=e}function pl(e){if(dl.call(this,e),this.a.fa!=Vo.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ml(e,t){for(var n in Zt.call(this,e),t)this[n]=t[n]}function gl(e,t){this.a=e,this.b=[],this.c=w(this.yc,this),fn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&K(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ui]=e.uid),e.displayName&&(r[ai]=e.displayName),e.enrollmentTime&&(r[si]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ci]=e.phoneNumber);try{t=new li(r)}catch(i){}e=t}else e=null;e&&n.push(e)})),vl(this,n)}function vl(e,t){e.b=t,ei(e,"enrolledFactors",t)}function yl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function bl(e,t){e.stop(),e.b=An(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=s.document,t=null;return Hr()||!e?xt():new Et((function(n){t=function(){Hr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){bl(e,!0)})).o((function(t){e.i(t)&&bl(e,!1)}))}function _l(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function wl(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function kl(e,t){e.b=Qi(t[is]||""),e.a=t.refreshToken,wl(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function El(e,t){return function(e,t){return new Et((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ds(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(hu(e)):e.access_token&&e.refresh_token?n(e):r(new S("internal-error")):r(new S("network-request-failed"))}),"POST",er(t).toString(),e.g,e.m.get()):r(new S("internal-error"))}))}(e.f,t).then((function(t){return e.b=Qi(t.access_token),e.a=t.refresh_token,wl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function Tl(e,t){this.a=e||null,this.b=t||null,ti(this,{lastSignInTime:Qr(t||null),creationTime:Qr(e||null)})}function Il(e,t,n,r,i,o){ti(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function Sl(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=G.default.SDK_VERSION?Or(G.default.SDK_VERSION):null;this.a=new ns(this.l,O(C),r),(this.u=e.emulatorConfig||null)&&ls(this.a,this.u),this.h=new _l(this.a),jl(this,t[is]),kl(this.h,t),ei(this,"refreshToken",this.h.a),Fl(this,n||{}),Tn.call(this),this.P=!1,this.s&&Mr()&&(this.b=Jc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new yl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=w(this.ib,this);var i=this;this.za=null,this.Pa=function(e){i.xa(e.h)},this.qa=null,this.Ba=function(e){Nl(i,e.c)},this.$=null,this.aa=[],this.Oa=function(e){xl(i,e.f)},this.ja=null,this.S=new gl(this,n),ei(this,"multiFactor",this.S)}function Nl(e,t){e.u=t,ls(e.a,t),e.b&&(t=e.b,e.b=Jc(e.s,e.l,e.m,e.u),e.P&&(Vc(t,e),Bc(e.b,e)))}function Cl(e,t){e.qa&&mn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&fn(t,"languageCodeChanged",e.Pa)}function Al(e,t){e.$&&mn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&fn(t,"emulatorConfigChanged",e.Ba)}function xl(e,t){e.aa=t,fs(e.a,G.default.SDK_VERSION?Or(G.default.SDK_VERSION,e.aa):null)}function Rl(e,t){e.ja&&mn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&fn(t,"frameworkChanged",e.Oa)}function Ol(e){try{return G.default.app(e.m).auth()}catch(t){throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Dl(e){e.J||e.D.b||(e.D.start(),mn(e,"tokenChanged",e.ba),fn(e,"tokenChanged",e.ba))}function Pl(e){mn(e,"tokenChanged",e.ba),e.D.stop()}function jl(e,t){e.Aa=t,ei(e,"_lat",t)}function Ml(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Dt(t).then((function(){return e}))}function Ll(e){e.b&&!e.P&&(e.P=!0,Bc(e.b,e))}function Fl(e,t){ti(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new Tl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Ul(){}function Bl(e){return xt().then((function(){if(e.J)throw new S("app-deleted")}))}function Vl(e){return H(e.providerData,(function(e){return e.providerId}))}function ql(e,t){t&&(zl(e,t.providerId),e.providerData.push(t))}function zl(e,t){$(e.providerData,(function(e){return e.providerId==t}))}function Gl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&ei(e,t,n)}function Kl(e,t){e!=t&&(ti(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?ei(e,"metadata",function(e){return new Tl(e.a,e.b)}(t.metadata)):ei(e,"metadata",new Tl),K(t.providerData,(function(t){ql(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),ei(e,"refreshToken",e.h.a),vl(e.S,t.S.b))}function Wl(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return cu(e.a,Bs,{idToken:t}).then(w(e.Kc,e))}(e,t).then((function(){return n||Gl(e,"isAnonymous",!1),t}))}))}function Hl(e,t){t[is]&&e.Aa!=t[is]&&(kl(e.h,t),e.dispatchEvent(new ml("tokenChanged")),jl(e,t[is]),Gl(e,"refreshToken",e.h.a))}function Ql(e,t){return Wl(e).then((function(){if(Y(Vl(e),t))return Ml(e).then((function(){throw new S("provider-already-linked")}))}))}function Yl(e,t,n){return ni({user:e,credential:zo(t),additionalUserInfo:t=eo(t),operationType:n})}function Jl(e,t){return Hl(e,t),e.reload().then((function(){return e}))}function $l(e,t,n,r,i){if(!Mr())return Rt(new S("operation-not-supported-in-this-environment"));if(e.i&&!i)return Rt(e.i);var o=Zi(n.providerId),a=zr(e.uid+":::"),s=null;(!Ur()||Tr())&&e.s&&n.isOAuthProvider&&(s=Tu(e.s,e.l,e.m,t,n,null,a,G.default.SDK_VERSION||null,null,null,e.tenantId,e.u));var u=yr(s,o&&o.va,o&&o.ua);return r=r().then((function(){if(Zl(e),!i)return e.I().then((function(){}))})).then((function(){return Gc(e.b,u,t,n,a,!!s,e.tenantId)})).then((function(){return new Et((function(n,r){e.na(t,null,new S("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=Hc(e.b,e,t,u,a)}))})).then((function(e){return u&&vr(u),e?ni(e):null})).o((function(e){throw u&&vr(u),e})),eh(e,r,i)}function Xl(e,t,n,r,i){if(!Mr())return Rt(new S("operation-not-supported-in-this-environment"));if(e.i&&!i)return Rt(e.i);var o=null,a=zr(e.uid+":::");return r=r().then((function(){if(Zl(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Ml(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(rh,e.w(),t.a)),t})).then((function(){return Wc(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return ih(e.ha);throw o})).then((function(){if(o)throw o})),eh(e,r,i)}function Zl(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new S("internal-error");throw new S("auth-domain-config-required")}}function eh(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),Rt(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new ml("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){J(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=hl(t.w(),Ol(e),w(e.jc,e))),n||t}))}function th(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[is]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Sl(t,n,e);return e.providerData&&K(e.providerData,(function(e){e&&ql(i,ni(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function nh(e){this.a=e,this.b=sc()}sl.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=ve(t.f);return delete n[ul],delete n[cl],be(n,e),t.g(n)}))},T(ll,S),fl.prototype.tb=function(e,t,n){return t.type==ho?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),be(n,{phoneVerificationInfo:Bo(e.a)}),cu(t,Fs,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return be(n={mfaPendingCredential:n},{phoneVerificationInfo:Bo(e.a)}),cu(t,Us,n)}))}(this,e,t)},T(dl,fl),T(pl,dl),T(ml,Zt),(e=gl.prototype).yc=function(e){vl(this,function(e){var t=[];return K(e.mfaInfo||[],(function(e){(e=oi(e))&&t.push(e)})),t}(e.hd))},e.Sb=function(){return this.a.I().then((function(e){return new lo(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return Hl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return cu(r,uu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=W(t.b,(function(e){return e.uid!=n}));return vl(t,r),Hl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(e){return e.w()}))}}},yl.prototype.start=function(){this.a=this.c,bl(this,!0)},yl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},_l.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},_l.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Rt(new S("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?El(this,{grant_type:"refresh_token",refresh_token:this.a}):xt(null):xt({accessToken:this.b.toString(),refreshToken:this.a})},Tl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(Sl,Tn),Sl.prototype.xa=function(e){this.za=e,cs(this.a,e)},Sl.prototype.la=function(){return this.za},Sl.prototype.Ga=function(){return Z(this.aa)},Sl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},ei(Sl.prototype,"providerId","firebase"),(e=Sl.prototype).reload=function(){var e=this;return eh(this,Bl(this).then((function(){return Wl(e).then((function(){return Ml(e)})).then(Ul)})))},e.oc=function(e){return this.I(e).then((function(e){return new al(e)}))},e.I=function(e){var t=this;return eh(this,Bl(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new S("internal-error");return e.accessToken!=t.Aa&&(jl(t,e.accessToken),t.dispatchEvent(new ml("tokenChanged"))),Gl(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new S("internal-error");Fl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?H(e,(function(e){return new Il(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)ql(this,t[n]);Gl(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ml("userReloaded",{hd:e}))},e.Lc=function(e){return Xr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return eh(this,e.c(this.a,this.uid).then((function(e){return Hl(t,e),n=Yl(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Xr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return eh(this,Ql(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Yl(t,e,"link"),Jl(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return eh(this,Ql(this,"phone").then((function(){return ol(Ol(n),e,t,w(n.rb,n))})))},e.Mc=function(e,t){var n=this;return eh(this,xt().then((function(){return ol(Ol(n),e,t,w(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return eh(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Hl(t,e),t.reload()})))},e.ed=function(e){var t=this;return eh(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Hl(t,e),t.reload()})))},e.Db=function(e){var t=this;return eh(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return Hl(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Bl(this);var t=this;return eh(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Hl(t,e),Gl(t,"displayName",e.displayName||null),Gl(t,"photoURL",e.photoUrl||null),K(t.providerData,(function(e){"password"===e.providerId&&(ei(e,"displayName",t.displayName),ei(e,"photoURL",t.photoURL))})),Ml(t)})).then(Ul))},e.cd=function(e){var t=this;return eh(this,Wl(this).then((function(n){return Y(Vl(t),e)?function(e,t,n){return cu(e,js,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return K(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),K(Vl(t),(function(e){n[e]||zl(t,e)})),n[Vo.PROVIDER_ID]||ei(t,"phoneNumber",null),Ml(t)})):Ml(t).then((function(){throw new S("no-such-provider")}))})))},e.delete=function(){var e=this;return eh(this,this.I().then((function(t){return cu(e.a,Ps,{idToken:t})})).then((function(){e.dispatchEvent(new ml("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");Cl(e,null),Al(e,null),Rl(e,null),e.N=[],e.J=!0,Pl(e),ei(e,"refreshToken",null),e.b&&Vc(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?w(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?w(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?w(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?w(this.Mb,this):null},e.Ec=function(e){var t=this;return $l(this,"linkViaPopup",e,(function(){return Ql(t,e.providerId).then((function(){return Ml(t)}))}),!1)},e.Nc=function(e){return $l(this,"reauthViaPopup",e,(function(){return xt()}),!0)},e.Fc=function(e){var t=this;return Xl(this,"linkViaRedirect",e,(function(){return Ql(t,e.providerId)}),!1)},e.Oc=function(e){return Xl(this,"reauthViaRedirect",e,(function(){return xt()}),!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return eh(this,this.I().then((function(n){return Ns(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Yl(i,e,"link"),Jl(i,e)})).then((function(){return o})))},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return eh(this,xt().then((function(){return mo(Cs(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Yl(i,e,"reauthenticate"),Hl(i,e),i.i=null,i.reload()})).then((function(){return o})),!0)},e.vb=function(e){var t=this,n=null;return eh(this,this.I().then((function(t){return n=t,"undefined"===typeof e||ge(e)?{}:Gi(new Pi(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,r=null;return eh(this,this.I().then((function(e){return r=e,"undefined"===typeof t||ge(t)?{}:Gi(new Pi(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return eh(this,e=mo(xt(e),n.uid).then((function(e){return t=Yl(n,e,"reauthenticate"),Hl(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&be(e,this.metadata.w()),K(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),be(e,this.S.w()),e};var rh={name:"redirectUser",F:"session"};function ih(e){return lc(e.b,rh,e.a)}function oh(e){this.a=e,this.b=sc(),this.c=null,this.f=function(e){var t=uh("local"),n=uh("session"),r=uh("none");return function(e,t,n){var r=cc(t,n),i=uc(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=qr(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(sh,e.a).then((function(e){return e?uh(e):t}))}))}))})).then((function(t){return e.c=t,ah(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(uh("local"),this.a,w(this.g,this))}function ah(e,t){var n,r=[];for(n in oc)oc[n]!==t&&r.push(lc(e.b,uh(oc[n]),e.a));return r.push(lc(e.b,sh,e.a)),function(e){return new Et((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)Ot(e[s],k(o,s),a);else t(i)}))}(r)}oh.prototype.g=function(){var e=this,t=uh("local");fh(this,(function(){return xt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return ah(e,"local").then((function(){e.c=t}))}))}))};var sh={name:"persistence",F:"session"};function uh(e){return{name:"authUser",F:e}}function ch(e,t){return fh(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function lh(e){return fh(e,(function(){return lc(e.b,e.c,e.a)}))}function hh(e,t,n){return fh(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),th(e||{})}))}))}function fh(e,t){return e.f=e.f.then(t,t),e.f}function dh(e){if(this.l=!1,ei(this,"settings",new rl),ei(this,"app",e),!kh(this).options||!kh(this).options.apiKey)throw new S("invalid-api-key");e=G.default.SDK_VERSION?Or(G.default.SDK_VERSION):null,this.a=new ns(kh(this).options&&kh(this).options.apiKey,O(C),e),this.P=[],this.s=[],this.N=[],this.Pa=G.default.INTERNAL.createSubscribe(w(this.zc,this)),this.W=void 0,this.ib=G.default.INTERNAL.createSubscribe(w(this.Ac,this)),_h(this,null),this.i=new oh(kh(this).options.apiKey+":"+kh(this).name),this.D=new nh(kh(this).options.apiKey+":"+kh(this).name),this.$=Sh(this,function(e){var t=kh(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(rh,e.a).then((function(e){return e&&t&&(e.authDomain=t),th(e||{})}))}(e.D,kh(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),ih(e.D)}));return Sh(e,t)}(e).then((function(){return hh(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return ch(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:lh(e.i)}))):null})).then((function(t){_h(e,t||null)}));return Sh(e,n)}(this)),this.h=Sh(this,function(e){return e.$.then((function(){return yh(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(uh("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.qa=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(e){var t=kh(e).options.authDomain,n=kh(e).options.apiKey;t&&Mr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Jc(t,n,kh(e).name,e.R),Bc(e.b,e),Eh(e)&&Ll(Eh(e)),e.m){Ll(e.m);var r=e.m;r.xa(e.la()),Cl(r,e),xl(r=e.m,e.J),Rl(r,e),Nl(r=e.m,e.R),Al(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,Tn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=qn(this.R.url);e=ni({protocol:e.c,host:e.a,port:e.g,options:ni({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function ph(e){Zt.call(this,"languageCodeChanged"),this.h=e}function mh(e){Zt.call(this,"emulatorConfigChanged"),this.c=e}function gh(e){Zt.call(this,"frameworkChanged"),this.f=e}function vh(e){return e.Oa||Rt(new S("auth-domain-config-required"))}function yh(e){if(!Mr())return Rt(new S("operation-not-supported-in-this-environment"));var t=vh(e).then((function(){return e.b.ra()})).then((function(e){return e?ni(e):null}));return Sh(e,t)}function bh(e,t){var n={};return n.apiKey=kh(e).options.apiKey,n.authDomain=kh(e).options.authDomain,n.appName=kh(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var i=new Sl(e,t);return n&&(i.ha=n),r&&xl(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return Eh(e)&&t.uid==Eh(e).uid?(Kl(Eh(e),t),e.da(t)):(_h(e,t),Ll(t),e.da(t))})).then((function(){Ih(e)}))}function _h(e,t){Eh(e)&&(function(e,t){$(e.W,(function(e){return e==t}))}(Eh(e),e.Ba),mn(Eh(e),"tokenChanged",e.qa),mn(Eh(e),"userDeleted",e.za),mn(Eh(e),"userInvalidated",e.Aa),Pl(Eh(e))),t&&(t.W.push(e.Ba),fn(t,"tokenChanged",e.qa),fn(t,"userDeleted",e.za),fn(t,"userInvalidated",e.Aa),0<e.u&&Dl(t)),ei(e,"currentUser",t),t&&(t.xa(e.la()),Cl(t,e),xl(t,e.J),Rl(t,e),Nl(t,e.R),Al(t,e))}function wh(e,t){var n=null,r=null;return Sh(e,t.then((function(t){return n=zo(t),r=eo(t),bh(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=hl(t.w(),e,w(e.kc,e))),n||t})).then((function(){return ni({user:Eh(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function kh(e){return e.app}function Eh(e){return e.currentUser}function Th(e){return Eh(e)&&Eh(e)._lat||null}function Ih(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](Th(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](Th(e))}}function Sh(e,t){return e.P.push(t),t.oa((function(){J(e.P,t)})),t}function Nh(){}function Ch(){this.a={},this.b=1e12}oh.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new S("invalid-persistence-type"),n=new S("unsupported-persistence-type");e:{for(r in oc)if(oc[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(Sr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Fu()&&"none"!==e)throw n;break;default:if(!jr()&&"none"!==e)throw n}}(e),fh(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,ah(n,e)})).then((function(){if(n.c=uh(e),t)return n.b.set(n.c,t,n.a)})):xt()}))},T(dh,Tn),T(ph,Zt),T(mh,Zt),T(gh,Zt),(e=dh.prototype).yb=function(e){return Sh(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,cs(this.a,this.aa),this.dispatchEvent(new ph(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=s.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!e&&wr().then((function(){var e=s.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),s.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,ls(this.a,this.R),this.dispatchEvent(new mh(this.R))}},e.Gc=function(e){this.J.push(e),fs(this.a,G.default.SDK_VERSION?Or(G.default.SDK_VERSION,this.J):null),this.dispatchEvent(new gh(this.J))},e.Ga=function(){return Z(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:kh(this).options.apiKey,authDomain:kh(this).options.authDomain,appName:kh(this).name,currentUser:Eh(this)&&Eh(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?w(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return wh(i,Ss(i.a,o))}))},e.Xc=function(e){if(!Mr())return Rt(new S("operation-not-supported-in-this-environment"));var t=this,n=Zi(e.providerId),r=zr(),i=null;(!Ur()||Tr())&&kh(this).options.authDomain&&e.isOAuthProvider&&(i=Tu(kh(this).options.authDomain,kh(this).options.apiKey,kh(this).name,"signInViaPopup",e,null,r,G.default.SDK_VERSION||null,null,null,this.T(),this.R));var o=yr(i,n&&n.va,n&&n.ua);return Sh(this,n=vh(this).then((function(n){return Gc(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new Et((function(e,n){t.na("signInViaPopup",null,new S("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=Hc(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&vr(o),e?ni(e):null})).o((function(e){throw o&&vr(o),e})))},e.Yc=function(e){if(!Mr())return Rt(new S("operation-not-supported-in-this-environment"));var t=this,n=vh(this).then((function(){return function(e){return fh(e,(function(){return e.b.set(sh,e.c.F,e.a)}))}(t.i)})).then((function(){return Wc(t.b,"signInViaRedirect",e,void 0,t.T())}));return Sh(this,n)},e.ra=function(){var e=this;return yh(this).then((function(t){return e.b&&Zc(e.b.b),t})).o((function(t){throw e.b&&Zc(e.b.b),t}))},e.dd=function(e){if(!e)return Rt(new S("null-user"));if(this.S!=e.tenantId)return Rt(new S("tenant-id-mismatch"));var t=this,n={};n.apiKey=kh(this).options.apiKey,n.authDomain=kh(this).options.authDomain,n.appName=kh(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[is]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new Sl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&xl(t,r),Kl(t,e),t}(e,n,t.D,t.Ga());return Sh(this,this.h.then((function(){if(kh(t).options.apiKey!=e.l)return r.reload()})).then((function(){return Eh(t)&&e.uid==Eh(t).uid?(Kl(Eh(t),e),t.da(e)):(_h(t,r),Ll(r),t.da(r))})).then((function(){Ih(t)})))},e.Bb=function(){var e=this;return Sh(this,this.h.then((function(){return e.b&&Zc(e.b.b),Eh(e)?(_h(e,null),lh(e.i).then((function(){Ih(e)}))):xt()})))},e.Zc=function(){var e=this;return hh(this.i,kh(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=Eh(e)&&t){n=Eh(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Kl(Eh(e),t),Eh(e).I();(Eh(e)||t)&&(_h(e,t),t&&(Ll(t),t.ha=e.D),e.b&&Bc(e.b,e),Ih(e))}}))},e.da=function(e){return ch(this.i,e)},e.mc=function(){Ih(this),this.da(Eh(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return wh(t,xt(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(Eh(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),Sh(e,e.h.then((function(){!e.l&&Y(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Th(e)))})))}(this,(function(){e.next(Eh(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(Eh(r)):"function"===typeof e.next&&e.next(Eh(r))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof e?e(Eh(r)):"function"===typeof e.next&&e.next(Eh(r))})),this.ib(e,t,n)},e.nc=function(e){var t=this;return Sh(this,this.h.then((function(){return Eh(t)?Eh(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return wh(t,cu(t.a,ru,{token:e}))})).then((function(e){var n=e.user;return Gl(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return wh(n,cu(n.a,iu,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return wh(n,cu(n.a,Os,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return wh(t,e.ka(t.a))}))},e.Sc=function(e){return Xr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=Eh(e);if(t&&t.isAnonymous){var n=ni({providerId:null,isNewUser:!1});return ni({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return wh(e,e.a.Ab()).then((function(t){var n=t.user;return Gl(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return Eh(this)&&Eh(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&Eh(this)&&Dl(Eh(this))},e.Pc=function(e){var t=this;K(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&Eh(this)&&Pl(Eh(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),Sh(this,this.h.then((function(){t.l||Y(t.s,e)&&e(Th(t))})))},e.removeAuthTokenListener=function(e){$(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(uh("local"),e.a,this.ja),this.b&&(Vc(this.b,this),Zc(this.b.b)),Promise.resolve()},e.hc=function(e){return Sh(this,function(e,t){return cu(e,Ds,{identifier:t,continueUri:Lr()?dr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Lo(e)},e.xb=function(e,t){var n=this;return Sh(this,xt().then((function(){var e=new Pi(t);if(!e.c)throw new S("argument-error",Li+" must be true when sending sign in link to email");return Gi(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return Sh(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return Sh(this,this.a.Sa(e).then((function(e){return new hi(e)})))},e.kb=function(e){return Sh(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return Sh(this,xt().then((function(){return"undefined"===typeof t||ge(t)?{}:Gi(new Pi(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return Sh(this,ol(this,e,t,w(this.ab,this)))},e.Vc=function(e,t){var n=this;return Sh(this,xt().then((function(){var r=t||dr(),i=Mo(e,r);if(!(r=Lo(r)))throw new S("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new S("tenant-id-mismatch");return n.ab(i)})))},Nh.prototype.render=function(){},Nh.prototype.reset=function(){},Nh.prototype.getResponse=function(){},Nh.prototype.execute=function(){};var Ah=null;function xh(e,t){return(t=Rh(t))&&e.a[t]||null}function Rh(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Oh(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ht(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():fn(this.f,"click",this.i)}function Dh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Ph(){}function jh(){}Ch.prototype.render=function(e,t){return this.a[this.b.toString()]=new Oh(e,t),this.b++},Ch.prototype.reset=function(e){var t=xh(this,e);e=Rh(e),t&&e&&(t.delete(),delete this.a[e])},Ch.prototype.getResponse=function(e){return(e=xh(this,e))?e.getResponse():null},Ch.prototype.execute=function(e){(e=xh(this,e))&&e.execute()},Oh.prototype.getResponse=function(){return Dh(this),this.b},Oh.prototype.execute=function(){Dh(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},Oh.prototype.delete=function(){Dh(this),this.g=!0,clearTimeout(this.a),this.a=null,mn(this.f,"click",this.i)},ei(Ph,"FACTOR_ID","phone"),jh.prototype.g=function(){return Ah||(Ah=new Ch),xt(Ah)},jh.prototype.c=function(){};var Mh=null;function Lh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Fh=new we(Ie,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Uh=new Wr(3e4,6e4);Lh.prototype.g=function(e){var t=this;return new Et((function(n,r){var i=setTimeout((function(){r(new S("network-request-failed"))}),Uh.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new S("internal-error"));delete s[t.a]},xt(Ya(Ae(Fh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Lh.prototype.c=function(){this.b--};var Bh=null;function Vh(e,t,n,r,i,o,a){if(ei(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(Mh||(Mh=new jh),a=Mh):(Bh||(Bh=new Lh),a=Bh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Gh])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Kh],!s.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ht(t)||!this.i&&ht(t).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ns(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[qh];this.a[qh]=function(e){if(Wh(u,e),"function"===typeof c)c(e);else if("string"===typeof c){var t=Pr(c,s);"function"===typeof t&&t(e)}};var l=this.a[zh];this.a[zh]=function(){if(Wh(u,null),"function"===typeof l)l();else if("string"===typeof l){var e=Pr(l,s);"function"===typeof e&&e()}}}var qh="callback",zh="expired-callback",Gh="sitekey",Kh="size";function Wh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Hh(e,t){return e.h.push(t),t.oa((function(){J(e.h,t)})),t}function Qh(e){if(e.J)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}function Yh(e,t,n){var r=!1;try{this.b=n||G.default.app()}catch(a){throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new S("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=G.default.SDK_VERSION?Or(G.default.SDK_VERSION,o):null,Vh.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(t){e=null}return e}),o,O(C),r)}function Jh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=$h.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");n=$h[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new S("argument-error",e+" failed: "+r)}(e=Vh.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Hh(this,xt().then((function(){if(Lr()&&!Ir())return wr();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,cu(e.s,Ws,{})})).then((function(t){e.a[Gh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){Qh(this);var e=this;return Hh(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=ht(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!lt&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',We(a.name),'"'),a.type){o.push(' type="',We(a.type),'"');var s={};be(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=vt(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ft(o,a)),2<r.length&&gt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Qh(this);var e=this;return Hh(this,this.render().then((function(t){return new Et((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){$(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Qh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Qh(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ht(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},T(Yh,Vh);var $h="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Xh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function Zh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function ef(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:m}}function tf(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function nf(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function rf(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function of(e,t){return m(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function af(e){return m(e)&&"string"===typeof e.uid}function sf(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function uf(e,t){for(var n in t){var r=t[n].name;e[r]=hf(r,e[n],t[n].j)}}function cf(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:k((function(e){return this[e]}),n),set:k((function(e,t,n,r){Jh(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function lf(e,t,n,r){e[t]=hf(t,n,r)}function hf(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Jh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}uf(dh.prototype,{kb:{name:"applyActionCode",j:[Xh("code")]},Sa:{name:"checkActionCode",j:[Xh("code")]},ob:{name:"confirmPasswordReset",j:[Xh("code"),Xh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Xh("email"),Xh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Xh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Xh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[sf(ef(),tf(),"nextOrObserver"),tf("opt_error",!0),tf("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[sf(ef(),tf(),"nextOrObserver"),tf("opt_error",!0),tf("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Xh("email"),sf(ef("opt_actionCodeSettings",!0),nf(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Xh("email"),ef("actionCodeSettings")]},yb:{name:"setPersistence",j:[Xh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[rf()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[rf()]},Tc:{name:"signInWithCustomToken",j:[Xh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Xh("email"),Xh("password")]},Vc:{name:"signInWithEmailLink",j:[Xh("email"),Xh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Xh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[sf({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof Sl)}},nf(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Xh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Xh("url"),ef("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Xh("code")]}}),cf(dh.prototype,{lc:{name:"languageCode",lb:sf(Xh(),nf(),"languageCode")},ti:{name:"tenantId",lb:sf(Xh(),nf(),"tenantId")}}),dh.Persistence=oc,dh.Persistence.LOCAL="local",dh.Persistence.SESSION="session",dh.Persistence.NONE="none",uf(Sl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Zh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Zh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[rf()]},rb:{name:"linkWithCredential",j:[rf()]},Dc:{name:"linkWithPhoneNumber",j:[Xh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[rf()]},ub:{name:"reauthenticateWithCredential",j:[rf()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Xh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[sf(ef("opt_actionCodeSettings",!0),nf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Xh(null,!0)]},cd:{name:"unlink",j:[Xh("provider")]},Cb:{name:"updateEmail",j:[Xh("email")]},Db:{name:"updatePassword",j:[Xh("password")]},ed:{name:"updatePhoneNumber",j:[rf("phone")]},Eb:{name:"updateProfile",j:[ef("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Xh("email"),sf(ef("opt_actionCodeSettings",!0),nf(null,!0),"opt_actionCodeSettings",!0)]}}),uf(Ch.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uf(Nh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uf(Et.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),cf(rl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Zh("appVerificationDisabledForTesting")}}),uf(il.prototype,{confirm:{name:"confirm",j:[Xh("verificationCode")]}}),lf(po,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[wo,Po,Uo,yo],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[sf(Xh(),ef(),"json")]),lf(jo,"credential",(function(e,t){return new Do(e,t)}),[Xh("email"),Xh("password")]),uf(Do.prototype,{w:{name:"toJSON",j:[Xh(null,!0)]}}),uf(Io.prototype,{Ca:{name:"addScope",j:[Xh("scope")]},Ka:{name:"setCustomParameters",j:[ef("customOAuthParameters")]}}),lf(Io,"credential",So,[sf(Xh(),ef(),"token")]),lf(jo,"credentialWithLink",Mo,[Xh("email"),Xh("emailLink")]),uf(No.prototype,{Ca:{name:"addScope",j:[Xh("scope")]},Ka:{name:"setCustomParameters",j:[ef("customOAuthParameters")]}}),lf(No,"credential",Co,[sf(Xh(),ef(),"token")]),uf(Ao.prototype,{Ca:{name:"addScope",j:[Xh("scope")]},Ka:{name:"setCustomParameters",j:[ef("customOAuthParameters")]}}),lf(Ao,"credential",xo,[sf(Xh(),sf(ef(),nf()),"idToken"),sf(Xh(),nf(),"accessToken",!0)]),uf(Ro.prototype,{Ka:{name:"setCustomParameters",j:[ef("customOAuthParameters")]}}),lf(Ro,"credential",Oo,[sf(Xh(),ef(),"token"),Xh("secret",!0)]),uf(To.prototype,{Ca:{name:"addScope",j:[Xh("scope")]},credential:{name:"credential",j:[sf(Xh(),sf(ef(),nf()),"optionsOrIdToken"),sf(Xh(),nf(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[ef("customOAuthParameters")]}}),uf(bo.prototype,{w:{name:"toJSON",j:[Xh(null,!0)]}}),uf(go.prototype,{w:{name:"toJSON",j:[Xh(null,!0)]}}),lf(Vo,"credential",qo,[Xh("verificationId"),Xh("verificationCode")]),uf(Vo.prototype,{gb:{name:"verifyPhoneNumber",j:[sf(Xh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?of(e.session,ho)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?of(e.session,fo)&&af(e.multiFactorHint):e.session&&e.multiFactorUid?of(e.session,fo)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),uf(Fo.prototype,{w:{name:"toJSON",j:[Xh(null,!0)]}}),uf(S.prototype,{toJSON:{name:"toJSON",j:[Xh(null,!0)]}}),uf($o.prototype,{toJSON:{name:"toJSON",j:[Xh(null,!0)]}}),uf(Jo.prototype,{toJSON:{name:"toJSON",j:[Xh(null,!0)]}}),uf(ll.prototype,{toJSON:{name:"toJSON",j:[Xh(null,!0)]}}),uf(sl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),uf(gl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Xh("displayName",!0)]},bd:{name:"unenroll",j:[sf({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:af},Xh(),"multiFactorInfoIdentifier")]}}),uf(Yh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),lf(Ii,"parseLink",Di,[Xh("link")]),lf(Ph,"assertion",(function(e){return new pl(e)}),[rf("phone")]),function(){if("undefined"===typeof G.default||!G.default.INTERNAL||!G.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:di,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:fi,VERIFY_AND_CHANGE_EMAIL:pi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:dh,AuthCredential:po,Error:S};lf(e,"EmailAuthProvider",jo,[]),lf(e,"FacebookAuthProvider",Io,[]),lf(e,"GithubAuthProvider",No,[]),lf(e,"GoogleAuthProvider",Ao,[]),lf(e,"TwitterAuthProvider",Ro,[]),lf(e,"OAuthProvider",To,[Xh("providerId")]),lf(e,"SAMLAuthProvider",Eo,[Xh("providerId")]),lf(e,"PhoneAuthProvider",Vo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof dh)}}]),lf(e,"RecaptchaVerifier",Yh,[sf(Xh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),ef("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof G.default.app.App)}}]),lf(e,"ActionCodeURL",Ii,[]),lf(e,"PhoneMultiFactorGenerator",Ph,[]),G.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new dh(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),G.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:w((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:w(e.nc,e),addAuthTokenListener:w(e.cc,e),removeAuthTokenListener:w(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),G.default.registerVersion("@firebase/auth","0.16.8"),G.default.INTERNAL.extendNamespace({User:Sl})}()}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});n(895);var K=n(388),W=n(971),H=n(386),Q=function(e,t){return Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Q(e,t)};function Y(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var J,$="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},X=X||{},Z=$||self;function ee(){}function te(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ne(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var re="closure_uid_"+(1e9*Math.random()>>>0),ie=0;function oe(e,t,n){return e.call.apply(e.bind,arguments)}function ae(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function se(e,t,n){return(se=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oe:ae).apply(null,arguments)}function ue(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ce(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function le(){this.s=this.s,this.o=this.o}var he={};le.prototype.s=!1,le.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,re)&&e[re]||(e[re]=++ie)}(this);delete he[e]}},le.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var fe=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},de=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function pe(e){return Array.prototype.concat.apply([],arguments)}function me(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ge(e){return/^[\s\xa0]*$/.test(e)}var ve,ye=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function be(e,t){return-1!=e.indexOf(t)}function _e(e,t){return e<t?-1:e>t?1:0}e:{var we=Z.navigator;if(we){var ke=we.userAgent;if(ke){ve=ke;break e}}ve=""}function Ee(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Te(e){var t={};for(var n in e)t[n]=e[n];return t}var Ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Se(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Ie.length;o++)n=Ie[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ne(e){return Ne[" "](e),e}Ne[" "]=ee;var Ce,Ae=be(ve,"Opera"),xe=be(ve,"Trident")||be(ve,"MSIE"),Re=be(ve,"Edge"),Oe=Re||xe,De=be(ve,"Gecko")&&!(be(ve.toLowerCase(),"webkit")&&!be(ve,"Edge"))&&!(be(ve,"Trident")||be(ve,"MSIE"))&&!be(ve,"Edge"),Pe=be(ve.toLowerCase(),"webkit")&&!be(ve,"Edge");function je(){var e=Z.document;return e?e.documentMode:void 0}e:{var Me="",Le=function(){var e=ve;return De?/rv:([^\);]+)(\)|;)/.exec(e):Re?/Edge\/([\d\.]+)/.exec(e):xe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Pe?/WebKit\/(\S+)/.exec(e):Ae?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Le&&(Me=Le?Le[1]:""),xe){var Fe=je();if(null!=Fe&&Fe>parseFloat(Me)){Ce=String(Fe);break e}}Ce=Me}var Ue,Be={};function Ve(){return function(e){var t=Be;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=ye(String(Ce)).split("."),n=ye("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=_e(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||_e(0==o[2].length,0==a[2].length)||_e(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(Z.document&&xe){var qe=je();Ue=qe||(parseInt(Ce,10)||void 0)}else Ue=void 0;var ze=Ue,Ge=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Z.addEventListener("test",ee,t),Z.removeEventListener("test",ee,t)}catch(n){}return e}();function Ke(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function We(e,t){if(Ke.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(De){e:{try{Ne(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:He[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&We.Z.h.call(this)}}Ke.prototype.h=function(){this.defaultPrevented=!0},ce(We,Ke);var He={2:"touch",3:"pen",4:"mouse"};We.prototype.h=function(){We.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Qe="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function Je(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ye,this.ca=this.fa=!1}function $e(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Xe(e){this.src=e,this.g={},this.h=0}function Ze(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=fe(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&($e(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function et(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}Xe.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=et(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new Je(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var tt="closure_lm_"+(1e6*Math.random()|0),nt={};function rt(e,t,n,r,i){if(r&&r.once)return ot(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)rt(e,t[o],n,r,i);return null}return n=ft(n),e&&e[Qe]?e.N(t,n,ne(r)?!!r.capture:!!r,i):it(e,t,n,!1,r,i)}function it(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=ne(i)?!!i.capture:!!i,s=lt(e);if(s||(e[tt]=s=new Xe(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ct;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ge||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ut(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ot(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ot(e,t[o],n,r,i);return null}return n=ft(n),e&&e[Qe]?e.O(t,n,ne(r)?!!r.capture:!!r,i):it(e,t,n,!0,r,i)}function at(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)at(e,t[o],n,r,i);else r=ne(r)?!!r.capture:!!r,n=ft(n),e&&e[Qe]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=et(o=e.g[t],n,r,i))&&($e(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=lt(e))&&(t=e.g[t.toString()],e=-1,t&&(e=et(t,n,r,i)),(n=-1<e?t[e]:null)&&st(n))}function st(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Qe])Ze(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ut(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=lt(t))?(Ze(n,e),0==n.h&&(n.src=null,t[tt]=null)):$e(e)}}}function ut(e){return e in nt?nt[e]:nt[e]="on"+e}function ct(e,t){if(e.ca)e=!0;else{t=new We(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&st(e),e=n.call(r,t)}return e}function lt(e){return(e=e[tt])instanceof Xe?e:null}var ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function ft(e){return"function"===typeof e?e:(e[ht]||(e[ht]=function(t){return e.handleEvent(t)}),e[ht])}function dt(){le.call(this),this.i=new Xe(this),this.P=this,this.I=null}function pt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Ke(t,e);else if(t instanceof Ke)t.target=t.target||e;else{var i=t;Se(t=new Ke(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=mt(a,r,!0,t)&&i}if(i=mt(a=t.g=e,r,!0,t)&&i,i=mt(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=mt(a=t.g=n[o],r,!1,t)&&i}function mt(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&Ze(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}ce(dt,le),dt.prototype[Qe]=!0,dt.prototype.removeEventListener=function(e,t,n,r){at(this,e,t,n,r)},dt.prototype.M=function(){if(dt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$e(n[r]);delete t.g[e],t.h--}}this.I=null},dt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},dt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var gt=Z.JSON.stringify;function vt(){var e=It,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var yt,bt=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=_t.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),_t=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new wt}),(function(e){return e.reset()})),wt=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function kt(e){Z.setTimeout((function(){throw e}),0)}function Et(e,t){yt||function(){var e=Z.Promise.resolve(void 0);yt=function(){e.then(St)}}(),Tt||(yt(),Tt=!0),It.add(e,t)}var Tt=!1,It=new bt;function St(){for(var e;e=vt();){try{e.h.call(e.g)}catch(n){kt(n)}var t=_t;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Tt=!1}function Nt(e,t){dt.call(this),this.h=e||1,this.g=t||Z,this.j=se(this.kb,this),this.l=Date.now()}function Ct(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function At(e,t,n){if("function"===typeof e)n&&(e=se(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=se(e.handleEvent,e)}return 2147483647<Number(t)?-1:Z.setTimeout(e,t||0)}function xt(e){e.g=At((function(){e.g=null,e.i&&(e.i=!1,xt(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ce(Nt,dt),(J=Nt.prototype).da=!1,J.S=null,J.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),pt(this,"tick"),this.da&&(Ct(this),this.start()))}},J.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},J.M=function(){Nt.Z.M.call(this),Ct(this),delete this.g};var Rt=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Q(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:xt(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(le);function Ot(e){le.call(this),this.h=e,this.g={}}ce(Ot,le);var Dt=[];function Pt(e,t,n,r){Array.isArray(n)||(n&&(Dt[0]=n.toString()),n=Dt);for(var i=0;i<n.length;i++){var o=rt(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function jt(e){Ee(e.g,(function(e,t){this.g.hasOwnProperty(t)&&st(e)}),e),e.g={}}function Mt(){this.g=!0}function Lt(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return gt(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Ot.prototype.M=function(){Ot.Z.M.call(this),jt(this)},Ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mt.prototype.Aa=function(){this.g=!1},Mt.prototype.info=function(){};var Ft={},Ut=null;function Bt(){return Ut=Ut||new dt}function Vt(e){Ke.call(this,Ft.Ma,e)}function qt(e){var t=Bt();pt(t,new Vt(t,e))}function zt(e,t){Ke.call(this,Ft.STAT_EVENT,e),this.stat=t}function Gt(e){var t=Bt();pt(t,new zt(t,e))}function Kt(e,t){Ke.call(this,Ft.Na,e),this.size=t}function Wt(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Z.setTimeout((function(){e()}),t)}Ft.Ma="serverreachability",ce(Vt,Ke),Ft.STAT_EVENT="statevent",ce(zt,Ke),Ft.Na="timingevent",ce(Kt,Ke);var Ht={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Qt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Yt(){}function Jt(e){return e.h||(e.h=e.i())}function $t(){}Yt.prototype.h=null;var Xt,Zt={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function en(){Ke.call(this,"d")}function tn(){Ke.call(this,"c")}function nn(){}function rn(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ot(this),this.P=an,e=Oe?125:void 0,this.W=new Nt(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new on}function on(){this.i=null,this.g="",this.h=!1}ce(en,Ke),ce(tn,Ke),ce(nn,Yt),nn.prototype.g=function(){return new XMLHttpRequest},nn.prototype.i=function(){return{}},Xt=new nn;var an=45e3,sn={},un={};function cn(e,t,n){e.K=1,e.v=On(Sn(t)),e.s=n,e.U=!0,ln(e,null)}function ln(e,t){e.F=Date.now(),pn(e),e.A=Sn(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Kn(n.h,"t",r),e.C=0,n=e.l.H,e.h=new on,e.g=Hr(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Rt(se(e.Ia,e,e.g),e.O)),Pt(e.V,e.g,"readystatechange",e.gb),t=e.H?Te(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),qt(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function hn(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function fn(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=dn(e,n))==un){4==t&&(e.o=4,Gt(14),i=!1),Lt(e.j,e.m,null,"[Incomplete Response]");break}if(r==sn){e.o=4,Gt(15),Lt(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Lt(e.j,e.m,r,null),bn(e,r)}hn(e)&&r!=un&&r!=sn&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Gt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ur(t),t.L=!0,Gt(11))):(Lt(e.j,e.m,n,"[Invalid Chunked Response]"),yn(e),vn(e))}function dn(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?un:(n=Number(t.substring(n,r)),isNaN(n)?sn:(r+=1)+n>t.length?un:(t=t.substr(r,n),e.C=r+n,t))}function pn(e){e.Y=Date.now()+e.P,mn(e,e.P)}function mn(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Wt(se(e.eb,e),t)}function gn(e){e.B&&(Z.clearTimeout(e.B),e.B=null)}function vn(e){0==e.l.G||e.I||qr(e.l,e)}function yn(e){gn(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ct(e.W),jt(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function bn(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Zn(n.i,e)))if(n.I=e.N,!e.J&&Zn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Vr(n),xr(n)}Fr(n),Gt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Wt(se(n.ab,n),6e3));if(1>=Xn(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Gr(n,11)}else if((e.J||n.g==e)&&Vr(n),!ge(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(be(l,"spdy")||be(l,"quic")||be(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(er(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Rn(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Wr(r,r.H?r.la:null,r.W),d.J){tr(r.i,d);var p=d,m=r.K;m&&p.setTimeout(m),p.B&&(gn(p),pn(p)),r.g=d}else Lr(r);0<n.l.length&&Dr(n)}else"stop"!=o[0]&&"close"!=o[0]||Gr(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Gr(n,7):Ar(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}qt(4)}catch(o){}}function _n(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(te(e)||"string"===typeof e)de(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(te(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(te(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function wn(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof wn)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function kn(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];En(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)En(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function En(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(J=rn.prototype).setTimeout=function(e){this.P=e},J.gb=function(e){e=e.target;var t=this.L;t&&3==Tr(e)?t.l():this.Ia(e)},J.Ia=function(e){try{if(e==this.g)e:{var t=Tr(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Oe||this.g&&(this.h.h||this.g.ga()||Ir(this.g)))){this.I||4!=t||7==n||qt(8==n||0>=r?3:2),gn(this);var i=this.g.ba();this.N=i;t:if(hn(this)){var o=Ir(this.g);e="";var a=o.length,s=4==Tr(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){yn(this),vn(this);var u="";break t}this.h.i=new Z.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ge(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,Gt(12),yn(this),vn(this);break e}Lt(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,bn(this,i)}this.U?(fn(this,t,u),Oe&&this.i&&3==t&&(Pt(this.V,this.W,"tick",this.fb),this.W.start())):(Lt(this.j,this.m,u,null),bn(this,u)),4==t&&yn(this),this.i&&!this.I&&(4==t?qr(this.l,this):(this.i=!1,pn(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Gt(12)):(this.o=0,Gt(13)),yn(this),vn(this)}}}catch(t){}},J.fb=function(){if(this.g){var e=Tr(this.g),t=this.g.ga();this.C<t.length&&(gn(this),fn(this,e,t),this.i&&4!=e&&pn(this))}},J.cancel=function(){this.I=!0,yn(this)},J.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(qt(3),Gt(17)),yn(this),this.o=2,vn(this)):mn(this,this.Y-e)},(J=wn.prototype).R=function(){kn(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},J.T=function(){return kn(this),this.g.concat()},J.get=function(e,t){return En(this.h,e)?this.h[e]:t},J.set=function(e,t){En(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},J.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Tn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function In(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof In){this.g=void 0!==t?t:e.g,Nn(this,e.j),this.s=e.s,Cn(this,e.i),An(this,e.m),this.l=e.l,t=e.h;var n=new Vn;n.i=t.i,t.g&&(n.g=new wn(t.g),n.h=t.h),xn(this,n),this.o=e.o}else e&&(n=String(e).match(Tn))?(this.g=!!t,Nn(this,n[1]||"",!0),this.s=Dn(n[2]||""),Cn(this,n[3]||"",!0),An(this,n[4]),this.l=Dn(n[5]||"",!0),xn(this,n[6]||"",!0),this.o=Dn(n[7]||"")):(this.g=!!t,this.h=new Vn(null,this.g))}function Sn(e){return new In(e)}function Nn(e,t,n){e.j=n?Dn(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Cn(e,t,n){e.i=n?Dn(t,!0):t}function An(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function xn(e,t,n){t instanceof Vn?(e.h=t,function(e,t){t&&!e.j&&(qn(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(zn(this,t),Kn(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Pn(t,Un)),e.h=new Vn(t,e.g))}function Rn(e,t,n){e.h.set(t,n)}function On(e){return Rn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Dn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Pn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,jn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function jn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}In.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Pn(t,Mn,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Pn(t,Mn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Pn(n,"/"==n.charAt(0)?Fn:Ln,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Pn(n,Bn)),e.join("")};var Mn=/[#\/\?@]/g,Ln=/[#\?:]/g,Fn=/[#\?]/g,Un=/[#\?@]/g,Bn=/#/g;function Vn(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function qn(e){e.g||(e.g=new wn,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function zn(e,t){qn(e),t=Wn(e,t),En(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,En((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&kn(e)))}function Gn(e,t){return qn(e),t=Wn(e,t),En(e.g.h,t)}function Kn(e,t,n){zn(e,t),0<n.length&&(e.i=null,e.g.set(Wn(e,t),me(n)),e.h+=n.length)}function Wn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(J=Vn.prototype).add=function(e,t){qn(this),this.i=null,e=Wn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},J.forEach=function(e,t){qn(this),this.g.forEach((function(n,r){de(n,(function(n){e.call(t,n,r,this)}),this)}),this)},J.T=function(){qn(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},J.R=function(e){qn(this);var t=[];if("string"===typeof e)Gn(this,e)&&(t=pe(t,this.g.get(Wn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=pe(t,e[n])}return t},J.set=function(e,t){return qn(this),this.i=null,Gn(this,e=Wn(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},J.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},J.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var Hn=function(e,t){this.h=e,this.g=t};function Qn(e){this.l=e||Jn,Z.PerformanceNavigationTiming?e=0<(e=Z.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Z.g&&Z.g.Ea&&Z.g.Ea()&&Z.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Yn,Jn=10;function $n(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xn(e){return e.h?1:e.g?e.g.size:0}function Zn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function er(e,t){e.g?e.g.add(t):e.h=t}function tr(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nr(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=Y(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return me(e.i)}function rr(){}function ir(){this.g=new rr}function or(e,t,n){var r=n||"";try{_n(e,(function(e,n){var i=e;ne(e)&&(i=gt(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Cp){throw t.push(r+"type="+encodeURIComponent("_badmap")),Cp}}function ar(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function sr(e){this.l=e.$b||null,this.j=e.ib||!1}function ur(e,t){dt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=cr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qn.prototype.cancel=function(){var e,t;if(this.i=nr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Y(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},rr.prototype.stringify=function(e){return Z.JSON.stringify(e,void 0)},rr.prototype.parse=function(e){return Z.JSON.parse(e,void 0)},ce(sr,Yt),sr.prototype.g=function(){return new ur(this.l,this.j)},sr.prototype.i=(Yn={},function(){return Yn}),ce(ur,dt);var cr=0;function lr(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function hr(e){e.readyState=4,e.l=null,e.j=null,e.A=null,fr(e)}function fr(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(J=ur.prototype).open=function(e,t){if(this.readyState!=cr)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,fr(this)},J.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Z).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hr(this)),this.readyState=cr},J.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,fr(this)),this.g&&(this.readyState=3,fr(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Z.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lr(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},J.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?hr(this):fr(this),3==this.readyState&&lr(this)}},J.Ua=function(e){this.g&&(this.response=this.responseText=e,hr(this))},J.Ta=function(e){this.g&&(this.response=e,hr(this))},J.ha=function(){this.g&&hr(this)},J.setRequestHeader=function(e,t){this.v.append(e,t)},J.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},J.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ur.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var dr=Z.JSON.parse;function pr(e){dt.call(this),this.headers=new wn,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=mr,this.K=this.L=!1}ce(pr,dt);var mr="",gr=/^https?$/i,vr=["POST","PUT"];function yr(e){return"content-type"==e.toLowerCase()}function br(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,_r(e),kr(e)}function _r(e){e.D||(e.D=!0,pt(e,"complete"),pt(e,"error"))}function wr(e){if(e.h&&"undefined"!=typeof X&&(!e.C[1]||4!=Tr(e)||2!=e.ba()))if(e.v&&4==Tr(e))At(e.Fa,0,e);else if(pt(e,"readystatechange"),4==Tr(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(Tn)[1]||null;if(!o&&Z.self&&Z.self.location){var a=Z.self.location.protocol;o=a.substr(0,a.length-1)}i=!gr.test(o?o.toLowerCase():"")}t=i}if(t)pt(e,"complete"),pt(e,"success");else{e.m=6;try{var s=2<Tr(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",_r(e)}}finally{kr(e)}}}function kr(e,t){if(e.g){Er(e);var n=e.g,r=e.C[0]?ee:null;e.g=null,e.C=null,t||pt(e,"ready");try{n.onreadystatechange=r}catch(Cp){}}}function Er(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Z.clearTimeout(e.A),e.A=null)}function Tr(e){return e.g?e.g.readyState:0}function Ir(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case mr:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Sr(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Ee(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Rn(e,t,n))}function Nr(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Cr(e){this.za=0,this.l=[],this.h=new Mt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Nr("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Nr("baseRetryDelayMs",5e3,e),this.$a=Nr("retryDelaySeedMs",1e4,e),this.Ya=Nr("forwardChannelMaxRetries",2,e),this.ra=Nr("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Qn(e&&e.concurrentRequestLimit),this.Ca=new ir,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ar(e){if(Rr(e),3==e.G){var t=e.V++,n=Sn(e.F);Rn(n,"SID",e.J),Rn(n,"RID",t),Rn(n,"TYPE","terminate"),jr(e,n),(t=new rn(e,e.h,t,void 0)).K=2,t.v=On(Sn(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon&&(n=Z.navigator.sendBeacon(t.v.toString(),"")),!n&&Z.Image&&((new Image).src=t.v,n=!0),n||(t.g=Hr(t.l,null),t.g.ea(t.v)),t.F=Date.now(),pn(t)}Kr(e)}function xr(e){e.g&&(Ur(e),e.g.cancel(),e.g=null)}function Rr(e){xr(e),e.u&&(Z.clearTimeout(e.u),e.u=null),Vr(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Z.clearTimeout(e.m),e.m=null)}function Or(e,t){e.l.push(new Hn(e.Za++,t)),3==e.G&&Dr(e)}function Dr(e){$n(e.i)||e.m||(e.m=!0,Et(e.Ha,e),e.C=0)}function Pr(e,t){var n;n=t?t.m:e.V++;var r=Sn(e.F);Rn(r,"SID",e.J),Rn(r,"RID",n),Rn(r,"AID",e.U),jr(e,r),e.o&&e.s&&Sr(r,e.o,e.s),n=new rn(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Mr(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),er(e.i,n),cn(n,r,t)}function jr(e,t){e.j&&_n({},(function(e,n){Rn(t,n,e)}))}function Mr(e,t,n){n=Math.min(e.l.length,n);var r=e.j?se(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{or(l,a,"req"+c+"_")}catch(Ci){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Lr(e){e.g||e.u||(e.Y=1,Et(e.Ga,e),e.A=0)}function Fr(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Wt(se(e.Ga,e),zr(e,e.A)),e.A++,!0)}function Ur(e){null!=e.B&&(Z.clearTimeout(e.B),e.B=null)}function Br(e){e.g=new rn(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Sn(e.oa);Rn(t,"RID","rpc"),Rn(t,"SID",e.J),Rn(t,"CI",e.N?"0":"1"),Rn(t,"AID",e.U),jr(e,t),Rn(t,"TYPE","xmlhttp"),e.o&&e.s&&Sr(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=On(Sn(t)),n.s=null,n.U=!0,ln(n,e)}function Vr(e){null!=e.v&&(Z.clearTimeout(e.v),e.v=null)}function qr(e,t){var n=null;if(e.g==t){Vr(e),Ur(e),e.g=null;var r=2}else{if(!Zn(e.i,t))return;n=t.D,tr(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;pt(r=Bt(),new Kt(r,n,t,i)),Dr(e)}else Lr(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Xn(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Wt(se(e.Ha,e,t),zr(e,e.C)),e.C++,!0))}(e,t)||2==r&&Fr(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Gr(e,5);break;case 4:Gr(e,10);break;case 3:Gr(e,6);break;default:Gr(e,2)}}function zr(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Gr(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=se(e.jb,e);n||(n=new In("//www.google.com/images/cleardot.gif"),Z.location&&"http"==Z.location.protocol||Nn(n,"https"),On(n)),function(e,t){var n=new Mt;if(Z.Image){var r=new Image;r.onload=ue(ar,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ue(ar,n,r,"TestLoadImage: error",!1,t),r.onabort=ue(ar,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ue(ar,n,r,"TestLoadImage: timeout",!1,t),Z.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Gt(2);e.G=0,e.j&&e.j.va(t),Kr(e),Rr(e)}function Kr(e){e.G=0,e.I=-1,e.j&&(0==nr(e.i).length&&0==e.l.length||(e.i.i.length=0,me(e.l),e.l.length=0),e.j.ua())}function Wr(e,t,n){var r=function(e){return e instanceof In?Sn(e):new In(e,void 0)}(n);if(""!=r.i)t&&Cn(r,t+"."+r.i),An(r,r.m);else{var i=Z.location;r=function(e,t,n,r){var i=new In(null,void 0);return e&&Nn(i,e),t&&Cn(i,t),n&&An(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Ee(e.aa,(function(e,t){Rn(r,t,e)})),t=e.D,n=e.sa,t&&n&&Rn(r,t,n),Rn(r,"VER",e.ma),jr(e,r),r}function Hr(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new pr(new sr({ib:!0})):new pr(e.qa)).L=e.H,t}function Qr(){}function Yr(){if(xe&&!(10<=Number(ze)))throw Error("Environmental error: no available transport.")}function Jr(e,t){dt.call(this),this.g=new Cr(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ge(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ge(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Zr(this)}function $r(e){en.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Xr(){tn.call(this),this.status=1}function Zr(e){this.g=e}(J=pr.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Xt.g(),this.C=this.u?Jt(this.u):Jt(Xt),this.g.onreadystatechange=se(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void br(this,o)}e=n||"";var i=new wn(this.headers);r&&_n(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=yr,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Z.FormData&&e instanceof Z.FormData,!(0<=fe(vr,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Er(this),0<this.B&&((this.K=function(e){return xe&&Ve()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=se(this.pa,this)):this.A=At(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){br(this,o)}},J.pa=function(){"undefined"!=typeof X&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pt(this,"timeout"),this.abort(8))},J.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,pt(this,"complete"),pt(this,"abort"),kr(this))},J.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kr(this,!0)),pr.Z.M.call(this)},J.Fa=function(){this.s||(this.F||this.v||this.l?wr(this):this.cb())},J.cb=function(){wr(this)},J.ba=function(){try{return 2<Tr(this)?this.g.status:-1}catch(Yn){return-1}},J.ga=function(){try{return this.g?this.g.responseText:""}catch(Yn){return""}},J.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),dr(t)}},J.Da=function(){return this.m},J.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(J=Cr.prototype).ma=8,J.G=1,J.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},J.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new rn(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Se(n=Te(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Mr(this,t,r),Rn(i=Sn(this.F),"RID",e),Rn(i,"CVER",22),this.D&&Rn(i,"X-HTTP-Session-Id",this.D),jr(this,i),this.o&&n&&Sr(i,this.o,n),er(this.i,t),this.Ra&&Rn(i,"TYPE","init"),this.ja?(Rn(i,"$req",r),Rn(i,"SID","null"),t.$=!0,cn(t,i,null)):cn(t,i,r),this.G=2}}else 3==this.G&&(e?Pr(this,e):0==this.l.length||$n(this.i)||Pr(this))},J.Ga=function(){if(this.u=null,Br(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Wt(se(this.bb,this),e)}},J.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Gt(10),xr(this),Br(this))},J.ab=function(){null!=this.v&&(this.v=null,xr(this),Fr(this),Gt(19))},J.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Gt(2)):(this.h.info("Failed to ping google.com"),Gt(1))},(J=Qr.prototype).xa=function(){},J.wa=function(){},J.va=function(){},J.ua=function(){},J.Oa=function(){},Yr.prototype.g=function(e,t){return new Jr(e,t)},ce(Jr,dt),Jr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Et(se(e.hb,e,t))),Gt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Wr(e,null,e.W),Dr(e)},Jr.prototype.close=function(){Ar(this.g)},Jr.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Or(this.g,t)}else this.v?((t={}).__data__=gt(e),Or(this.g,t)):Or(this.g,e)},Jr.prototype.M=function(){this.g.j=null,delete this.j,Ar(this.g),delete this.g,Jr.Z.M.call(this)},ce($r,en),ce(Xr,tn),ce(Zr,Qr),Zr.prototype.xa=function(){pt(this.g,"a")},Zr.prototype.wa=function(e){pt(this.g,new $r(e))},Zr.prototype.va=function(e){pt(this.g,new Xr(e))},Zr.prototype.ua=function(){pt(this.g,"b")},Yr.prototype.createWebChannel=Yr.prototype.g,Jr.prototype.send=Jr.prototype.u,Jr.prototype.open=Jr.prototype.m,Jr.prototype.close=Jr.prototype.close,Ht.NO_ERROR=0,Ht.TIMEOUT=8,Ht.HTTP_ERROR=6,Qt.COMPLETE="complete",$t.EventType=Zt,Zt.OPEN="a",Zt.CLOSE="b",Zt.ERROR="c",Zt.MESSAGE="d",dt.prototype.listen=dt.prototype.N,pr.prototype.listenOnce=pr.prototype.O,pr.prototype.getLastError=pr.prototype.La,pr.prototype.getLastErrorCode=pr.prototype.Da,pr.prototype.getStatus=pr.prototype.ba,pr.prototype.getResponseJson=pr.prototype.Qa,pr.prototype.getResponseText=pr.prototype.ga,pr.prototype.send=pr.prototype.ea;var ei=function(){return new Yr},ti=function(){return Bt()},ni=Ht,ri=Qt,ii=Ft,oi={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ai=sr,si=$t,ui=pr,ci=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();ci.o=-1;var li={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},hi=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,K.__extends)(t,e),t}(Error),fi=new H.Logger("@firebase/firestore");function di(){return fi.logLevel}function pi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(fi.logLevel<=H.LogLevel.DEBUG){var r=t.map(vi);fi.debug.apply(fi,(0,K.__spreadArray)(["Firestore (8.10.1): "+e],r))}}function mi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(fi.logLevel<=H.LogLevel.ERROR){var r=t.map(vi);fi.error.apply(fi,(0,K.__spreadArray)(["Firestore (8.10.1): "+e],r))}}function gi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(fi.logLevel<=H.LogLevel.WARN){var r=t.map(vi);fi.warn.apply(fi,(0,K.__spreadArray)(["Firestore (8.10.1): "+e],r))}}function vi(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function yi(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw mi(t),new Error(t)}function bi(e,t){e||yi()}function _i(e,t){return e}function wi(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var ki=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=wi(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function Ei(e,t){return e<t?-1:e>t?1:0}function Ti(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ii(e){return e+"\0"}var Si=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new hi(li.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new hi(li.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new hi(li.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new hi(li.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Ei(this.nanoseconds,e.nanoseconds):Ei(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Ni=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Si(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function Ci(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ai(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function xi(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Ri=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&yi(),void 0===n?n=e.length-t:n>e.length-t&&yi(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Oi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,K.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new hi(li.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Ri),Di=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Pi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,K.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Di.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new hi(li.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new hi(li.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new hi(li.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new hi(li.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Ri),ji=function(){function e(e){this.fields=e,e.sort(Pi.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Ti(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Mi=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Ei(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();Mi.EMPTY_BYTE_STRING=new Mi("");var Li=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fi(e){if(bi(!!e),"string"==typeof e){var t=0,n=Li.exec(e);if(bi(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ui(e.seconds),nanos:Ui(e.nanos)}}function Ui(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Bi(e){return"string"==typeof e?Mi.fromBase64String(e):Mi.fromUint8Array(e)}function Vi(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function qi(e){var t=e.mapValue.fields.__previous_value__;return Vi(t)?qi(t):t}function zi(e){var t=Fi(e.mapValue.fields.__local_write_time__.timestampValue);return new Si(t.seconds,t.nanos)}function Gi(e){return null==e}function Ki(e){return 0===e&&1/e==-1/0}function Wi(e){return"number"==typeof e&&Number.isInteger(e)&&!Ki(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Hi=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Oi.fromString(t))},e.fromName=function(t){return new e(Oi.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Oi.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Oi.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Oi(t.slice()))},e}();function Qi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Vi(e)?4:10:yi()}function Yi(e,t){var n=Qi(e);if(n!==Qi(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return zi(e).isEqual(zi(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Fi(e.timestampValue),r=Fi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Bi(e.bytesValue).isEqual(Bi(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ui(e.geoPointValue.latitude)===Ui(t.geoPointValue.latitude)&&Ui(e.geoPointValue.longitude)===Ui(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ui(e.integerValue)===Ui(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ui(e.doubleValue),r=Ui(t.doubleValue);return n===r?Ki(n)===Ki(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ti(e.arrayValue.values||[],t.arrayValue.values||[],Yi);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ci(n)!==Ci(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Yi(n[i],r[i])))return!1;return!0}(e,t);default:return yi()}}function Ji(e,t){return void 0!==(e.values||[]).find((function(e){return Yi(e,t)}))}function $i(e,t){var n=Qi(e),r=Qi(t);if(n!==r)return Ei(n,r);switch(n){case 0:return 0;case 1:return Ei(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ui(e.integerValue||e.doubleValue),r=Ui(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Xi(e.timestampValue,t.timestampValue);case 4:return Xi(zi(e),zi(t));case 5:return Ei(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Bi(e),r=Bi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Ei(n[i],r[i]);if(0!==o)return o}return Ei(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ei(Ui(e.latitude),Ui(t.latitude));return 0!==n?n:Ei(Ui(e.longitude),Ui(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=$i(n[i],r[i]);if(o)return o}return Ei(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Ei(r[a],o[a]);if(0!==s)return s;var u=$i(n[r[a]],i[o[a]]);if(0!==u)return u}return Ei(r.length,o.length)}(e.mapValue,t.mapValue);default:throw yi()}}function Xi(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ei(e,t);var n=Fi(e),r=Fi(t),i=Ei(n.seconds,r.seconds);return 0!==i?i:Ei(n.nanos,r.nanos)}function Zi(e){return eo(e)}function eo(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Fi(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Bi(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Hi.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=eo(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+eo(e.fields[o])}return t+"}"}(e.mapValue):yi();var t,n}function to(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function no(e){return!!e&&"integerValue"in e}function ro(e){return!!e&&"arrayValue"in e}function io(e){return!!e&&"nullValue"in e}function oo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ao(e){return!!e&&"mapValue"in e}function so(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ai(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=so(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=so(e.arrayValue.values[r]);return n}return Object.assign({},e)}var uo=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ao(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=so(t)},e.prototype.setAll=function(e){var t=this,n=Pi.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=so(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());ao(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return Yi(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ao(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){Ai(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(so(this.value))},e}();function co(e){var t=[];return Ai(e.fields,(function(e,n){var r=new Pi([e]);if(ao(n)){var i=co(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new ji(t)}var lo=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,Ni.min(),uo.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,uo.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,uo.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=uo.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=uo.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),ho=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function fo(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new ho(e,t,n,r,i,o,a)}function po(e){var t=_i(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Zi(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Gi(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=No(t.startAt)),t.endAt&&(n+="|ub:",n+=No(t.endAt)),t.h=n}return t.h}function mo(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ao(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Yi(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ro(e.startAt,t.startAt)&&Ro(e.endAt,t.endAt)}function go(e){return Hi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var vo=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return(0,K.__extends)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new yo(e,n,r):"array-contains"===n?new ko(e,r):"in"===n?new Eo(e,r):"not-in"===n?new To(e,r):"array-contains-any"===n?new Io(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new bo(e,n):new _o(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m($i(t,this.value)):null!==t&&Qi(this.value)===Qi(t)&&this.m($i(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yi()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),yo=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Hi.fromName(r.referenceValue),i}return(0,K.__extends)(t,e),t.prototype.matches=function(e){var t=Hi.comparator(e.key,this.key);return this.m(t)},t}(vo),bo=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=wo("in",n),r}return(0,K.__extends)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(vo),_o=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=wo("not-in",n),r}return(0,K.__extends)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(vo);function wo(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Hi.fromName(e.referenceValue)}))}var ko=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return(0,K.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return ro(t)&&Ji(t.arrayValue,this.value)},t}(vo),Eo=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return(0,K.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&Ji(this.value.arrayValue,t)},t}(vo),To=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return(0,K.__extends)(t,e),t.prototype.matches=function(e){if(Ji(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ji(this.value.arrayValue,t)},t}(vo),Io=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return(0,K.__extends)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!ro(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ji(t.value.arrayValue,e)}))},t}(vo),So=function(e,t){this.position=e,this.before=t};function No(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Zi(e)})).join(",")}var Co=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Ao(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function xo(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Hi.comparator(Hi.fromName(a.referenceValue),n.key):$i(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Ro(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Yi(e.position[n],t.position[n]))return!1;return!0}var Oo=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Do(e,t,n,r,i,o,a,s){return new Oo(e,t,n,r,i,o,a,s)}function Po(e){return new Oo(e)}function jo(e){return!Gi(e.limit)&&"F"===e.limitType}function Mo(e){return!Gi(e.limit)&&"L"===e.limitType}function Lo(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Fo(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Uo(e){return null!==e.collectionGroup}function Bo(e){var t=_i(e);if(null===t.p){t.p=[];var n=Fo(t),r=Lo(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Co(n)),t.p.push(new Co(Pi.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Co(Pi.keyField(),u))}}}return t.p}function Vo(e){var t=_i(e);if(!t.T)if("F"===t.limitType)t.T=fo(t.path,t.collectionGroup,Bo(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Bo(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Co(o.field,a))}var s=t.endAt?new So(t.endAt.position,!t.endAt.before):null,u=t.startAt?new So(t.startAt.position,!t.startAt.before):null;t.T=fo(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function qo(e,t,n){return new Oo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function zo(e,t){return mo(Vo(e),Vo(t))&&e.limitType===t.limitType}function Go(e){return po(Vo(e))+"|lt:"+e.limitType}function Ko(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+Zi(t.value);var t})).join(", ")+"]"),Gi(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+No(e.startAt)),e.endAt&&(t+=", endAt: "+No(e.endAt)),"Target("+t+")"}(Vo(e))+"; limitType="+e.limitType+")"}function Wo(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Hi.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!xo(e.startAt,Bo(e),t))&&(!e.endAt||!xo(e.endAt,Bo(e),t))}(e,t)}function Ho(e){return function(t,n){for(var r=!1,i=0,o=Bo(e);i<o.length;i++){var a=o[i],s=Qo(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Qo(e,t,n){var r=e.field.isKeyField()?Hi.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?$i(r,i):yi()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return yi()}}function Yo(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ki(t)?"-0":t}}function Jo(e){return{integerValue:""+e}}function $o(e,t){return Wi(t)?Jo(t):Yo(e,t)}var Xo=function(){this._=void 0};function Zo(e,t,n){return e instanceof na?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ra?ia(e,t):e instanceof oa?aa(e,t):function(e,t){var n=ta(e,t),r=ua(n)+ua(e.A);return no(n)&&no(e.A)?Jo(r):Yo(e.R,r)}(e,t)}function ea(e,t,n){return e instanceof ra?ia(e,t):e instanceof oa?aa(e,t):n}function ta(e,t){return e instanceof sa?no(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var na=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,K.__extends)(t,e),t}(Xo),ra=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,K.__extends)(t,e),t}(Xo);function ia(e,t){for(var n=ca(t),r=function(e){n.some((function(t){return Yi(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var oa=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,K.__extends)(t,e),t}(Xo);function aa(e,t){for(var n=ca(t),r=function(e){n=n.filter((function(t){return!Yi(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var sa=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return(0,K.__extends)(t,e),t}(Xo);function ua(e){return Ui(e.integerValue||e.doubleValue)}function ca(e){return ro(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var la=function(e,t){this.field=e,this.transform=t},ha=function(e,t){this.version=e,this.transformResults=t},fa=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function da(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var pa=function(){};function ma(e,t,n){e instanceof _a?function(e,t,n){var r=e.value.clone(),i=Ea(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof wa?function(e,t,n){if(da(e.precondition,t)){var r=Ea(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ka(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ga(e,t,n){e instanceof _a?function(e,t,n){if(da(e.precondition,t)){var r=e.value.clone(),i=Ta(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(ba(t),r).setHasLocalMutations()}}(e,t,n):e instanceof wa?function(e,t,n){if(da(e.precondition,t)){var r=Ta(e.fieldTransforms,n,t),i=t.data;i.setAll(ka(e)),i.setAll(r),t.convertToFoundDocument(ba(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){da(e.precondition,t)&&t.convertToNoDocument(Ni.min())}(e,t)}function va(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=ta(o.transform,a||null);null!=s&&(null==n&&(n=uo.empty()),n.set(o.field,s))}return n||null}function ya(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ti(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ra&&t instanceof ra||e instanceof oa&&t instanceof oa?Ti(e.elements,t.elements,Yi):e instanceof sa&&t instanceof sa?Yi(e.A,t.A):e instanceof na&&t instanceof na}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function ba(e){return e.isFoundDocument()?e.version:Ni.min()}var _a=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,K.__extends)(t,e),t}(pa),wa=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,K.__extends)(t,e),t}(pa);function ka(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ea(e,t,n){var r=new Map;bi(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,ea(a,s,n[i]))}return r}function Ta(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Zo(s,u,t))}return r}var Ia,Sa,Na=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,K.__extends)(t,e),t}(pa),Ca=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,K.__extends)(t,e),t}(pa),Aa=function(e){this.count=e};function xa(e){switch(e){case li.OK:return yi();case li.CANCELLED:case li.UNKNOWN:case li.DEADLINE_EXCEEDED:case li.RESOURCE_EXHAUSTED:case li.INTERNAL:case li.UNAVAILABLE:case li.UNAUTHENTICATED:return!1;case li.INVALID_ARGUMENT:case li.NOT_FOUND:case li.ALREADY_EXISTS:case li.PERMISSION_DENIED:case li.FAILED_PRECONDITION:case li.ABORTED:case li.OUT_OF_RANGE:case li.UNIMPLEMENTED:case li.DATA_LOSS:return!0;default:return yi()}}function Ra(e){if(void 0===e)return mi("GRPC error has no .code"),li.UNKNOWN;switch(e){case Ia.OK:return li.OK;case Ia.CANCELLED:return li.CANCELLED;case Ia.UNKNOWN:return li.UNKNOWN;case Ia.DEADLINE_EXCEEDED:return li.DEADLINE_EXCEEDED;case Ia.RESOURCE_EXHAUSTED:return li.RESOURCE_EXHAUSTED;case Ia.INTERNAL:return li.INTERNAL;case Ia.UNAVAILABLE:return li.UNAVAILABLE;case Ia.UNAUTHENTICATED:return li.UNAUTHENTICATED;case Ia.INVALID_ARGUMENT:return li.INVALID_ARGUMENT;case Ia.NOT_FOUND:return li.NOT_FOUND;case Ia.ALREADY_EXISTS:return li.ALREADY_EXISTS;case Ia.PERMISSION_DENIED:return li.PERMISSION_DENIED;case Ia.FAILED_PRECONDITION:return li.FAILED_PRECONDITION;case Ia.ABORTED:return li.ABORTED;case Ia.OUT_OF_RANGE:return li.OUT_OF_RANGE;case Ia.UNIMPLEMENTED:return li.UNIMPLEMENTED;case Ia.DATA_LOSS:return li.DATA_LOSS;default:return yi()}}(Sa=Ia||(Ia={}))[Sa.OK=0]="OK",Sa[Sa.CANCELLED=1]="CANCELLED",Sa[Sa.UNKNOWN=2]="UNKNOWN",Sa[Sa.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sa[Sa.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sa[Sa.NOT_FOUND=5]="NOT_FOUND",Sa[Sa.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sa[Sa.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sa[Sa.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sa[Sa.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sa[Sa.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sa[Sa.ABORTED=10]="ABORTED",Sa[Sa.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sa[Sa.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sa[Sa.INTERNAL=13]="INTERNAL",Sa[Sa.UNAVAILABLE=14]="UNAVAILABLE",Sa[Sa.DATA_LOSS=15]="DATA_LOSS";var Oa=function(){function e(e,t){this.comparator=e,this.root=t||Pa.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Pa.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Pa.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Da(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Da(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Da(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Da(this.root,e,this.comparator,!0)},e}(),Da=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Pa=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw yi();if(this.right.isRed())throw yi();var e=this.left.check();if(e!==this.right.check())throw yi();return e+(this.isRed()?0:1)},e}();Pa.EMPTY=null,Pa.RED=!0,Pa.BLACK=!1,Pa.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw yi()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw yi()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw yi()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw yi()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw yi()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Pa(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var ja=function(){function e(e){this.comparator=e,this.data=new Oa(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Ma(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Ma(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Ma=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),La=new Oa(Hi.comparator);function Fa(){return La}var Ua=new Oa(Hi.comparator);function Ba(){return Ua}var Va=new Oa(Hi.comparator);function qa(){return Va}var za=new ja(Hi.comparator);function Ga(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=za,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ka=new ja(Ei);function Wa(){return Ka}var Ha=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Qa.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Ni.min(),r,Wa(),Fa(),Ga())},e}(),Qa=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Mi.EMPTY_BYTE_STRING,n,Ga(),Ga(),Ga())},e}(),Ya=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Ja=function(e,t){this.targetId=e,this.V=t},$a=function(e,t,n,r){void 0===n&&(n=Mi.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Xa=function(){function e(){this.S=0,this.D=ts(),this.C=Mi.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=Ga(),t=Ga(),n=Ga();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:yi()}})),new Qa(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=ts()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),Za=function(){function e(e){this.W=e,this.G=new Map,this.H=Fa(),this.J=es(),this.Y=new ja(Ei)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:yi()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(go(i))if(0===n){var o=new Hi(i.path);this.tt(t,o,lo.newNoDocument(o,Ni.min()))}else bi(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&go(o.target)){var a=new Hi(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,lo.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=Ga();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Ha(e,n,this.Y,this.H,r);return this.H=Fa(),this.J=es(),this.Y=new ja(Ei),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Xa,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new ja(Ei),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||pi("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Xa),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function es(){return new Oa(Hi.comparator)}function ts(){return new Oa(Hi.comparator)}var ns={asc:"ASCENDING",desc:"DESCENDING"},rs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},is=function(e,t){this.databaseId=e,this.I=t};function os(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function as(e,t){return e.I?t.toBase64():t.toUint8Array()}function ss(e,t){return os(e,t.toTimestamp())}function us(e){return bi(!!e),Ni.fromTimestamp(function(e){var t=Fi(e);return new Si(t.seconds,t.nanos)}(e))}function cs(e,t){return function(e){return new Oi(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ls(e){var t=Oi.fromString(e);return bi(Ps(t)),t}function hs(e,t){return cs(e.databaseId,t.path)}function fs(e,t){var n=ls(t);if(n.get(1)!==e.databaseId.projectId)throw new hi(li.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new hi(li.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Hi(gs(n))}function ds(e,t){return cs(e.databaseId,t)}function ps(e){var t=ls(e);return 4===t.length?Oi.emptyPath():gs(t)}function ms(e){return new Oi(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function gs(e){return bi(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function vs(e,t,n){return{name:hs(e,t),fields:n.value.mapValue.fields}}function ys(e,t,n){var r=fs(e,t.name),i=us(t.updateTime),o=new uo({mapValue:{fields:t.fields}}),a=lo.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function bs(e,t){var n;if(t instanceof _a)n={update:vs(e,t.key,t.value)};else if(t instanceof Na)n={delete:hs(e,t.key)};else if(t instanceof wa)n={update:vs(e,t.key,t.data),updateMask:Ds(t.fieldMask)};else{if(!(t instanceof Ca))return yi();n={verify:hs(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof na)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ra)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof oa)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof sa)return{fieldPath:t.field.canonicalString(),increment:n.A};throw yi()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ss(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:yi()}(e,t.precondition)),n}function _s(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?fa.updateTime(us(e.updateTime)):void 0!==e.exists?fa.exists(e.exists):fa.none()}(t.currentDocument):fa.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)bi("REQUEST_TIME"===t.setToServerValue),n=new na;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ra(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new oa(i)}else"increment"in t?n=new sa(e,t.increment):yi();var o=Pi.fromServerFormat(t.fieldPath);return new la(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=fs(e,t.update.name),o=new uo({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new ji(t.map((function(e){return Pi.fromServerFormat(e)})))}(t.updateMask);return new wa(i,o,a,n,r)}return new _a(i,o,n,r)}if(t.delete){var s=fs(e,t.delete);return new Na(s,n)}if(t.verify){var u=fs(e,t.verify);return new Ca(u,n)}return yi()}function ws(e,t){return{documents:[ds(e,t.path)]}}function ks(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ds(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ds(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(oo(e.value))return{unaryFilter:{field:As(e.field),op:"IS_NAN"}};if(io(e.value))return{unaryFilter:{field:As(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(oo(e.value))return{unaryFilter:{field:As(e.field),op:"IS_NOT_NAN"}};if(io(e.value))return{unaryFilter:{field:As(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:As(e.field),op:Cs(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:As(e.field),direction:Ns(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||Gi(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Is(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Is(t.endAt)),n}function Es(e){var t=ps(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){bi(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Ts(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Co(xs(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Gi(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Ss(n.startAt));var l=null;return n.endAt&&(l=Ss(n.endAt)),Do(t,i,s,a,u,"F",c,l)}function Ts(e){return e?void 0!==e.unaryFilter?[Os(e)]:void 0!==e.fieldFilter?[Rs(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Ts(e)})).reduce((function(e,t){return e.concat(t)})):yi():[]}function Is(e){return{before:e.before,values:e.position}}function Ss(e){var t=!!e.before,n=e.values||[];return new So(n,t)}function Ns(e){return ns[e]}function Cs(e){return rs[e]}function As(e){return{fieldPath:e.canonicalString()}}function xs(e){return Pi.fromServerFormat(e.fieldPath)}function Rs(e){return vo.create(xs(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yi()}}(e.fieldFilter.op),e.fieldFilter.value)}function Os(e){switch(e.unaryFilter.op){case"IS_NAN":var t=xs(e.unaryFilter.field);return vo.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=xs(e.unaryFilter.field);return vo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=xs(e.unaryFilter.field);return vo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=xs(e.unaryFilter.field);return vo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return yi()}}function Ds(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ps(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function js(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Ls(t)),t=Ms(e.get(n),t);return Ls(t)}function Ms(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Ls(e){return e+"\x01\x01"}function Fs(e){var t=e.length;if(bi(t>=2),2===t)return bi("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Oi.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&yi(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:yi()}o=a+2}return new Oi(r)}var Us=function(e,t){this.seconds=e,this.nanoseconds=t},Bs=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Bs.store="owner",Bs.key="owner";var Vs=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Vs.store="mutationQueues",Vs.keyPath="userId";var qs=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};qs.store="mutations",qs.keyPath="batchId",qs.userMutationsIndex="userMutationsIndex",qs.userMutationsKeyPath=["userId","batchId"];var zs=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,js(t)]},e.key=function(e,t,n){return[e,js(t),n]},e}();zs.store="documentMutations",zs.PLACEHOLDER=new zs;var Gs=function(e,t){this.path=e,this.readTime=t},Ks=function(e,t){this.path=e,this.version=t},Ws=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ws.store="remoteDocuments",Ws.readTimeIndex="readTimeIndex",Ws.readTimeIndexPath="readTime",Ws.collectionReadTimeIndex="collectionReadTimeIndex",Ws.collectionReadTimeIndexPath=["parentPath","readTime"];var Hs=function(e){this.byteSize=e};Hs.store="remoteDocumentGlobal",Hs.key="remoteDocumentGlobalKey";var Qs=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Qs.store="targets",Qs.keyPath="targetId",Qs.queryTargetsIndexName="queryTargetsIndex",Qs.queryTargetsKeyPath=["canonicalId","targetId"];var Ys=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Ys.store="targetDocuments",Ys.keyPath=["targetId","path"],Ys.documentTargetsIndex="documentTargetsIndex",Ys.documentTargetsKeyPath=["path","targetId"];var Js=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Js.key="targetGlobalKey",Js.store="targetGlobal";var $s=function(e,t){this.collectionId=e,this.parent=t};$s.store="collectionParents",$s.keyPath=["collectionId","parent"];var Xs=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Xs.store="clientMetadata",Xs.keyPath="clientId";var Zs=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Zs.store="bundles",Zs.keyPath="bundleId";var eu=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};eu.store="namedQueries",eu.keyPath="name";var tu=(0,K.__spreadArray)((0,K.__spreadArray)([],(0,K.__spreadArray)((0,K.__spreadArray)([],(0,K.__spreadArray)((0,K.__spreadArray)([],(0,K.__spreadArray)((0,K.__spreadArray)([],[Vs.store,qs.store,zs.store,Ws.store,Qs.store,Bs.store,Js.store,Ys.store]),[Xs.store])),[Hs.store])),[$s.store])),[Zs.store,eu.store]),nu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ru=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),iu=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},ou=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&yi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),au=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new iu,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new cu(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=pu(t.target.error);n.ft.reject(new cu(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new cu(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(pi("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new hu(t)},e}(),su=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t((0,W.getUA)())&&mi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return pi("SimpleDb","Removing database:",e),fu(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,W.getUA)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/6thsense2022",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDKa0Aj0EwT479UsIp8Y1Eq6jpSDdsNLQQ",REACT_APP_FIREBASE_APP_ID:"1:35785195987:web:bb87005d49851fcc6e6f26",REACT_APP_FIREBASE_AUTH_DOMAIN:"igem-arqr-2021.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"igem-arqr-2021"})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(pi("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new cu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new hi(li.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new cu(e,n))},i.onupgradeneeded=function(e){pi("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){pi("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return(0,K.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,K.__generator)(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return(0,K.__generator)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=h.sent(),t=au.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),ou.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,pi("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),uu=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return fu(this.Pt.delete())},e}(),cu=function(e){function t(t,n){var r=this;return(r=e.call(this,li.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,K.__extends)(t,e),t}(hi);function lu(e){return"IndexedDbTransactionError"===e.name}var hu=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(pi("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(pi("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),fu(n)},e.prototype.add=function(e){return pi("SimpleDb","ADD",this.store.name,e,e),fu(this.store.add(e))},e.prototype.get=function(e){var t=this;return fu(this.store.get(e)).next((function(n){return void 0===n&&(n=null),pi("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return pi("SimpleDb","DELETE",this.store.name,e),fu(this.store.delete(e))},e.prototype.count=function(){return pi("SimpleDb","COUNT",this.store.name),fu(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){pi("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new ou((function(n,r){t.onerror=function(e){var t=pu(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new ou((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new uu(i),a=t(i.primaryKey,i.value,o);if(a instanceof ou){var s=a.catch((function(e){return o.done(),ou.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return ou.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function fu(e){return new ou((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=pu(e.target.error);n(t)}}))}var du=!1;function pu(e){var t=su._t((0,W.getUA)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new hi("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return du||(du=!0,setTimeout((function(){throw r}),0)),r}}return e}var mu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return(0,K.__extends)(t,e),t}(ru);function gu(e,t){var n=_i(e);return su.It(n.Mt,t)}var vu=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ma(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&ga(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&ga(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ni.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ga())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Ti(this.mutations,e.mutations,(function(e,t){return ya(e,t)}))&&Ti(this.baseMutations,e.baseMutations,(function(e,t){return ya(e,t)}))},e}(),yu=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){bi(t.mutations.length===r.length);for(var i=qa(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),bu=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Ni.min()),void 0===o&&(o=Ni.min()),void 0===a&&(a=Mi.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),_u=function(e){this.Lt=e};function wu(e,t){if(t.document)return ys(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Hi.fromSegments(t.noDocument.path),r=Su(t.noDocument.readTime),i=lo.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=Hi.fromSegments(t.unknownDocument.path);return r=Su(t.unknownDocument.version),lo.newUnknownDocument(o,r)}return yi()}function ku(e,t,n){var r=Eu(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:hs(e,t.key),fields:t.data.value.mapValue.fields,updateTime:os(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Ws(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Iu(t.version);return a=t.hasCommittedMutations,new Ws(null,new Gs(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Iu(t.version);return new Ws(new Ks(c,l),null,null,!0,r,i)}return yi()}function Eu(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Tu(e){var t=new Si(e[0],e[1]);return Ni.fromTimestamp(t)}function Iu(e){var t=e.toTimestamp();return new Us(t.seconds,t.nanoseconds)}function Su(e){var t=new Si(e.seconds,e.nanoseconds);return Ni.fromTimestamp(t)}function Nu(e,t){for(var n=(t.baseMutations||[]).map((function(t){return _s(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return _s(e.Lt,t)})),s=Si.fromMillis(t.localWriteTimeMs);return new vu(t.batchId,s,n,a)}function Cu(e){var t,n,r=Su(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Su(e.lastLimboFreeSnapshotVersion):Ni.min();return void 0!==e.query.documents?(bi(1===(n=e.query).documents.length),t=Vo(Po(ps(n.documents[0])))):t=function(e){return Vo(Es(e))}(e.query),new bu(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Mi.fromBase64String(e.resumeToken))}function Au(e,t){var n,r=Iu(t.snapshotVersion),i=Iu(t.lastLimboFreeSnapshotVersion);n=go(t.target)?ws(e.Lt,t.target):ks(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Qs(t.targetId,po(t.target),r,o,t.sequenceNumber,i,n)}function xu(e){var t=Es({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?qo(t,t.limit,"L"):t}var Ru=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Ou(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Su(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Ou(e).put({bundleId:(n=t).id,createTime:Iu(us(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Du(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:xu(t.bundledQuery),readTime:Su(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Du(e).put(function(e){return{name:e.name,readTime:Iu(us(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Ou(e){return gu(e,Zs.store)}function Du(e){return gu(e,eu.store)}var Pu=function(){function e(){this.Bt=new ju}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),ou.resolve()},e.prototype.getCollectionParents=function(e,t){return ou.resolve(this.Bt.getEntries(t))},e}(),ju=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ja(Oi.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new ja(Oi.comparator)).toArray()},e}(),Mu=function(){function e(){this.qt=new ju}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:js(i)};return Lu(e).put(o)}return ou.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ii(t),""],!1,!0);return Lu(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Fs(o.parent))}return n}))},e}();function Lu(e){return gu(e,$s.store)}var Fu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Uu=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Bu(e,t,n){var r=e.store(qs.store),i=e.store(zs.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){bi(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=zs.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return ou.waitFor(o).next((function(){return c}))}function Vu(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw yi();t=e.noDocument}return JSON.stringify(t).length}Uu.DEFAULT_COLLECTION_PERCENTILE=10,Uu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Uu.DEFAULT=new Uu(41943040,Uu.DEFAULT_COLLECTION_PERCENTILE,Uu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Uu.DISABLED=new Uu(-1,0,0);var qu=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return bi(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gu(e).$t({index:qs.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Ku(e),a=Gu(e);return a.add({}).next((function(s){bi("number"==typeof s);for(var u=new vu(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return bs(e.Lt,t)})),i=n.mutations.map((function(t){return bs(e.Lt,t)}));return new qs(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new ja((function(e,t){return Ei(e.canonicalString(),t.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],m=zs.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(m,zs.PLACEHOLDER))}return h.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),ou.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Gu(e).get(t).next((function(e){return e?(bi(e.userId===n.userId),Nu(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?ou.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Gu(e).$t({index:qs.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(bi(t.batchId>=r),o=Nu(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Gu(e).$t({index:qs.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gu(e).Nt(qs.userMutationsIndex,n).next((function(e){return e.map((function(e){return Nu(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=zs.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Ku(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Fs(u);if(s===n.userId&&t.path.isEqual(l))return Gu(e).get(c).next((function(e){if(!e)throw yi();bi(e.userId===n.userId),o.push(Nu(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new ja(Ei),i=[];return t.forEach((function(t){var o=zs.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Ku(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=Fs(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),ou.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=zs.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new ja(Ei);return Ku(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Fs(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Gu(e).get(t).next((function(e){if(null===e)throw yi();bi(e.userId===n.userId),r.push(Nu(n.R,e))})))})),ou.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Bu(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),ou.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ou.resolve();var r=IDBKeyRange.lowerBound(zs.prefixForUser(t.userId)),i=[];return Ku(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Fs(e[1]);i.push(o)}else r.done()})).next((function(){bi(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return zu(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Wu(e).get(this.userId).next((function(e){return e||new Vs(t.userId,-1,"")}))},e}();function zu(e,t,n){var r=zs.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Ku(e).$t({range:o,Ft:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Gu(e){return gu(e,qs.store)}function Ku(e){return gu(e,zs.store)}function Wu(e){return gu(e,Vs.store)}var Hu=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Qu=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Hu(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Ni.fromTimestamp(new Si(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Yu(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return bi(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Yu(e).$t((function(a,s){var u=Cu(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return ou.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return Yu(e).$t((function(e,n){var r=Cu(n);t(r)}))},e.prototype.Xt=function(e){return Ju(e).get(Js.key).next((function(e){return bi(null!==e),e}))},e.prototype.Zt=function(e,t){return Ju(e).put(Js.key,t)},e.prototype.te=function(e,t){return Yu(e).put(Au(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=po(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Yu(e).$t({range:r,index:Qs.queryTargetsIndexName},(function(e,n,r){var o=Cu(n);mo(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=$u(e);return t.forEach((function(t){var a=js(t.path);i.push(o.put(new Ys(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),ou.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=$u(e);return ou.forEach(t,(function(t){var o=js(t.path);return ou.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=$u(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=$u(e),i=Ga();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=Fs(e[1]),o=new Hi(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=js(t.path),r=IDBKeyRange.bound([n],[Ii(n)],!1,!0),i=0;return $u(e).$t({index:Ys.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return Yu(e).get(t).next((function(e){return e?Cu(e):null}))},e}();function Yu(e){return gu(e,Qs.store)}function Ju(e){return gu(e,Js.store)}function $u(e){return gu(e,Ys.store)}function Xu(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){return(0,K.__generator)(this,(function(t){if(e.code!==li.FAILED_PRECONDITION||e.message!==nu)throw e;return pi("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Zu(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Ei(n,i);return 0===a?Ei(r,o):a}var ec=function(){function e(e){this.ne=e,this.buffer=new ja(Zu),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Zu(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),tc=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;pi("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,K.__awaiter)(t,void 0,void 0,(function(){var t;return(0,K.__generator)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return lu(t=n.sent())?(pi("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Xu(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),nc=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return ou.resolve(ci.o);var r=new ec(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(pi("LruGarbageCollector","Garbage collection skipped; disabled"),ou.resolve(Fu)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(pi("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Fu):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(pi("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),di()<=H.LogLevel.DEBUG&&pi("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),ou.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),rc=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new nc(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return ic(e,n)},e.prototype.removeReference=function(e,t,n){return ic(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return ic(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return Wu(e).Ot((function(r){return zu(e,r,t).next((function(e){return e&&(n=!0),ou.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),$u(e).delete([0,js(a.path)])}))}));i.push(u)}})).next((function(){return ou.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return ic(e,t)},e.prototype.we=function(e,t){var n,r=$u(e),i=ci.o;return r.$t({index:Ys.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==ci.o&&t(new Hi(Fs(n)),i),i=s,n=a):i=ci.o})).next((function(){i!==ci.o&&t(new Hi(Fs(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function ic(e,t){return $u(e).put(function(e,t){return new Ys(0,js(e.path),t)}(t,e.currentSequenceNumber))}var oc=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Ai(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return xi(this.inner)},e}(),ac=function(){function e(){this.changes=new oc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Ni.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:lo.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ou.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),sc=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return lc(e).put(hc(t),n)},e.prototype.removeEntry=function(e,t){var n=lc(e),r=hc(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return lc(e).get(hc(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return lc(e).get(hc(t)).next((function(e){return{document:n.ye(t,e),size:Vu(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=Fa();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=Fa(),i=new Oa(Hi.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Vu(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return ou.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return lc(e).$t({range:r},(function(e,t,r){for(var a=Hi.fromSegments(e);o&&Hi.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Fa(),o=t.path.length+1,a={};if(n.isEqual(Ni.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Eu(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Ws.collectionReadTimeIndex}return lc(e).$t(a,(function(e,n,a){if(e.length===o){var s=wu(r.R,n);t.path.isPrefixOf(s.key.path)?Wo(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new uc(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return cc(e).get(Hs.key).next((function(e){return bi(!!e),e}))},e.prototype.me=function(e,t){return cc(e).put(Hs.key,t)},e.prototype.ye=function(e,t){if(t){var n=wu(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(Ni.min()))return n}return lo.newInvalidDocument(e)},e}(),uc=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new oc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return(0,K.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new ja((function(e,t){return Ei(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=ku(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=Vu(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=ku(t.Ie.R,lo.newNoDocument(o,Ni.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),ou.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(ac);function cc(e){return gu(e,Hs.store)}function lc(e){return gu(e,Ws.store)}function hc(e){return e.path.toArray()}var fc=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;bi(n<r&&n>=0&&r<=11);var o=new au("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Bs.store)}(e),function(e){e.createObjectStore(Vs.store,{keyPath:Vs.keyPath}),e.createObjectStore(qs.store,{keyPath:qs.keyPath,autoIncrement:!0}).createIndex(qs.userMutationsIndex,qs.userMutationsKeyPath,{unique:!0}),e.createObjectStore(zs.store)}(e),dc(e),function(e){e.createObjectStore(Ws.store)}(e));var a=ou.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Ys.store),e.deleteObjectStore(Qs.store),e.deleteObjectStore(Js.store)}(e),dc(e)),a=a.next((function(){return function(e){var t=e.store(Js.store),n=new Js(0,0,Ni.min().toTimestamp(),0);return t.put(Js.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(qs.store).Nt().next((function(n){e.deleteObjectStore(qs.store),e.createObjectStore(qs.store,{keyPath:qs.keyPath,autoIncrement:!0}).createIndex(qs.userMutationsIndex,qs.userMutationsKeyPath,{unique:!0});var r=t.store(qs.store),i=n.map((function(e){return r.put(e)}));return ou.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Xs.store,{keyPath:Xs.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Hs.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Ws.store);t.createIndex(Ws.readTimeIndex,Ws.readTimeIndexPath,{unique:!1}),t.createIndex(Ws.collectionReadTimeIndex,Ws.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Zs.store,{keyPath:Zs.keyPath})}(e),function(e){e.createObjectStore(eu.store,{keyPath:eu.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(Ws.store).$t((function(e,n){t+=Vu(n)})).next((function(){var n=new Hs(t);return e.store(Hs.store).put(Hs.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Vs.store),r=e.store(qs.store);return n.Nt().next((function(n){return ou.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(qs.userMutationsIndex,i).next((function(r){return ou.forEach(r,(function(r){bi(r.userId===n.userId);var i=Nu(t.R,r);return Bu(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(Ys.store),n=e.store(Ws.store);return e.store(Js.store).get(Js.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new Oi(n),a=function(e){return[0,js(e)]}(o);r.push(t.get(a).next((function(n){return n?ou.resolve():function(n){return t.put(new Ys(0,js(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return ou.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore($s.store,{keyPath:$s.keyPath});var n=t.store($s.store),r=new ju,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:js(i)})}};return t.store(Ws.store).$t({Ft:!0},(function(e,t){var n=new Oi(e);return i(n.popLast())})).next((function(){return t.store(zs.store).$t({Ft:!0},(function(e,t){e[0];var n=e[1];e[2];var r=Fs(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Qs.store);return n.$t((function(e,r){var i=Cu(r),o=Au(t.R,i);return n.put(o)}))},e}();function dc(e){e.createObjectStore(Ys.store,{keyPath:Ys.keyPath}).createIndex(Ys.documentTargetsIndex,Ys.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Qs.store,{keyPath:Qs.keyPath}).createIndex(Qs.queryTargetsIndexName,Qs.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Js.store)}var pc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",mc=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new hi(li.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rc(this,i),this.Le=n+"main",this.R=new _u(u),this.Be=new su(this.Le,11,new fc(this.R)),this.qe=new Qu(this.referenceDelegate,this.R),this.Ut=new Mu,this.Ue=function(e,t){return new sc(e,t)}(this.R,this.Ut),this.Ke=new Ru,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&mi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new hi(li.FAILED_PRECONDITION,pc);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new ci(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return(0,K.__awaiter)(t,void 0,void 0,(function(){return(0,K.__generator)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return(0,K.__awaiter)(t,void 0,void 0,(function(){return(0,K.__generator)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return(0,K.__awaiter)(t,void 0,void 0,(function(){return(0,K.__generator)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return vc(t).put(new Xs(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(lu(t))return pi("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return pi("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return gc(e).get(Bs.key).next((function(e){return ou.resolve(t.tn(e))}))},e.prototype.en=function(e){return vc(e).delete(this.clientId)},e.prototype.nn=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i=this;return(0,K.__generator)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=gu(e,Xs.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ou.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?ou.resolve(!0):gc(e).get(Bs.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new hi(li.FAILED_PRECONDITION,pc);return!1}}return!(!t.networkEnabled||!t.inForeground)||vc(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&pi("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){var e=this;return(0,K.__generator)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Bs.store,Xs.store],(function(t){var n=new mu(t,ci.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return vc(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return qu.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;pi("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,tu,(function(o){return i=new mu(o,r.Ne?r.Ne.next():ci.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw mi("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new hi(li.FAILED_PRECONDITION,nu);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return gc(e).get(Bs.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new hi(li.FAILED_PRECONDITION,pc)}))},e.prototype.Ze=function(e){var t=new Bs(this.clientId,this.allowTabSynchronization,Date.now());return gc(e).put(Bs.key,t)},e.yt=function(){return su.yt()},e.prototype.Xe=function(e){var t=this,n=gc(e);return n.get(Bs.key).next((function(e){return t.tn(e)?(pi("IndexedDbPersistence","Releasing primary lease."),n.delete(Bs.key)):ou.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(mi("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),(0,W.isSafari)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return pi("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return mi("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){mi("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function gc(e){return gu(e,Bs.store)}function vc(e){return gu(e,Xs.store)}function yc(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var bc=function(e,t){this.progress=e,this.wn=t},_c=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return Hi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Uo(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new Hi(t)).next((function(e){var t=Ba();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Ba();return this.Ut.getCollectionParents(e,i).next((function(a){return ou.forEach(a,(function(a){var s=function(e,t){return new Oo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=lo.newInvalidDocument(c),r=r.insert(c,l)),ga(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){Wo(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=Ga(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof wa&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),wc=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Ga(),i=Ga(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),kc=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Ni.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(jo(t)||Mo(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(di()<=H.LogLevel.DEBUG&&pi("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ko(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new ja(Ho(e));return t.forEach((function(t,r){Wo(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return di()<=H.LogLevel.DEBUG&&pi("QueryEngine","Using full collection scan to execute query:",Ko(t)),this.Sn.getDocumentsMatchingQuery(e,t,Ni.min())},e}(),Ec=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new Oa(Ei),this.Fn=new oc((function(e){return po(e)}),mo),this.$n=Ni.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new _c(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();function Tc(e,t,n,r){return new Ec(e,t,n,r)}function Ic(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,K.__generator)(this,(function(a){switch(a.label){case 0:return n=_i(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new _c(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=Ga(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=t;d<p.length;d++){var m=p[d];r.push(m.batchId);for(var g=0,v=m.mutations;g<v.length;g++){var y=v[g];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Sc(e,t){var n=_i(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=ou.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);bi(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function Nc(e){var t=_i(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Cc(e,t){var n=_i(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return bi(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=Fa();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Ac(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Ni.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return ou.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.kn=i,e}))}function Ac(e,t,n,r,i){var o=Ga();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=Fa();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Ni.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):pi("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function xc(e,t){var n=_i(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Rc(e,t){var n=_i(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,ou.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new bu(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function Oc(e,t,n){return(0,K.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,K.__generator)(this,(function(s){switch(s.label){case 0:r=_i(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!lu(a=s.sent()))throw a;return pi("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}}))}))}function Dc(e,t,n){var r=_i(e),i=Ni.min(),o=Ga();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=_i(e),i=r.Fn.get(n);return void 0!==i?ou.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,Vo(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Ni.min(),n?o:Ga())})).next((function(e){return{documents:e,Bn:o}}))}))}function Pc(e,t){var n=_i(e),r=_i(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function jc(e){var t=_i(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=_i(e),i=Fa(),o=Eu(n),a=lc(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:Ws.readTimeIndex,range:s},(function(e,t){var n=wu(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:Tu(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function Mc(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t;return(0,K.__generator)(this,(function(n){return[2,(t=_i(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=lc(e),n=Ni.min();return t.$t({index:Ws.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Tu(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function Lc(e,t,n,r){return(0,K.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return(0,K.__generator)(this,(function(p){switch(p.label){case 0:for(i=_i(e),o=Ga(),a=Fa(),s=qa(),u=0,c=n;u<c.length;u++)l=c[u],h=t.qn(l.metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.Un(l)),s=s.insert(h,t.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,Rc(i,function(e){return Vo(Po(Oi.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Ac(e,f,a,Ni.min(),s).next((function(t){return f.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function Fc(e,t,n){return void 0===n&&(n=Ga()),(0,K.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,K.__generator)(this,(function(o){switch(o.label){case 0:return[4,Rc(e,Vo(xu(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=_i(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=us(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(Mi.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var Uc=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return ou.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:us(n.createTime)}),ou.resolve()},e.prototype.getNamedQuery=function(e,t){return ou.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:xu(e.bundledQuery),readTime:us(e.readTime)}}(t)),ou.resolve()},e}(),Bc=function(){function e(){this.Wn=new ja(Vc.Gn),this.zn=new ja(Vc.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Vc(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new Vc(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new Hi(new Oi([])),r=new Vc(n,e),i=new Vc(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new Hi(new Oi([])),n=new Vc(t,e),r=new Vc(t,e+1),i=Ga();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new Vc(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Vc=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return Hi.comparator(e.key,t.key)||Ei(e.ns,t.ns)},e.Hn=function(e,t){return Ei(e.ns,t.ns)||Hi.comparator(e.key,t.key)},e}(),qc=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new ja(Vc.Gn)}return e.prototype.checkEmpty=function(e){return ou.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new vu(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Vc(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return ou.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return ou.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return ou.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return ou.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return ou.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Vc(t,0),i=new Vc(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),ou.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new ja(Ei);return t.forEach((function(e){var t=new Vc(e,0),i=new Vc(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),ou.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;Hi.isDocumentKey(i)||(i=i.child(""));var o=new Vc(new Hi(i),0),a=new ja(Ei);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),ou.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;bi(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return ou.forEach(t.mutations,(function(i){var o=new Vc(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new Vc(t,0),r=this.rs.firstAfterOrEqual(n);return ou.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,ou.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),zc=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Oa(Hi.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return ou.resolve(n?n.document.clone():lo.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Fa();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():lo.newInvalidDocument(e))})),ou.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Fa(),i=new Hi(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Wo(t,c)&&(r=r.insert(c.key,c.clone()))}return ou.resolve(r)},e.prototype.fs=function(e,t){return ou.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Gc(this)},e.prototype.getSize=function(e){return ou.resolve(this.size)},e}(),Gc=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return(0,K.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),ou.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(ac),Kc=function(){function e(e){this.persistence=e,this.ds=new oc((function(e){return po(e)}),mo),this.lastRemoteSnapshotVersion=Ni.min(),this.highestTargetId=0,this.ws=0,this._s=new Bc,this.targetCount=0,this.ys=Hu.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),ou.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return ou.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return ou.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),ou.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),ou.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Hu(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,ou.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),ou.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,ou.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),ou.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return ou.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return ou.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),ou.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ou.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),ou.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return ou.resolve(n)},e.prototype.containsKey=function(e,t){return ou.resolve(this._s.containsKey(t))},e}(),Wc=function(){function e(e,t){var n=this;this.gs={},this.Ne=new ci(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Kc(this),this.Ut=new Pu,this.Ue=function(e,t){return new zc(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new _u(t),this.Ke=new Uc(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new qc(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;pi("MemoryPersistence","Starting transaction:",e);var i=new Hc(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return ou.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Hc=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return(0,K.__extends)(t,e),t}(ru),Qc=function(){function e(e){this.persistence=e,this.As=new Bc,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw yi()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),ou.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),ou.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),ou.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ou.forEach(this.vs,(function(r){var i=Hi.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return ou.or([function(){return ou.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Yc=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function Jc(e,t){return"firestore_clients_"+e+"_"+t}function $c(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Xc(e,t){return"firestore_targets_"+e+"_"+t}Yc.UNAUTHENTICATED=new Yc(null),Yc.GOOGLE_CREDENTIALS=new Yc("google-credentials-uid"),Yc.FIRST_PARTY=new Yc("first-party-uid"),Yc.MOCK_USER=new Yc("mock-user");var Zc=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new hi(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(mi("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),el=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new hi(i.error.code,i.error.message)),o?new e(t,i.state,r):(mi("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),tl=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Wa(),a=0;i&&a<r.activeTargetIds.length;++a)i=Wi(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(mi("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),nl=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(mi("SharedClientState","Failed to parse online state: "+t),null)},e}(),rl=function(){function e(){this.activeTargetIds=Wa()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),il=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Oa(Ei),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Jc(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new rl),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,h=this;return(0,K.__generator)(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=f.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(Jc(this.persistenceKey,r)))&&(o=tl.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.ks(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Xc(this.persistenceKey,e));if(n){var r=el.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Xc(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return pi("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){pi("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){pi("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(pi("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void mi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return(0,K.__awaiter)(t,void 0,void 0,(function(){var e,t,r,i,o,a;return(0,K.__generator)(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=ci.o;if(null!=e)try{var n=JSON.parse(e);bi("number"==typeof n),t=n}catch(e){mi("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==ci.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Zc(this.currentUser,e,t,n),i=$c(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=$c(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=Xc(this.persistenceKey,e),i=new el(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return tl.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Zc.Vs(new Yc(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return el.Vs(r,t)},e.prototype.js=function(e){return nl.Vs(e)},e.prototype.ii=function(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){return(0,K.__generator)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(pi("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Wa();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),ol=function(){function e(){this.li=new rl,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new rl,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),al=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),sl=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){pi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){pi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),ul={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},cl=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),ll=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return(0,K.__extends)(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var a=new ui;a.listenOnce(ri.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case ni.NO_ERROR:var t=a.getResponseJson();pi("Connection","XHR received:",JSON.stringify(t)),i(t);break;case ni.TIMEOUT:pi("Connection",'RPC "'+e+'" timed out'),o(new hi(li.DEADLINE_EXCEEDED,"Request time out"));break;case ni.HTTP_ERROR:var n=a.getStatus();if(pi("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(li).indexOf(t)>=0?t:li.UNKNOWN}(r.status);o(new hi(s,r.message))}else o(new hi(li.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new hi(li.UNAVAILABLE,"Connection failed."));break;default:yi()}}finally{pi("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=ei(),i=ti(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new ai({})),this.ki(o.initMessageHeaders,t),(0,W.isMobileCordova)()||(0,W.isReactNative)()||(0,W.isElectron)()||(0,W.isIE)()||(0,W.isUWP)()||(0,W.isBrowserExtension)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");pi("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new cl({Ei:function(e){c?pi("Connection","Not sending because WebChannel is closed:",e):(u||(pi("Connection","Opening WebChannel transport."),s.open(),u=!0),pi("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,si.EventType.OPEN,(function(){c||pi("Connection","WebChannel transport opened.")})),h(s,si.EventType.CLOSE,(function(){c||(c=!0,pi("Connection","WebChannel transport closed"),l.Vi())})),h(s,si.EventType.ERROR,(function(e){c||(c=!0,gi("Connection","WebChannel transport errored:",e),l.Vi(new hi(li.UNAVAILABLE,"The operation could not be completed")))})),h(s,si.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];bi(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){pi("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Ia[e];if(void 0!==t)return Ra(t)}(o),u=i.message;void 0===a&&(a=li.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new hi(a,u)),s.close()}else pi("Connection","WebChannel received:",n),l.Si(n)}})),h(i,ii.STAT_EVENT,(function(e){e.stat===oi.PROXY?pi("Connection","Detected buffering proxy"):e.stat===oi.NOPROXY&&pi("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);pi("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then((function(e){return pi("RestConnection","Received: ",e),e}),(function(t){throw gi("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=ul[e];return this.Di+"/v1/"+t+":"+n},e}());function hl(){return"undefined"!=typeof window?window:null}function fl(){return"undefined"!=typeof document?document:null}function dl(e){return new is(e,!0)}var pl=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&pi("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),ml=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new pl(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){return(0,K.__generator)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){return(0,K.__generator)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){return(0,K.__generator)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===li.RESOURCE_EXHAUSTED?(mi(t.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===li.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new hi(li.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return(0,K.__awaiter)(e,void 0,void 0,(function(){return(0,K.__generator)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return pi("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(pi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),gl=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,K.__extends)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:yi()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(bi(void 0===t||"string"==typeof t),Mi.fromBase64String(t||"")):(bi(void 0===t||t instanceof Uint8Array),Mi.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?li.UNKNOWN:Ra(e.code);return new hi(t,e.message||"")}(s);n=new $a(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=fs(e,r.document.name),o=us(r.document.updateTime);var s=new uo({mapValue:{fields:r.document.fields}}),u=(a=lo.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new Ya(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=fs(e,r.document),o=r.readTime?us(r.readTime):Ni.min(),s=lo.newNoDocument(i,o),a=r.removedTargetIds||[],n=new Ya([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=fs(e,r.document),o=r.removedTargetIds||[],n=new Ya([],o,i,null);else{if(!("filter"in t))return yi();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new Aa(r),o=l.targetId,n=new Ja(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return Ni.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Ni.min():t.readTime?us(t.readTime):Ni.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=ms(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=go(r)?{documents:ws(e,r)}:{query:ks(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=as(e,t.resumeToken):t.snapshotVersion.compareTo(Ni.min())>0&&(n.readTime=os(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return yi()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=ms(this.R),t.removeTarget=e,this.cr(t)},t}(ml),vl=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,K.__extends)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(bi(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(bi(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?us(e.updateTime):us(t);return n.isEqual(Ni.min())&&(n=us(t)),new ha(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=us(e.commitTime);return this.listener.Tr(n,t)}return bi(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=ms(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return bs(t.R,e)}))};this.cr(n)},t}(ml),yl=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,K.__extends)(t,e),t.prototype.br=function(){if(this.Rr)throw new hi(li.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===li.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new hi(li.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===li.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new hi(li.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),bl=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(mi(t),this.Vr=!1):pi("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),_l=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return(0,K.__awaiter)(o,void 0,void 0,(function(){return(0,K.__generator)(this,(function(e){switch(e.label){case 0:return Al(this)?(pi("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t;return(0,K.__generator)(this,(function(n){switch(n.label){case 0:return(t=_i(e)).Or.add(4),[4,kl(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,wl(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new bl(n,r)};function wl(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:if(!Al(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function kl(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function El(e,t){var n=_i(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Cl(n)?Nl(n):Gl(n).er()&&Il(n,t))}function Tl(e,t){var n=_i(e),r=Gl(n);n.$r.delete(t),r.er()&&Sl(n,t),0===n.$r.size&&(r.er()?r.ir():Al(n)&&n.Br.set("Unknown"))}function Il(e,t){e.qr.U(t.targetId),Gl(e).mr(t)}function Sl(e,t){e.qr.U(t),Gl(e).yr(t)}function Nl(e){e.qr=new Za({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Gl(e).start(),e.Br.Sr()}function Cl(e){return Al(e)&&!Gl(e).tr()&&e.$r.size>0}function Al(e){return 0===_i(e).Or.size}function xl(e){e.qr=void 0}function Rl(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){return(0,K.__generator)(this,(function(t){return e.$r.forEach((function(t,n){Il(e,t)})),[2]}))}))}function Ol(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){return(0,K.__generator)(this,(function(n){return xl(e),Cl(e)?(e.Br.Nr(t),Nl(e)):e.Br.set("Unknown"),[2]}))}))}function Dl(e,t,n){return(0,K.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,K.__generator)(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof $a&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,K.__generator)(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),pi("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Pl(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Ya?e.qr.X(t):t instanceof Ja?e.qr.rt(t):e.qr.et(t),n.isEqual(Ni.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Nc(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(Mi.EMPTY_BYTE_STRING,n.snapshotVersion)),Sl(e,t);var r=new bu(n.target,t,1,n.sequenceNumber);Il(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return pi("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Pl(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Pl(e,t,n){return(0,K.__awaiter)(this,void 0,void 0,(function(){var r=this;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:if(!lu(t))throw t;return e.Or.add(1),[4,kl(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Nc(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return(0,K.__awaiter)(r,void 0,void 0,(function(){return(0,K.__generator)(this,(function(t){switch(t.label){case 0:return pi("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,wl(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function jl(e,t){return t().catch((function(n){return Pl(e,n,t)}))}function Ml(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,K.__generator)(this,(function(a){switch(a.label){case 0:t=_i(e),n=Kl(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return Al(e)&&e.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,xc(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=Kl(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Pl(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Ll(t)&&Fl(t),[2]}}))}))}function Ll(e){return Al(e)&&!Kl(e).tr()&&e.Fr.length>0}function Fl(e){Kl(e).start()}function Ul(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){return(0,K.__generator)(this,(function(t){return Kl(e).Ar(),[2]}))}))}function Bl(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,K.__generator)(this,(function(o){for(t=Kl(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function Vl(e,t,n){return(0,K.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,K.__generator)(this,(function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=yu.from(r,t,n),[4,jl(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Ml(e)];case 2:return o.sent(),[2]}}))}))}function ql(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){return(0,K.__generator)(this,(function(n){switch(n.label){case 0:return t&&Kl(e).pr?[4,function(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:return xa(r=t.code)&&r!==li.ABORTED?(n=e.Fr.shift(),Kl(e).sr(),[4,jl(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Ml(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Ll(e)&&Fl(e),[2]}}))}))}function zl(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:return n=_i(e),t?(n.Or.delete(2),[4,wl(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,kl(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Gl(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=_i(e);return r.br(),new gl(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Rl.bind(null,e),Ri:Ol.bind(null,e),_r:Dl.bind(null,e)}),e.Mr.push((function(n){return(0,K.__awaiter)(t,void 0,void 0,(function(){return(0,K.__generator)(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Cl(e)?Nl(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),xl(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Kl(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=_i(e);return r.br(),new vl(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Ul.bind(null,e),Ri:ql.bind(null,e),Ir:Bl.bind(null,e),Tr:Vl.bind(null,e)}),e.Mr.push((function(n){return(0,K.__awaiter)(t,void 0,void 0,(function(){return(0,K.__generator)(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,Ml(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(pi("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var Wl=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new iu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new hi(li.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Hl(e,t){if(mi("AsyncQueue",t+": "+e),lu(e))return new hi(li.UNAVAILABLE,t+": "+e);throw e}var Ql=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Hi.comparator(t.key,n.key)}:function(e,t){return Hi.comparator(e.key,t.key)},this.keyedMap=Ba(),this.sortedSet=new Oa(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Yl=function(){function e(){this.Qr=new Oa(Hi.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):yi():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Jl=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Ql.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),$l=function(){this.Wr=void 0,this.listeners=[]},Xl=function(){this.queries=new oc((function(e){return Go(e)}),zo),this.onlineState="Unknown",this.Gr=new Set};function Zl(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,K.__generator)(this,(function(c){switch(c.label){case 0:if(n=_i(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new $l),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=Hl(s,"Initialization of query '"+Ko(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&rh(n),[2]}}))}))}function eh(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,K.__generator)(this,(function(s){return n=_i(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function th(e,t){for(var n=_i(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&rh(n)}function nh(e,t,n){var r=_i(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function rh(e){e.Gr.forEach((function(e){e.next()}))}var ih=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Jl(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Jl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),oh=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),ah=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return fs(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?ys(this.R,e.document,!1):lo.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return us(e)},e}(),sh=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=uh(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new ah(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||Ga()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i;return(0,K.__generator)(this,(function(o){switch(o.label){case 0:return[4,Lc(this.localStore,new ah(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Fc(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new bc(Object.assign({},this.progress),e))]}}))}))},e}();function uh(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ch=function(e){this.key=e},lh=function(e){this.key=e},hh=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Ga(),this.mutatedKeys=Ga(),this.lo=Ho(e),this.fo=new Ql(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Yl,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=jo(this.query)&&i.size===this.query.limit?i.last():null,c=Mo(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=Wo(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),jo(this.query)||Mo(this.query))for(;a.size>this.query.limit;){var l=jo(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yi()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Jl(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Yl,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Ga(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new lh(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new ch(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Ga();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Jl.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),fh=function(e,t,n){this.query=e,this.targetId=t,this.view=n},dh=function(e){this.key=e,this.bo=!1},ph=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new oc((function(e){return Go(e)}),zo),this.Vo=new Map,this.So=new Set,this.Do=new Oa(Hi.comparator),this.Co=new Map,this.No=new Bc,this.xo={},this.ko=new Map,this.Fo=Hu.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function mh(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,K.__generator)(this,(function(u){switch(u.label){case 0:return n=Gh(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Rc(n.localStore,Vo(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,gh(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&El(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function gh(e,t,n,r){return(0,K.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return(0,K.__generator)(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return(0,K.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return(0,K.__generator)(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,Dc(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Ah(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,Dc(e.localStore,t,!0)];case 1:return i=l.sent(),o=new hh(t,i.Bn),a=o._o(i.documents),s=Qa.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),Ah(e,n,u.To),c=new fh(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function vh(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,K.__generator)(this,(function(o){switch(o.label){case 0:return n=_i(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!zo(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Oc(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Tl(n.remoteStore,r.targetId),Nh(n,r.targetId)})).catch(Xu)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Nh(n,r.targetId),[4,Oc(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function yh(e,t,n){return(0,K.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,K.__generator)(this,(function(s){switch(s.label){case 0:r=Kh(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=_i(e),i=Si.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ga());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=va(c,n.get(c.key));null!=l&&a.push(new wa(c.key,l,co(l.value.mapValue),fa.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Oa(Ei)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Oh(r,i.changes)];case 3:return s.sent(),[4,Ml(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Hl(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function bh(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:n=_i(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Cc(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(bi(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?bi(r.bo):e.removedDocuments.size>0&&(bi(r.bo),r.bo=!1))})),[4,Oh(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Xu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function _h(e,t,n){var r=_i(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=_i(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&rh(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function wh(e,t,n){return(0,K.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,K.__generator)(this,(function(c){switch(c.label){case 0:return(r=_i(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Oa(Hi.comparator)).insert(o,lo.newNoDocument(o,Ni.min())),s=Ga().add(o),u=new Ha(Ni.min(),new Map,new ja(Ei),a,s),[4,bh(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Rh(r),[3,4];case 2:return[4,Oc(r.localStore,t,!1).then((function(){return Nh(r,t,n)})).catch(Xu)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function kh(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,K.__generator)(this,(function(o){switch(o.label){case 0:n=_i(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Sc(n.localStore,t)];case 2:return i=o.sent(),Sh(n,r,null),Ih(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Oh(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Xu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Eh(e,t,n){return(0,K.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,K.__generator)(this,(function(o){switch(o.label){case 0:r=_i(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=_i(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return bi(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),Sh(r,t,n),Ih(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Oh(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Xu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Th(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,K.__generator)(this,(function(s){switch(s.label){case 0:Al((n=_i(e)).remoteStore)||pi("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=_i(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=Hl(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function Ih(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function Sh(e,t,n){var r=_i(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Nh(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Ch(e,t)}))}function Ch(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Tl(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Rh(e))}function Ah(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ch?(e.No.addReference(o.key,t),xh(e,o)):o instanceof lh?(pi("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Ch(e,o.key)):yi()}}function xh(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(pi("SyncEngine","New document in limbo: "+n),e.So.add(r),Rh(e))}function Rh(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Hi(Oi.fromString(t)),r=e.Fo.next();e.Co.set(r,new dh(n)),e.Do=e.Do.insert(n,r),El(e.remoteStore,new bu(Vo(Po(n.path)),r,2,ci.o))}}function Oh(e,t,n){return(0,K.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,K.__generator)(this,(function(s){switch(s.label){case 0:return r=_i(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=wc.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return(0,K.__generator)(this,(function(h){switch(h.label){case 0:n=_i(e),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ou.forEach(t,(function(t){return ou.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return ou.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!lu(r=h.sent()))throw r;return pi("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.kn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.kn=n.kn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Dh(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:return(n=_i(e)).currentUser.isEqual(t)?[3,3]:(pi("SyncEngine","User change. New user:",t.toKey()),[4,Ic(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.ko.forEach((function(e){e.forEach((function(e){e.reject(new hi(li.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Oh(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Ph(e,t){var n=_i(e),r=n.Co.get(t);if(r&&r.bo)return Ga().add(r.key);var i=Ga(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function jh(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,K.__generator)(this,(function(o){switch(o.label){case 0:return[4,Dc((n=_i(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Ah(n,t.targetId,i.To),i)]}}))}))}function Mh(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t;return(0,K.__generator)(this,(function(n){return[2,jc((t=_i(e)).localStore).then((function(e){return Oh(t,e)}))]}))}))}function Lh(e,t,n,r){return(0,K.__awaiter)(this,void 0,void 0,(function(){var i,o;return(0,K.__generator)(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=_i(e),r=_i(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):ou.resolve(null)}))}))}((i=_i(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ml(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Sh(i,t,r||null),Ih(i,t),function(e,t){_i(_i(e)._n).Gt(t)}(i.localStore,t)):yi(),a.label=4;case 4:return[4,Oh(i,o)];case 5:return a.sent(),[3,7];case 6:pi("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function Fh(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return(0,K.__generator)(this,(function(l){switch(l.label){case 0:return Gh(n=_i(e)),Kh(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Uh(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,zl(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],El(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return Nh(n,t),Oc(n.localStore,t,!0)})),Tl(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,Uh(n,u)];case 5:return l.sent(),function(e){var t=_i(e);t.Co.forEach((function(e,n){Tl(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Oa(Hi.comparator)}(n),n.$o=!1,[4,zl(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function Uh(e,t,n){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p,m;return(0,K.__generator)(this,(function(g){switch(g.label){case 0:n=_i(e),r=[],i=[],o=0,a=t,g.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,Rc(n.localStore,Vo(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=h[l],d=n.Po.get(f),[4,jh(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Pc(n.localStore,s)];case 8:return m=g.sent(),[4,Rc(n.localStore,m)];case 9:return u=g.sent(),[4,gh(n,Bh(m),s,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Bh(e){return Do(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Vh(e){var t=_i(e);return _i(_i(t.localStore).persistence).fn()}function qh(e,t,n,r){return(0,K.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return(0,K.__generator)(this,(function(s){switch(s.label){case 0:return(i=_i(e)).$o?(pi("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,jc(i.localStore)];case 3:return o=s.sent(),a=Ha.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Oh(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Oc(i.localStore,t,!0)];case 6:return s.sent(),Nh(i,t,r),[3,8];case 7:yi(),s.label=8;case 8:return[2]}}))}))}function zh(e,t,n){return(0,K.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return(0,K.__generator)(this,(function(d){switch(d.label){case 0:if(!(r=Gh(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(pi("SyncEngine","Adding an already active target "+a),[3,5]):[4,Pc(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,Rc(r.localStore,s)];case 3:return u=d.sent(),[4,gh(r,Bh(s),u.targetId,!1)];case 4:d.sent(),El(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return(0,K.__generator)(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Oc(r.localStore,e,!1).then((function(){Tl(r.remoteStore,e),Nh(r,e)})).catch(Xu)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Gh(e){var t=_i(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=bh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ph.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wh.bind(null,t),t.vo._r=th.bind(null,t.eventManager),t.vo.Mo=nh.bind(null,t.eventManager),t}function Kh(e){var t=_i(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Eh.bind(null,t),t}function Wh(e,t,n){var r=_i(e);(function(e,t,n){return(0,K.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,K.__generator)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=c.sent(),[4,function(e,t){var n=_i(e),r=us(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ke.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(e.localStore,r)];case 2:return c.sent()?[4,t.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)))];case 4:return n._updateProgress(uh(r)),i=new sh(r,e.localStore,t.R),[4,t.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=c.sent())&&n._updateProgress(a),[4,t.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,Oh(e,s.wn,void 0)];case 12:return c.sent(),[4,function(e,t){var n=_i(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ke.saveBundleMetadata(e,t)}))}(e.localStore,r)];case 13:return c.sent(),n._completeWith(s.progress),[3,15];case 14:return gi("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Hh=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){return(0,K.__generator)(this,(function(t){switch(t.label){case 0:return this.R=dl(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return Tc(this.persistence,new kc,e.initialUser,this.R)},e.prototype.qo=function(e){return new Wc(Qc.bs,this.R)},e.prototype.Bo=function(e){return new ol},e.prototype.terminate=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){return(0,K.__generator)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),Qh=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,K.__extends)(t,e),t.prototype.initialize=function(t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n=this;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,Mc(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,Kh(this.Qo.syncEngine)];case 4:return r.sent(),[4,Ml(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return Tc(this.persistence,new kc,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new tc(t,e.asyncQueue)},t.prototype.qo=function(e){var t=yc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Uu.withCacheSize(this.cacheSizeBytes):Uu.DEFAULT;return new mc(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,hl(),fl(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new ol},t}(Hh),Yh=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,K.__extends)(t,e),t.prototype.initialize=function(t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof il?(this.sharedClientState.syncEngine={ui:Lh.bind(null,n),ai:qh.bind(null,n),hi:zh.bind(null,n),fn:Vh.bind(null,n),ci:Mh.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return(0,K.__awaiter)(r,void 0,void 0,(function(){return(0,K.__generator)(this,(function(t){switch(t.label){case 0:return[4,Fh(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=hl();if(!il.yt(t))throw new hi(li.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=yc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new il(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(Qh),Jh=function(){function e(){}return e.prototype.initialize=function(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n=this;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return _h(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Dh.bind(null,this.syncEngine),[4,zl(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new Xl},e.prototype.createDatastore=function(e){var t,n=dl(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new ll(t));return function(e,t,n){return new yl(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return _h(a.syncEngine,e,0)},o=sl.yt()?new sl:new al,new _l(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new ph(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t;return(0,K.__generator)(this,(function(n){switch(n.label){case 0:return t=_i(e),pi("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,kl(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();function $h(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){var r;return(0,K.__generator)(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){return(0,K.__generator)(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Xh=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),Zh=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new iu,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){return(0,K.__generator)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){return(0,K.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new oh(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,K.__generator)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t;return(0,K.__generator)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,K.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),ef=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new hi(li.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,K.__generator)(this,(function(u){switch(u.label){case 0:return n=_i(e),r=ms(n.R)+"/documents",i={documents:t.map((function(e){return hs(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){bi(!!t.found),t.found.name,t.found.updateTime;var n=fs(e,t.found.name),r=us(t.found.updateTime),i=new uo({mapValue:{fields:t.found.fields}});return lo.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){bi(!!t.missing),bi(!!t.readTime);var n=fs(e,t.missing),r=us(t.readTime);return lo.newNoDocument(n,r)}(e,t):yi()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());bi(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Na(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,K.__generator)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=Hi.fromPath(n);t.mutations.push(new Ca(r,t.precondition(r)))})),[4,function(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,K.__generator)(this,(function(o){switch(o.label){case 0:return n=_i(e),r=ms(n.R)+"/documents",i={writes:t.map((function(e){return bs(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw yi();t=Ni.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new hi(li.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?fa.updateTime(t):fa.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ni.min()))throw new hi(li.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fa.updateTime(t)}return fa.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),tf=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new pl(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return(0,K.__awaiter)(e,void 0,void 0,(function(){var e,t,n=this;return(0,K.__generator)(this,(function(r){return e=new ef(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Gi(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!xa(t)}return!1},e}(),nf=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Yc.UNAUTHENTICATED,this.clientId=ki.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return(0,K.__awaiter)(r,void 0,void 0,(function(){return(0,K.__generator)(this,(function(t){switch(t.label){case 0:return pi("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){return(0,K.__generator)(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new hi(li.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new iu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,K.__awaiter)(e,void 0,void 0,(function(){var e,n;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Hl(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function rf(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r,i=this;return(0,K.__generator)(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),pi("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return(0,K.__awaiter)(i,void 0,void 0,(function(){return(0,K.__generator)(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,Ic(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function of(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,af(e)];case 1:return n=i.sent(),pi("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:return(n=_i(e)).asyncQueue.verifyOperationInProgress(),pi("RemoteStore","RemoteStore received new credentials"),r=Al(n),n.Or.add(3),[4,kl(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,wl(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function af(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){return(0,K.__generator)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(pi("FirestoreClient","Using default OfflineComponentProvider"),[4,rf(e,new Hh)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function sf(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){return(0,K.__generator)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(pi("FirestoreClient","Using default OnlineComponentProvider"),[4,of(e,new Jh)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function uf(e){return af(e).then((function(e){return e.persistence}))}function cf(e){return af(e).then((function(e){return e.localStore}))}function lf(e){return sf(e).then((function(e){return e.remoteStore}))}function hf(e){return sf(e).then((function(e){return e.syncEngine}))}function ff(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:return[4,sf(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=mh.bind(null,t.syncEngine),n.onUnlisten=vh.bind(null,t.syncEngine),n)]}}))}))}function df(e,t,n){var r=this;void 0===n&&(n={});var i=new iu;return e.asyncQueue.enqueueAndForget((function(){return(0,K.__awaiter)(r,void 0,void 0,(function(){var r;return(0,K.__generator)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Xh({next:function(o){t.enqueueAndForget((function(){return eh(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new hi(li.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new hi(li.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new ih(Po(n.path),o,{includeMetadataChanges:!0,so:!0});return Zl(e,a)},[4,ff(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function pf(e,t,n){var r=this;void 0===n&&(n={});var i=new iu;return e.asyncQueue.enqueueAndForget((function(){return(0,K.__awaiter)(r,void 0,void 0,(function(){var r;return(0,K.__generator)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Xh({next:function(n){t.enqueueAndForget((function(){return eh(e,a)})),n.fromCache&&"server"===r.source?i.reject(new hi(li.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new ih(n,o,{includeMetadataChanges:!0,so:!0});return Zl(e,a)},[4,ff(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var mf=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},gf=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),vf=new Map,yf=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},bf=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(Yc.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),_f=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),wf=function(){function e(e){var t=this;this.currentUser=Yc.UNAUTHENTICATED,this.oc=new iu,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){pi("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(pi("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(pi("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(bi("string"==typeof n.accessToken),new yf(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return(0,K.__awaiter)(n,void 0,void 0,(function(){return(0,K.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return bi(null===e||"string"==typeof e),new Yc(e)},e}(),kf=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=Yc.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),Ef=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new kf(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(Yc.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Tf(e,t,n){if(!n)throw new hi(li.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function If(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new hi(li.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Sf(e,t,n,r){if(!0===t&&!0===r)throw new hi(li.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Nf(e){if(!Hi.isDocumentKey(e))throw new hi(li.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Cf(e){if(Hi.isDocumentKey(e))throw new hi(li.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Af(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":yi()}function xf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new hi(li.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Af(e);throw new hi(li.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Rf(e,t){if(t<=0)throw new hi(li.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Of=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new hi(li.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new hi(li.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Sf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Df=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Of({}),this._settingsFrozen=!1,e instanceof gf?(this._databaseId=e,this._credentials=new bf):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new hi(li.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gf(e.options.projectId)}(e),this._credentials=new wf(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new hi(li.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new hi(li.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Of(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new bf;switch(e.type){case"gapi":var t=e.client;return bi(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Ef(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new hi(li.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=vf.get(this))&&(pi("ComponentProvider","Removing Datastore"),vf.delete(this),e.terminate()),Promise.resolve();var e},e}(),Pf=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Mf(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),jf=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Mf=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Po(r))||this)._path=r,i.type="collection",i}return(0,K.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Pf(this.firestore,null,new Hi(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(jf);function Lf(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,W.getModularInstance)(e),Tf("collection","path",t),e instanceof Df)return Cf(n=Oi.fromString.apply(Oi,(0,K.__spreadArray)([t],r))),new Mf(e,null,n);if(!(e instanceof Pf||e instanceof Mf))throw new hi(li.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Cf(n=Oi.fromString.apply(Oi,(0,K.__spreadArray)([e.path],r)).child(Oi.fromString(t))),new Mf(e.firestore,null,n)}function Ff(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,W.getModularInstance)(e),1===arguments.length&&(t=ki.u()),Tf("doc","path",t),e instanceof Df)return Nf(n=Oi.fromString.apply(Oi,(0,K.__spreadArray)([t],r))),new Pf(e,null,new Hi(n));if(!(e instanceof Pf||e instanceof Mf))throw new hi(li.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Nf(n=e._path.child(Oi.fromString.apply(Oi,(0,K.__spreadArray)([t],r)))),new Pf(e.firestore,e instanceof Mf?e.converter:null,new Hi(n))}function Uf(e,t){return e=(0,W.getModularInstance)(e),t=(0,W.getModularInstance)(t),(e instanceof Pf||e instanceof Mf)&&(t instanceof Pf||t instanceof Mf)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Bf(e,t){return e=(0,W.getModularInstance)(e),t=(0,W.getModularInstance)(t),e instanceof jf&&t instanceof jf&&e.firestore===t.firestore&&zo(e._query,t._query)&&e.converter===t.converter}var Vf=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new pl(this,"async_queue_retry"),this.Ic=function(){var t=fl();t&&pi("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=fl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=fl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new iu;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,K.__generator)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!lu(e=n.sent()))throw e;return pi("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,mi("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=Wl.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&yi()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){var e;return(0,K.__generator)(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function qf(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var zf=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new iu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),Gf=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new Vf,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,K.__extends)(t,e),t.prototype._terminate=function(){return this._firestoreClient||Wf(this),this._firestoreClient.terminate()},t}(Df);function Kf(e){return e._firestoreClient||Wf(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Wf(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new mf(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new nf(e._credentials,e._queue,r)}function Hf(e,t,n){var r=this,i=new iu;return e.asyncQueue.enqueue((function(){return(0,K.__awaiter)(r,void 0,void 0,(function(){var r;return(0,K.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,rf(e,n)];case 1:return o.sent(),[4,of(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===li.FAILED_PRECONDITION||e.code===li.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Qf(e){if(e._initialized||e._terminated)throw new hi(li.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Yf=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new hi(li.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pi(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Jf=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(Mi.fromBase64String(t))}catch(t){throw new hi(li.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(Mi.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),$f=function(e){this._methodName=e},Xf=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new hi(li.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new hi(li.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Ei(this._lat,e._lat)||Ei(this._long,e._long)},e}(),Zf=/^__.*__$/,ed=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new wa(e,this.data,this.fieldMask,t,this.fieldTransforms):new _a(e,this.data,t,this.fieldTransforms)},e}(),td=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new wa(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function nd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yi()}}var rd=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return Ed(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(nd(this.Nc)&&Zf.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),id=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||dl(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new rd({Nc:e,methodName:t,qc:n,path:Pi.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function od(e){var t=e._freezeSettings(),n=dl(e._databaseId);return new id(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ad(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);bd("Data must be an object, but it was:",a,r);var s,u,c=vd(r,a);if(o.merge)s=new ji(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=_d(t,f[h],n);if(!a.contains(d))throw new hi(li.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Td(l,d)||l.push(d)}s=new ji(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new ed(new uo(c),s,u)}var sd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,K.__extends)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}($f);function ud(e,t,n){return new rd({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var cd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,K.__extends)(t,e),t.prototype._toFieldTransform=function(e){return new la(e.path,new na)},t.prototype.isEqual=function(e){return e instanceof t},t}($f),ld=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,K.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=ud(this,e,!0),n=this.Kc.map((function(e){return gd(e,t)})),r=new ra(n);return new la(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}($f),hd=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,K.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=ud(this,e,!0),n=this.Kc.map((function(e){return gd(e,t)})),r=new oa(n);return new la(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}($f),fd=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return(0,K.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=new sa(e.R,$o(e.R,this.Qc));return new la(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}($f);function dd(e,t,n,r){var i=e.Uc(1,t,n);bd("Data must be an object, but it was:",i,r);var o=[],a=uo.empty();Ai(r,(function(e,r){var s=kd(t,e,n);r=(0,W.getModularInstance)(r);var u=i.Oc(s);if(r instanceof sd)o.push(s);else{var c=gd(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new ji(o);return new td(a,s,i.fieldTransforms)}function pd(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[_d(t,r,n)],u=[i];if(o.length%2!=0)throw new hi(li.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(_d(t,o[c])),u.push(o[c+1]);for(var l=[],h=uo.empty(),f=s.length-1;f>=0;--f)if(!Td(l,s[f])){var d=s[f],p=u[f];p=(0,W.getModularInstance)(p);var m=a.Oc(d);if(p instanceof sd)l.push(d);else{var g=gd(p,m);null!=g&&(l.push(d),h.set(d,g))}}var v=new ji(l);return new td(h,v,a.fieldTransforms)}function md(e,t,n,r){return void 0===r&&(r=!1),gd(n,e.Uc(r?4:3,t))}function gd(e,t){if(yd(e=(0,W.getModularInstance)(e)))return bd("Unsupported field value:",t,e),vd(e,t);if(e instanceof $f)return function(e,t){if(!nd(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=gd(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,W.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return $o(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Si.fromDate(e);return{timestampValue:os(t.R,n)}}if(e instanceof Si)return n=new Si(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:os(t.R,n)};if(e instanceof Xf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Jf)return{bytesValue:as(t.R,e._byteString)};if(e instanceof Pf){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:cs(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+Af(e))}(e,t)}function vd(e,t){var n={};return xi(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ai(e,(function(e,r){var i=gd(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function yd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Si||e instanceof Xf||e instanceof Jf||e instanceof Pf||e instanceof $f)}function bd(e,t,n){if(!yd(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Af(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function _d(e,t,n){if((t=(0,W.getModularInstance)(t))instanceof Yf)return t._internalPath;if("string"==typeof t)return kd(e,t);throw Ed("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var wd=new RegExp("[~\\*/\\[\\]]");function kd(e,t,n){if(t.search(wd)>=0)throw Ed("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Yf.bind.apply(Yf,(0,K.__spreadArray)([void 0],t.split(".")))))._internalPath}catch(Cp){throw Ed("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Ed(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new hi(li.INVALID_ARGUMENT,(s+=". ")+e+u)}function Td(e,t){return e.some((function(e){return e.isEqual(t)}))}var Id=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Pf(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Sd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Nd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Sd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,K.__extends)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Id);function Nd(e,t){return"string"==typeof t?kd(e,t):t instanceof Yf?t._internalPath:t._delegate._internalPath}var Cd=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Ad=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return(0,K.__extends)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new xd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Nd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Id),xd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,K.__extends)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Ad),Rd=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Cd(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new xd(n._firestore,n._userDataWriter,r.key,r,new Cd(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new hi(li.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new xd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Cd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new xd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Cd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Od(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Od(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yi()}}function Dd(e,t){return e instanceof Ad&&t instanceof Ad?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Rd&&t instanceof Rd&&e._firestore===t._firestore&&Bf(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Pd(e){if(Mo(e)&&0===e.explicitOrderBy.length)throw new hi(li.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var jd=function(){};function Md(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Ld=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return(0,K.__extends)(t,e),t.prototype._apply=function(e){var t=od(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new hi(li.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Gd(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(zd(r,e,h))}s={arrayValue:{values:u}}}else s=zd(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Gd(a,o),s=md(n,"where",a,"in"===o||"not-in"===o);var f=vo.create(i,o,s);return function(e,t){if(t.g()){var n=Fo(e);if(null!==n&&!n.isEqual(t.field))throw new hi(li.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Lo(e);null!==r&&Kd(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new hi(li.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new hi(li.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,f),f}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new jf(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Oo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(jd),Fd=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return(0,K.__extends)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new hi(li.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new hi(li.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Co(t,n);return function(e,t){if(null===Lo(e)){var n=Fo(e);null!==n&&Kd(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new jf(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Oo(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(jd),Ud=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return(0,K.__extends)(t,e),t.prototype._apply=function(e){return new jf(e.firestore,e.converter,qo(e._query,this.Hc,this.Jc))},t}(jd),Bd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,K.__extends)(t,e),t.prototype._apply=function(e){var t=qd(e,this.type,this.Yc,this.Xc);return new jf(e.firestore,e.converter,function(e,t){return new Oo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(jd),Vd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,K.__extends)(t,e),t.prototype._apply=function(e){var t=qd(e,this.type,this.Yc,this.Xc);return new jf(e.firestore,e.converter,function(e,t){return new Oo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(jd);function qd(e,t,n,r){if(n[0]=(0,W.getModularInstance)(n[0]),n[0]instanceof Id)return function(e,t,n,r,i){if(!r)throw new hi(li.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Bo(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(to(t,r.key));else{var c=r.data.field(u.field);if(Vi(c))throw new hi(li.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new hi(li.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new So(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=od(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new hi(li.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new hi(li.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Uo(e)&&-1!==c.indexOf("/"))throw new hi(li.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Oi.fromString(c));if(!Hi.isDocumentKey(l))throw new hi(li.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Hi(l);s.push(to(t,h))}else{var f=md(n,r,c);s.push(f)}}return new So(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function zd(e,t,n){if("string"==typeof(n=(0,W.getModularInstance)(n))){if(""===n)throw new hi(li.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Uo(t)&&-1!==n.indexOf("/"))throw new hi(li.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Oi.fromString(n));if(!Hi.isDocumentKey(r))throw new hi(li.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return to(e,new Hi(r))}if(n instanceof Pf)return to(e,n._key);throw new hi(li.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Af(n)+".")}function Gd(e,t){if(!Array.isArray(e)||0===e.length)throw new hi(li.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new hi(li.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Kd(e,t,n){if(!n.isEqual(t))throw new hi(li.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Wd=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ui(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw yi()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Ai(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new Xf(Ui(e.latitude),Ui(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=qi(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(zi(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=Fi(e);return new Si(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Oi.fromString(e);bi(Ps(n));var r=new gf(n.get(1),n.get(3)),i=new Hi(n.popFirst(5));return r.isEqual(t)||mi("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function Hd(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Qd=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,K.__extends)(t,e),t.prototype.convertBytes=function(e){return new Jf(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pf(this.firestore,null,t)},t}(Wd),Yd=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=od(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=Jd(e,this._firestore),i=Hd(r.converter,t,n),o=ad(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,fa.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Jd(e,this._firestore);return o="string"==typeof(t=(0,W.getModularInstance)(t))||t instanceof Yf?pd(this._dataReader,"WriteBatch.update",a._key,t,n,r):dd(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,fa.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=Jd(e,this._firestore);return this._mutations=this._mutations.concat(new Na(t._key,fa.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new hi(li.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function Jd(e,t){if((e=(0,W.getModularInstance)(e)).firestore!==t)throw new hi(li.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var $d=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,K.__extends)(t,e),t.prototype.convertBytes=function(e){return new Jf(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pf(this.firestore,null,t)},t}(Wd);function Xd(e,t,n){e=xf(e,Pf);var r=xf(e.firestore,Gf),i=Hd(e.converter,t,n);return tp(r,[ad(od(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,fa.none())])}function Zd(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=xf(e,Pf);var o=xf(e.firestore,Gf),a=od(o);return tp(o,[("string"==typeof(t=(0,W.getModularInstance)(t))||t instanceof Yf?pd(a,"updateDoc",e._key,t,n,r):dd(a,"updateDoc",e._key,t)).toMutation(e._key,fa.exists(!0))])}function ep(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=(0,W.getModularInstance)(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||qf(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(qf(i[s])){var f=i[s];i[s]=null===(t=f.next)||void 0===t?void 0:t.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(e instanceof Pf)c=xf(e.firestore,Gf),l=Po(e._key.path),u={next:function(t){i[s]&&i[s](np(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=xf(e,jf);c=xf(d.firestore,Gf),l=d._query;var p=new $d(c);u={next:function(e){i[s]&&i[s](new Rd(c,p,d,e))},error:i[s+1],complete:i[s+2]},Pd(e._query)}return function(e,t,n,r){var i=this,o=new Xh(r),a=new ih(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return(0,K.__awaiter)(i,void 0,void 0,(function(){var t;return(0,K.__generator)(this,(function(n){switch(n.label){case 0:return t=Zl,[4,ff(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,K.__awaiter)(i,void 0,void 0,(function(){var t;return(0,K.__generator)(this,(function(n){switch(n.label){case 0:return t=eh,[4,ff(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(Kf(c),l,h,u)}function tp(e,t){return function(e,t){var n=this,r=new iu;return e.asyncQueue.enqueueAndForget((function(){return(0,K.__awaiter)(n,void 0,void 0,(function(){var n;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:return n=yh,[4,hf(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(Kf(e),t)}function np(e,t,n){var r=n.docs.get(t._key),i=new $d(e);return new Ad(e,i,t._key,r,new Cd(n.hasPendingWrites,n.fromCache),t.converter)}var rp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return(0,K.__extends)(t,e),t.prototype.get=function(t){var n=this,r=Jd(t,this._firestore),i=new $d(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Ad(n._firestore,i,r._key,e._document,new Cd(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=od(e)}return e.prototype.get=function(e){var t=this,n=Jd(e,this._firestore),r=new Qd(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return yi();var i=e[0];if(i.isFoundDocument())return new Id(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Id(t._firestore,r,n._key,null,n.converter);throw yi()}))},e.prototype.set=function(e,t,n){var r=Jd(e,this._firestore),i=Hd(r.converter,t,n),o=ad(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Jd(e,this._firestore);return o="string"==typeof(t=(0,W.getModularInstance)(t))||t instanceof Yf?pd(this._dataReader,"Transaction.update",a._key,t,n,r):dd(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=Jd(e,this._firestore);return this._transaction.delete(t._key),this},e}());function ip(){if("undefined"==typeof Uint8Array)throw new hi(li.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function op(){if("undefined"==typeof atob)throw new hi(li.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ap=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return op(),new e(Jf.fromBase64String(t))},e.fromUint8Array=function(t){return ip(),new e(Jf.fromUint8Array(t))},e.prototype.toBase64=function(){return op(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return ip(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),sp=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Qf(e=xf(e,Gf));var n=Kf(e),r=e._freezeSettings(),i=new Jh;return Hf(n,i,new Qh(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Qf(e=xf(e,Gf));var t=Kf(e),n=e._freezeSettings(),r=new Jh;return Hf(t,r,new Yh(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new hi(li.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new iu;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,K.__awaiter)(t,void 0,void 0,(function(){var t;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t;return(0,K.__generator)(this,(function(n){switch(n.label){case 0:return su.yt()?(t=e+"main",[4,su.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(yc(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),up=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof gf||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||gi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=xf(e,Df))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&gi("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=Yc.MOCK_USER;else{a=(0,W.createMockUserToken)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new hi(li.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Yc(u)}e._credentials=new _f(new yf(a,s))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,K.__awaiter)(t,void 0,void 0,(function(){var t,n;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:return[4,uf(e)];case 1:return t=r.sent(),[4,lf(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=_i(e);return t.Or.delete(0),wl(t)}(n))]}}))}))}))}(Kf(xf(this._delegate,Gf)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,K.__awaiter)(t,void 0,void 0,(function(){var t,n;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:return[4,uf(e)];case 1:return t=r.sent(),[4,lf(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t;return(0,K.__generator)(this,(function(n){switch(n.label){case 0:return(t=_i(e)).Or.add(0),[4,kl(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Kf(xf(this._delegate,Gf)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Sf("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new iu;return e.asyncQueue.enqueueAndForget((function(){return(0,K.__awaiter)(t,void 0,void 0,(function(){var t;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:return t=Th,[4,hf(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Kf(xf(this._delegate,Gf)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new Xh(t);return e.asyncQueue.enqueueAndForget((function(){return(0,K.__awaiter)(n,void 0,void 0,(function(){var t;return(0,K.__generator)(this,(function(n){switch(n.label){case 0:return t=function(e,t){_i(e).Gr.add(t),t.next()},[4,ff(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,K.__awaiter)(n,void 0,void 0,(function(){var t;return(0,K.__generator)(this,(function(n){switch(n.label){case 0:return t=function(e,t){_i(e).Gr.delete(t)},[4,ff(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(Kf(e=xf(e,Gf)),qf(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new hi(li.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new kp(this,Lf(this._delegate,e))}catch(e){throw pp(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new dp(this,Ff(this._delegate,e))}catch(e){throw pp(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new bp(this,function(e,t){if(e=xf(e,Df),Tf("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new hi(li.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new jf(e,null,function(e){return new Oo(Oi.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw pp(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new iu;return e.asyncQueue.enqueueAndForget((function(){return(0,K.__awaiter)(n,void 0,void 0,(function(){var n;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:return[4,function(e){return sf(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new tf(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(Kf(e),(function(n){return t(new rp(e,n))}))}(this._delegate,(function(n){return e(new lp(t,n))}))},e.prototype.batch=function(){var e=this;return Kf(this._delegate),new hp(new Yd(this._delegate,(function(t){return tp(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new hi(li.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new hi(li.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),cp=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,K.__extends)(t,e),t.prototype.convertBytes=function(e){return new ap(new Jf(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return dp.eu(t,this.firestore,null)},t}(Wd);var lp=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new cp(e)}return e.prototype.get=function(e){var t=this,n=Ep(e);return this._delegate.get(n).then((function(e){return new vp(t._firestore,new Ad(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=Ep(e);return n?(If("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Ep(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,K.__spreadArray)([a,t,n],i)),this},e.prototype.delete=function(e){var t=Ep(e);return this._delegate.delete(t),this},e}(),hp=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=Ep(e);return n?(If("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Ep(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,K.__spreadArray)([a,t,n],i)),this},e.prototype.delete=function(e){var t=Ep(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),fp=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new xd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new yp(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new cp(t),n),i.set(n,o)),o},e}();fp.su=new WeakMap;var dp=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cp(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new hi(li.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Pf(n._delegate,r,new Hi(t)))},e.eu=function(t,n,r){return new e(n,new Pf(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new kp(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new kp(this.firestore,Lf(this._delegate,e))}catch(e){throw pp(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,W.getModularInstance)(e))instanceof Pf&&Uf(this._delegate,e)},e.prototype.set=function(e,t){t=If("DocumentReference.set",t);try{return t?Xd(this._delegate,e,t):Xd(this._delegate,e)}catch(e){throw pp(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Zd(this._delegate,e):Zd.apply(void 0,(0,K.__spreadArray)([this._delegate,e,t],n))}catch(e){throw pp(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return tp(xf((e=this._delegate).firestore,Gf),[new Na(e._key,fa.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=mp(t),i=gp(t,(function(t){return new vp(e.firestore,new Ad(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return ep(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=xf(e,Pf);var t=xf(e.firestore,Gf),n=Kf(t),r=new $d(t);return function(e,t){var n=this,r=new iu;return e.asyncQueue.enqueueAndForget((function(){return(0,K.__awaiter)(n,void 0,void 0,(function(){var n;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,K.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,K.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=_i(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new hi(li.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Hl(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,cf(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Ad(t,r,e._key,n,new Cd(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=xf(e,Pf);var t=xf(e.firestore,Gf);return df(Kf(t),e._key,{source:"server"}).then((function(n){return np(t,e,n)}))}(this._delegate):function(e){e=xf(e,Pf);var t=xf(e.firestore,Gf);return df(Kf(t),e._key).then((function(n){return np(t,e,n)}))}(this._delegate)).then((function(e){return new vp(t.firestore,new Ad(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(fp.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function pp(e,t,n){return e.message=e.message.replace(t,n),e}function mp(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!qf(r))return r}return{}}function gp(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=qf(e[0])?e[0]:qf(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var vp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new dp(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Dd(this._delegate,e._delegate)},e}(),yp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,K.__extends)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(vp),bp=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cp(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Md(this._delegate,function(e,t,n){var r=t,i=Nd("where",e);return new Ld(i,r,n)}(t,n,r)))}catch(t){throw pp(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Md(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Nd("orderBy",e);return new Fd(r,n)}(t,n)))}catch(t){throw pp(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Md(this._delegate,function(e){return Rf("limit",e),new Ud("limit",e,"F")}(t)))}catch(t){throw pp(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Md(this._delegate,function(e){return Rf("limitToLast",e),new Ud("limitToLast",e,"L")}(t)))}catch(t){throw pp(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Md(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Bd("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw pp(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Md(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Bd("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw pp(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Md(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Vd("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw pp(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Md(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Vd("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw pp(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Bf(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=xf(e,jf);var t=xf(e.firestore,Gf),n=Kf(t),r=new $d(t);return function(e,t){var n=this,r=new iu;return e.asyncQueue.enqueueAndForget((function(){return(0,K.__awaiter)(n,void 0,void 0,(function(){var n;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,K.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,K.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Dc(e,t,!0)];case 1:return s=u.sent(),r=new hh(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Hl(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,cf(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Rd(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=xf(e,jf);var t=xf(e.firestore,Gf),n=Kf(t),r=new $d(t);return pf(n,e._query,{source:"server"}).then((function(n){return new Rd(t,r,e,n)}))}(this._delegate):function(e){e=xf(e,jf);var t=xf(e.firestore,Gf),n=Kf(t),r=new $d(t);return Pd(e._query),pf(n,e._query).then((function(n){return new Rd(t,r,e,n)}))}(this._delegate)).then((function(e){return new wp(t.firestore,new Rd(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=mp(t),i=gp(t,(function(t){return new wp(e.firestore,new Rd(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return ep(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(fp.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),_p=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new yp(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),wp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new bp(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new yp(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new _p(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new yp(n._firestore,r))}))},e.prototype.isEqual=function(e){return Dd(this._delegate,e._delegate)},e}(),kp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return(0,K.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new dp(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new dp(this.firestore,void 0===e?Ff(this._delegate):Ff(this._delegate,e))}catch(e){throw pp(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=xf(e.firestore,Gf),r=Ff(e),i=Hd(e.converter,t);return tp(n,[ad(od(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,fa.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new dp(t.firestore,e)}))},t.prototype.isEqual=function(e){return Uf(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(fp.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(bp);function Ep(e){return xf(e,Pf)}var Tp=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Yf.bind.apply(Yf,(0,K.__spreadArray)([void 0],e)))}return e.documentId=function(){return new e(Pi.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,W.getModularInstance)(e))instanceof Yf&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Ip=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new cd("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new sd("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ld("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new hd("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new fd("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();function Sp(e){return function(e,t){var n=Kf(e=xf(e,Gf)),r=new zf;return function(e,t,n,r){var i=this,o=function(e,t){return function(e,t){return new Zh(e,t)}(function(e,t){if(e instanceof Uint8Array)return $h(e,t);if(e instanceof ArrayBuffer)return $h(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,dl(t));e.asyncQueue.enqueueAndForget((function(){return(0,K.__awaiter)(i,void 0,void 0,(function(){var t;return(0,K.__generator)(this,(function(n){switch(n.label){case 0:return t=Wh,[4,hf(e)];case 1:return t.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(n,e._databaseId,t,r),r}(this._delegate,e)}function Np(e){var t,n,r=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return(0,K.__awaiter)(n,void 0,void 0,(function(){var n;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=_i(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ke.getNamedQuery(e,t)}))},[4,cf(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(Kf(t=xf(t,Gf)),n).then((function(e){return e?new jf(t,null,e.query):null}))).then((function(e){return e?new bp(r,e):null}))}var Cp,Ap,xp=n(826),Rp={Firestore:up,GeoPoint:Xf,Timestamp:Si,Blob:ap,Transaction:lp,WriteBatch:hp,DocumentReference:dp,DocumentSnapshot:vp,Query:bp,QueryDocumentSnapshot:yp,QuerySnapshot:wp,CollectionReference:kp,FieldPath:Tp,FieldValue:Ip,setLogLevel:function(e){var t;t=e,fi.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new xp.Component("firestore",(function(e){return function(e,t){return new up(e,new Gf(e,t),new sp)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Rp)))})(Cp=G.default),Cp.registerVersion("@firebase/firestore","2.4.1"),(Ap=up).prototype.loadBundle=Sp,Ap.prototype.namedQuery=Np;var Op={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Dp=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return(0,K.__extends)(t,e),t}(Error);var Pp=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){var e;return(0,K.__generator)(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){return(0,K.__generator)(this,(function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getContext=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,K.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function jp(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var Mp=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"===typeof e||"object"===typeof e)return jp(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"===typeof e||"object"===typeof e?jp(e,(function(e){return t.decode(e)})):e},e}();var Lp=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new Mp,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new Pp(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(Cp){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return(0,K.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,K.__generator)(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},e.prototype.getAppCheckToken=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){var e;return(0,K.__generator)(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return(0,K.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f,d;return(0,K.__generator)(this,(function(p){switch(p.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new Dp("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([Fp(c,this.postJSON(r,i,o)),l,Fp(c,this.cancelAllRequests)])];case 2:if(!(h=p.sent()))throw new Dp("cancelled","Firebase Functions instance was deleted.");if(f=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"===typeof s){if(!Op[s])return new Dp("internal","internal");r=Op[s],i=s}var u=a.message;"string"===typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(Cp){}return"ok"===r?null:new Dp(r,i,o)}(h.status,h.json,this.serializer),f)throw f;if(!h.json)throw new Dp("internal","Response is not valid JSON object.");if("undefined"===typeof(d=h.json.data)&&(d=h.json.result),"undefined"===typeof d)throw new Dp("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},e}();function Fp(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:Lp};e.INTERNAL.registerComponent(new xp.Component("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new Lp(i,o,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(G.default,fetch.bind(self)),G.default.registerVersion("@firebase/functions","0.6.16");var Up,Bp=n(348),Vp="0.4.32",qp=1e4,zp="w:0.4.32",Gp="FIS_v2",Kp=36e5,Wp=((Up={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Up["not-registered"]="Firebase Installation is not registered.",Up["installation-not-found"]="Firebase Installation not found.",Up["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Up["app-offline"]="Could not process request. Application offline.",Up["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Up),Hp=new W.ErrorFactory("installations","Installations",Wp);function Qp(e){return e instanceof W.FirebaseError&&e.code.includes("request-failed")}function Yp(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function Jp(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function $p(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,Hp.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function Xp(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Zp(e,t){var n=t.refreshToken,r=Xp(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function em(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t;return(0,K.__generator)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function tm(e,t){var n=t.fid;return(0,K.__awaiter)(this,void 0,void 0,(function(){var t,r,i,o,a,s;return(0,K.__generator)(this,(function(u){switch(u.label){case 0:return t=Yp(e),r=Xp(e),i={fid:n,authVersion:Gp,appId:e.appId,sdkVersion:zp},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,em((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:Jp(s.authToken)}];case 3:return[4,$p("Create Installation",a)];case 4:throw u.sent()}}))}))}function nm(e){return new Promise((function(t){setTimeout(t,e)}))}var rm=/^[cdef][\w-]{21}$/;function im(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,(0,K.__spreadArray)([],(0,K.__read)(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return rm.test(t)?t:""}catch(ad){return""}}function om(e){return e.appName+"!"+e.appId}var am=new Map;function sm(e,t){var n=om(e);um(n,t),function(e,t){var n=lm();n&&n.postMessage({key:e,fid:t});hm()}(n,t)}function um(e,t){var n,r,i=am.get(e);if(i)try{for(var o=(0,K.__values)(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var cm=null;function lm(){return!cm&&"BroadcastChannel"in self&&((cm=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){um(e.data.key,e.data.fid)}),cm}function hm(){0===am.size&&cm&&(cm.close(),cm=null)}var fm,dm,pm="firebase-installations-store",mm=null;function gm(){return mm||(mm=(0,Bp.openDb)("firebase-installations-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(pm)}))),mm}function vm(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,K.__generator)(this,(function(s){switch(s.label){case 0:return n=om(e),[4,gm()];case 1:return r=s.sent(),i=r.transaction(pm,"readwrite"),[4,(o=i.objectStore(pm)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||sm(e,t.fid),[2,t]}}))}))}function ym(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:return t=om(e),[4,gm()];case 1:return n=i.sent(),[4,(r=n.transaction(pm,"readwrite")).objectStore(pm).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function bm(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,K.__generator)(this,(function(u){switch(u.label){case 0:return n=om(e),[4,gm()];case 1:return r=u.sent(),i=r.transaction(pm,"readwrite"),[4,(o=i.objectStore(pm)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||sm(e,s.fid),[2,s]}}))}))}function _m(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:return[4,bm(e,(function(n){var r=function(e){return Em(e||{fid:im(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Hp.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,tm(e,t)];case 1:return n=i.sent(),[2,vm(e,n)];case 2:return Qp(r=i.sent())&&409===r.customData.serverCode?[4,ym(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,vm(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:wm(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function wm(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,K.__generator)(this,(function(o){switch(o.label){case 0:return[4,km(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,nm(100)];case 3:return o.sent(),[4,km(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,_m(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function km(e){return bm(e,(function(e){if(!e)throw Hp.create("installation-not-found");return Em(e)}))}function Em(e){return 1===(t=e).registrationStatus&&t.registrationTime+qp<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function Tm(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return(0,K.__awaiter)(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return(0,K.__generator)(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return Yp(e)+"/"+n+"/authTokens:generate"}(n,t),i=Zp(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:zp}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,em((function(){return fetch(e,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,Jp(c)];case 3:return[4,$p("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function Im(e,t){return void 0===t&&(t=!1),(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,K.__generator)(this,(function(o){switch(o.label){case 0:return[4,bm(e.appConfig,(function(r){if(!Nm(r))throw Hp.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Kp}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:return[4,Sm(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,nm(100)];case 3:return i.sent(),[4,Sm(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Im(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw Hp.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return(0,K.__assign)((0,K.__assign)({},e),{authToken:t})}(r);return n=function(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,K.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,Tm(e,t)];case 1:return n=o.sent(),i=(0,K.__assign)((0,K.__assign)({},t),{authToken:n}),[4,vm(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!Qp(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,ym(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,K.__assign)((0,K.__assign)({},t),{authToken:{requestStatus:0}}),[4,vm(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function Sm(e){return bm(e,(function(e){if(!Nm(e))throw Hp.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+qp<Date.now()?(0,K.__assign)((0,K.__assign)({},e),{authToken:{requestStatus:0}}):e}))}function Nm(e){return void 0!==e&&2===e.registrationStatus}function Cm(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t;return(0,K.__generator)(this,(function(n){switch(n.label){case 0:return[4,_m(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function Am(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,K.__generator)(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return Yp(e)+"/"+n}(e,t),r=Zp(e,t),i={method:"DELETE",headers:r},[4,em((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,$p("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function xm(e,t){var n=e.appConfig;return function(e,t){lm();var n=om(e),r=am.get(n);r||(r=new Set,am.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=om(e),r=am.get(n);r&&(r.delete(t),0===r.size&&am.delete(n),hm())}(n,t)}}function Rm(e){return Hp.create("missing-app-config-values",{valueName:e})}(fm=G.default).INTERNAL.registerComponent(new xp.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw Rm("App Configuration");if(!e.name)throw Rm("App Name");try{for(var r=(0,K.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw Rm(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),r={appConfig:n,platformLoggerProvider:e.getProvider("platform-logger")},i={app:t,getId:function(){return function(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:return[4,_m(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):Im(e).catch(console.error),[2,n.fid]}}))}))}(r)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),(0,K.__awaiter)(this,void 0,void 0,(function(){return(0,K.__generator)(this,(function(n){switch(n.label){case 0:return[4,Cm(e.appConfig)];case 1:return n.sent(),[4,Im(e,t)];case 2:return[2,n.sent().token]}}))}))}(r,e)},delete:function(){return function(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:return[4,bm(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw Hp.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Hp.create("app-offline");case 3:return[4,Am(t,n)];case 4:return r.sent(),[4,ym(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(r)},onIdChange:function(e){return xm(r,e)}};return i}),"PUBLIC")),fm.registerVersion("@firebase/installations",Vp);var Om,Dm=((dm={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',dm["only-available-in-window"]="This method is available in a Window context.",dm["only-available-in-sw"]="This method is available in a service worker context.",dm["permission-default"]="The notification permission was not granted and dismissed instead.",dm["permission-blocked"]="The notification permission was not granted and blocked instead.",dm["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",dm["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",dm["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",dm["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",dm["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",dm["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",dm["token-update-no-token"]="FCM returned no token when updating the user to push.",dm["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",dm["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",dm["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",dm["invalid-vapid-key"]="The public VAPID key must be a string.",dm["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",dm),Pm=new W.ErrorFactory("messaging","Messaging",Dm),jm="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Mm="google.c.a.c_id";function Lm(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,(0,K.__spreadArray)([],(0,K.__read)(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Fm(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Om||(Om={}));var Um="fcm_token_details_db",Bm="fcm_token_object_Store";function Vm(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i=this;return(0,K.__generator)(this,(function(o){switch(o.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=o.sent(),n=t.map((function(e){return e.name})),!n.includes(Um))return[2,null];o.label=2;case 2:return r=null,[4,(0,Bp.openDb)(Um,5,(function(t){return(0,K.__awaiter)(i,void 0,void 0,(function(){var n,i,o,a;return(0,K.__generator)(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains(Bm)?[4,(n=t.transaction.objectStore(Bm)).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===t.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];r={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:Lm(o.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(r={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:Lm(o.auth),p256dh:Lm(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:Lm(o.vapidKey)}});return[2]}}))}))}))];case 3:return o.sent().close(),[4,(0,Bp.deleteDb)(Um)];case 4:return o.sent(),[4,(0,Bp.deleteDb)("fcm_vapid_details_db")];case 5:return o.sent(),[4,(0,Bp.deleteDb)("undefined")];case 6:return o.sent(),[2,qm(r)?r:null]}}))}))}function qm(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var zm="firebase-messaging-store",Gm=null;function Km(){return Gm||(Gm=(0,Bp.openDb)("firebase-messaging-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(zm)}))),Gm}function Wm(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:return t=Ym(e),[4,Km()];case 1:return[4,i.sent().transaction(zm).objectStore(zm).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,Vm(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,Hm(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function Hm(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,K.__generator)(this,(function(o){switch(o.label){case 0:return n=Ym(e),[4,Km()];case 1:return r=o.sent(),[4,(i=r.transaction(zm,"readwrite")).objectStore(zm).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function Qm(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:return t=Ym(e),[4,Km()];case 1:return n=i.sent(),[4,(r=n.transaction(zm,"readwrite")).objectStore(zm).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Ym(e){return e.appConfig.appId}function Jm(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,K.__generator)(this,(function(u){switch(u.label){case 0:return[4,eg(e)];case 1:n=u.sent(),r=tg(t),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Zm(e.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),Pm.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,Pm.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw Pm.create("token-subscribe-no-token");return[2,o.token]}}))}))}function $m(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,K.__generator)(this,(function(u){switch(u.label){case 0:return[4,eg(e)];case 1:n=u.sent(),r=tg(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Zm(e.appConfig)+"/"+t.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),Pm.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,Pm.create("token-update-failed",{errorInfo:s});if(!o.token)throw Pm.create("token-update-no-token");return[2,o.token]}}))}))}function Xm(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,K.__generator)(this,(function(s){switch(s.label){case 0:return[4,eg(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(Zm(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,Pm.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),Pm.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function Zm(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function eg(e){var t=e.appConfig,n=e.installations;return(0,K.__awaiter)(this,void 0,void 0,(function(){var e;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function tg(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==jm&&(o.web.applicationPubKey=i),o}function ng(e,t,n){return(0,K.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,K.__generator)(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw Pm.create("permission-blocked");return[4,ag(t,n)];case 1:return r=s.sent(),[4,Wm(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:Lm(r.getKey("auth")),p256dh:Lm(r.getKey("p256dh"))},i?[3,3]:[2,og(e,o)];case 3:if(function(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(i.subscriptionOptions,o))return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,Xm(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,og(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,ig({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}}))}))}function rg(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:return[4,Wm(e)];case 1:return(n=i.sent())?[4,Xm(e,n.token)]:[3,4];case 2:return i.sent(),[4,Qm(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function ig(e,t,n){return(0,K.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,K.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,$m(t,e)];case 1:return r=a.sent(),i=(0,K.__assign)((0,K.__assign)({},e),{token:r,createTime:Date.now()}),[4,Hm(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,rg(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function og(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:return[4,Jm(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,Hm(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function ag(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fm(t)})]}}))}))}function sg(e){return"object"===typeof e&&!!e&&Mm in e}function ug(e){return new Promise((function(t){setTimeout(t,e)}))}var cg=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!==typeof e)throw Pm.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return(0,K.__awaiter)(this,void 0,void 0,(function(){var n;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Wm(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:jm,r.label=2;case 2:return[2,ng(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return rg(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw Pm.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw Pm.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw Pm.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw Pm.create("only-available-in-window")},e.prototype.onMessage=function(){throw Pm.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw Pm.create("only-available-in-window")},e.prototype.onPush=function(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,K.__generator)(this,(function(o){switch(o.label){case 0:return t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e),t?[4,dg()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,fg(n,t)]:(r=!1,t.notification?[4,pg(lg(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,ug(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return(0,K.__awaiter)(this,void 0,void 0,(function(){var r;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,rg(this.firebaseDependencies,self.registration)];case 1:case 5:return i.sent(),[2];case 2:return[4,Wm(this.firebaseDependencies)];case 3:return r=i.sent(),[4,rg(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,ng(this.firebaseDependencies,self.registration,null!==(n=null===(t=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:jm)]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return(0,K.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,K.__generator)(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return sg(e.data)?self.location.origin:null}(r),i?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,hg(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,ug(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=Om.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function lg(e){var t,n=(0,K.__assign)({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function hg(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return(0,K.__generator)(this,(function(u){switch(u.label){case 0:return[4,dg()];case 1:t=u.sent();try{for(n=(0,K.__values)(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function fg(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=Om.PUSH_RECEIVED;try{for(var i=(0,K.__values)(e),o=i.next();!o.done;o=i.next()){o.value.postMessage(t)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function dg(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function pg(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var mg=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===Om.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),sg(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){return(0,K.__generator)(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw Pm.create("permission-blocked");return[4,this.updateVapidKey(null===e||void 0===e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null===e||void 0===e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,ng(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){return(0,K.__generator)(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=jm),[2]}))}))},e.prototype.updateSwReg=function(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){return(0,K.__generator)(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw Pm.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,K.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),Pm.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){return(0,K.__generator)(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,rg(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){var e;return(0,K.__generator)(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?Pm.create("permission-blocked"):Pm.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw Pm.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw Pm.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw Pm.create("invalid-sw-registration");if(this.swRegistration)throw Pm.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw Pm.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw Pm.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case Om.NOTIFICATION_CLICKED:return"notification_open";case Om.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function gg(e){return Pm.create("missing-app-config-values",{valueName:e})}var vg={isSupported:yg};function yg(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}G.default.INTERNAL.registerComponent(new xp.Component("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw gg("App Configuration Object");if(!e.name)throw gg("App Name");var r=e.options;try{for(var i=(0,K.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw gg(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),r={app:t,appConfig:n,installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!yg())throw Pm.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new cg(r):new mg(r)}),"PUBLIC").setServiceProps(vg));var bg="firebasestorage.googleapis.com",_g=function(e){function t(n,r){var i=e.call(this,wg(n),"Firebase Storage: "+r+" ("+wg(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return(0,K.__extends)(t,e),t.prototype._codeEquals=function(e){return wg(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(W.FirebaseError);function wg(e){return"storage/"+e}function kg(){return new _g("unknown","An unknown error occurred, please check the error payload for server response.")}function Eg(){return new _g("canceled","User canceled the upload/download.")}function Tg(){return new _g("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Ig(e){return new _g("invalid-argument",e)}function Sg(){return new _g("app-deleted","The Firebase app was deleted.")}function Ng(e){return new _g("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Cg(e,t){return new _g("invalid-format","String does not match format '"+e+"': "+t)}function Ag(e){throw new _g("internal-error","Internal error: "+e)}var xg={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Rg=function(e,t){this.data=e,this.contentType=t||null};function Og(e,t){switch(e){case xg.RAW:return new Rg(Dg(t));case xg.BASE64:case xg.BASE64URL:return new Rg(Pg(e,t));case xg.DATA_URL:return new Rg(function(e){var t=new jg(e);return t.base64?Pg(xg.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(Cp){throw Cg(xg.DATA_URL,"Malformed data URL.")}return Dg(t)}(t.rest)}(t),new jg(t).contentType)}throw kg()}function Dg(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Pg(e,t){switch(e){case xg.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Cg(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case xg.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw Cg(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(Cp){throw Cg(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var jg=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw Cg(xg.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1);var r,i};var Mg,Lg={STATE_CHANGED:"state_changed"},Fg={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ug(e){switch(e){case"running":case"pausing":case"canceling":return Fg.RUNNING;case"paused":return Fg.PAUSED;case"success":return Fg.SUCCESS;case"canceled":return Fg.CANCELED;default:return Fg.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Mg||(Mg={}));var Bg=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Mg.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=Mg.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=Mg.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw Ag("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Ag("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Ag("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Cp){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Ag("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();var Vg=function(){function e(){}return e.prototype.createConnection=function(){return new Bg},e}(),qg=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(Cp){return new e(t,"")}if(""===r.path)return r;throw new _g("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===bg?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(t);if(h){var f=h[l.indices.bucket],d=h[l.indices.path];d||(d=""),r=new e(f,d),l.postModify(r);break}}if(null==r)throw function(e){return new _g("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),zg=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function Gg(e){return"string"===typeof e||e instanceof String}function Kg(e){return Wg()&&e instanceof Blob}function Wg(){return"undefined"!==typeof Blob}function Hg(e,t,n,r){if(r<t)throw Ig("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Ig("Invalid value for '"+e+"'. Expected "+n+" or less.")}function Qg(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function Yg(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var Jg=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(Cp){o(Cp)}else null!==a?((r=kg()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?Sg():Eg()):o(r=new _g("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new $g(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function l(t){i=setTimeout((function(){i=null,e(h,s())}),t)}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)c.call.apply(c,(0,K.__spreadArray)([null,e],t));else{var i;s()||o?c.call.apply(c,(0,K.__spreadArray)([null,e],t)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),l(i))}}var f=!1;function d(e){f||(f=!0,u||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(t,n){if(n)t(!1,new $g(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Mg.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new $g(a,r))}else{var s=r.getErrorCode()===Mg.ABORT;t(!1,new $g(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),$g=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function Xg(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Zg(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Xg();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(Wg())return new Blob(e);throw new _g("unsupported-environment","This browser doesn't seem to support creating Blobs")}var ev=function(){function e(e,t){var n=0,r="";Kg(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(Kg(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Wg()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(Zg.apply(null,r))}var i=t.map((function(e){return Gg(e)?Og(xg.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function tv(e){var t;try{t=JSON.parse(e)}catch(Cp){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function nv(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function rv(e,t){return t}var iv=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||rv},ov=null;function av(){if(ov)return ov;var e=[];e.push(new iv("bucket")),e.push(new iv("generation")),e.push(new iv("metageneration")),e.push(new iv("name","fullPath",!0));var t=new iv("name");t.xform=function(e,t){return function(e){return!Gg(e)||e.length<2?e:nv(e)}(t)},e.push(t);var n=new iv("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new iv("timeCreated")),e.push(new iv("updated")),e.push(new iv("md5Hash",null,!0)),e.push(new iv("cacheControl",null,!0)),e.push(new iv("contentDisposition",null,!0)),e.push(new iv("contentEncoding",null,!0)),e.push(new iv("contentLanguage",null,!0)),e.push(new iv("contentType",null,!0)),e.push(new iv("metadata","customMetadata",!0)),ov=e}function sv(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new qg(n,r);return t._makeStorageReference(i)}})}(r,e),r}function uv(e,t,n){var r=tv(t);return null===r?null:sv(e,r,n)}function cv(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function lv(e,t,n){var r=tv(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new qg(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new qg(t,l.name)),r.items.push(s)}return r}(e,t,r)}var hv=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function fv(e){if(!e)throw kg()}function dv(e,t){return function(n,r){var i=uv(e,r,t);return fv(null!==i),i}}function pv(e,t){return function(n,r){var i=uv(e,r,t);return fv(null!==i),function(e,t,n){var r=tv(t);if(null===r)return null;if(!Gg(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return Qg("/b/"+o(r)+"/o/"+o(i),n)+Yg({alt:"media",token:t})}))[0]}(i,r,e.host)}}function mv(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new _g("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new _g("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new _g("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new _g("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function gv(e){var t=mv(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new _g("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function vv(e,t,n){var r=Qg(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new hv(r,"GET",dv(e,n),i);return o.errorHandler=gv(t),o}function yv(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=Qg(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new hv(a,"GET",function(e,t){return function(n,r){var i=lv(e,t,r);return fv(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=mv(t),u}function bv(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var _v=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function wv(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(Cp){fv(!1)}return fv(!!n&&-1!==(t||["active"]).indexOf(n)),n}var kv=262144;function Ev(e,t,n,r,i,o,a,s){var u=new _v(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new _g("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},p=r.slice(h,f);if(null===p)throw Tg();var m=t.maxUploadRetryTime,g=new hv(n,"POST",(function(e,n){var i,a=wv(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?dv(t,o)(e,n):null,new _v(s,c,"final"===a,i)}),m);return g.headers=d,g.body=p.uploadData(),g.progressCallback=s||null,g.errorHandler=mv(e),g}var Tv=function(e,t,n){var r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=t,this.complete=n;else{var i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}};function Iv(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var Sv=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=av(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=bv(t,r,i),s={name:a.fullPath},u=Qg(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=cv(a,n),h=e.maxUploadRetryTime,f=new hv(u,"POST",(function(e){var t;wv(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(Cp){fv(!1)}return fv(Gg(t)),t}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=mv(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new hv(n,"POST",(function(e){var t=wv(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Cp){fv(!1)}n||fv(!1);var i=Number(n);return fv(!isNaN(i)),new _v(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=mv(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=kv*this._chunkMultiplier,n=new _v(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=Ev(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(Cp){return e._error=Cp,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){kv*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=vv(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=bv(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+cv(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=ev.getBlob(c,r,l);if(null===h)throw Tg();var f={name:u.fullPath},d=Qg(o,e.host),p=e.maxUploadRetryTime,m=new hv(d,"POST",dv(e,n),p);return m.urlParams=f,m.headers=a,m.body=h.uploadData(),m.errorHandler=mv(t),m}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Eg(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=Ug(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new Tv(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(Ug(this._state)){case Fg.SUCCESS:Iv(this._resolve.bind(null,this.snapshot))();break;case Fg.CANCELED:case Fg.ERROR:Iv(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(Ug(this._state)){case Fg.RUNNING:case Fg.PAUSED:e.next&&Iv(e.next.bind(e,this.snapshot))();break;case Fg.SUCCESS:e.complete&&Iv(e.complete.bind(e))();break;default:e.error&&Iv(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),Nv=function(){function e(e,t){this._service=e,this._location=t instanceof qg?t:qg.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new qg(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return nv(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new qg(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw Ng(e)},e}();function Cv(e){var t={prefixes:[],items:[]};return Av(e,t).then((function(){return t}))}function Av(e,t,n){return(0,K.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,K.__generator)(this,(function(a){switch(a.label){case 0:return[4,xv(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,Av(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function xv(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&Hg("options.maxResults",1,1e3,t.maxResults),n=t||{},r=yv(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function Rv(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=Qg(t.fullServerUrl(),e.host),o=cv(n,r),a=e.maxOperationRetryTime,s=new hv(i,"PATCH",dv(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=gv(t),s}(e.storage,e._location,t,av()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function Ov(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t;return(0,K.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=Qg(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new hv(r,"GET",pv(e,n),i);return o.errorHandler=gv(t),o}(e.storage,e._location,av()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new _g("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function Dv(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t;return(0,K.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=Qg(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new hv(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=gv(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function Pv(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new qg(e._location.bucket,n);return new Nv(e.storage,r)}function jv(e){return/^[A-Za-z]+:\/\//.test(e)}function Mv(e,t){if(e instanceof Uv){var n=e;if(null==n._bucket)throw new _g("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Nv(n,n._bucket);return null!=t?Mv(r,t):r}return void 0!==t?Pv(e,t):e}function Lv(e,t){if(t&&jv(t)){if(e instanceof Uv)return new Nv(e,t);throw Ig("To use ref(service, url), the first argument must be a Storage instance.")}return Mv(e,t)}function Fv(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:qg.makeFromBucketSpec(n,e)}var Uv=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=bg,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?qg.makeFromBucketSpec(i,this._host):Fv(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=qg.makeFromBucketSpec(this._url,e):this._bucket=Fv(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){Hg("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){Hg("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,K.__generator)(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){var e;return(0,K.__generator)(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new Nv(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new zg(Sg());var i=function(e,t,n,r,i,o){var a=Yg(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Jg(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function Bv(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Sv(e,new ev(t),n)}(e=(0,W.getModularInstance)(e),t,n)}function Vv(e){return function(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t;return(0,K.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=vv(e.storage,e._location,av()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=(0,W.getModularInstance)(e))}function qv(e,t){return Lv(e=(0,W.getModularInstance)(e),t)}function zv(e,t,n,r){void 0===r&&(r={}),function(e,t,n,r){void 0===r&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:(0,W.createMockUserToken)(i,e.app.options.projectId))}(e,t,n,r)}var Gv=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),Kv=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Gv(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new Gv(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new Gv(e,i,i._ref))}:{next:t.next?function(e){return t.next(new Gv(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),Wv=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Hv(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new Hv(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),Hv=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=function(e,t){return Pv(e,t)}(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new Kv(Bv(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=xg.RAW),this._throwIfRoot("putString");var r=Og(t,e),i=(0,K.__assign)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Kv(new Sv(this._delegate,new ev(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return Cv(e=(0,W.getModularInstance)(e))}(this._delegate).then((function(t){return new Wv(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return xv(e=(0,W.getModularInstance)(e),t)}(this._delegate,e||void 0).then((function(e){return new Wv(e,t.storage)}))},e.prototype.getMetadata=function(){return Vv(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return Rv(e=(0,W.getModularInstance)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return Ov(e=(0,W.getModularInstance)(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return Dv(e=(0,W.getModularInstance)(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw Ng(e)},e}(),Qv=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(jv(e))throw Ig("ref() expected a child path but got a URL, use refFromURL instead.");return new Hv(qv(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!jv(e))throw Ig("refFromURL() expected a full URL but got a child path, use ref() instead.");try{qg.makeFromUrl(e,this._delegate.host)}catch(Cp){throw Ig("refFromUrl() expected a valid full URL but got an invalid one.")}return new Hv(qv(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),zv(this._delegate,e,t,n)},e}();function Yv(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Qv(r,new Uv(r,i,o,new Vg,n,G.default.SDK_VERSION))}!function(e){var t={TaskState:Fg,TaskEvent:Lg,StringFormat:xg,Storage:Uv,Reference:Hv};e.INTERNAL.registerComponent(new xp.Component("storage",Yv,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.7.1")}(G.default);var Jv,$v,Xv,Zv="0.4.18",ey=Zv,ty="FB-PERF-TRACE-MEASURE",ny="_wt_",ry="_fcp",iy="_fid",oy="@firebase/performance/config",ay="@firebase/performance/configexpire",sy="Performance",uy=((Jv={})["trace started"]="Trace {$traceName} was started before.",Jv["trace stopped"]="Trace {$traceName} is not running.",Jv["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Jv["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Jv["no window"]="Window is not available.",Jv["no app id"]="App id is not available.",Jv["no project id"]="Project id is not available.",Jv["no api key"]="Api key is not available.",Jv["invalid cc log"]="Attempted to queue invalid cc event",Jv["FB not default"]="Performance can only start when Firebase app instance is the default one.",Jv["RC response not ok"]="RC response is not ok",Jv["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Jv["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Jv["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Jv["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Jv),cy=new W.ErrorFactory("performance",sy,uy),ly=new H.Logger(sy);ly.logLevel=H.LogLevel.INFO;var hy,fy=function(){function e(e){if(this.window=e,!e)throw cy.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,W.isIndexedDBAvailable)()||(ly.info("IndexedDB is not supported by current browswer"),!1):(ly.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){if(this.PerformanceObserver){var n=new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}}));n.observe({entryTypes:[e]})}},e.getInstance=function(){return void 0===$v&&($v=new e(Xv)),$v},e}();function dy(e,t){var n=e.length-t.length;if(n<0||n>1)throw cy.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var py,my,gy=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=dy("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=dy("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw cy.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw cy.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw cy.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===hy&&(hy=new e),hy},e}();function vy(){return py}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(my||(my={}));var yy=["firebase_","google_","ga_"],by=new RegExp("^[a-zA-Z]\\w*$");function _y(){var e=fy.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function wy(){switch(fy.getInstance().document.visibilityState){case"visible":return my.VISIBLE;case"hidden":return my.HIDDEN;default:return my.UNKNOWN}}function ky(){var e=fy.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var Ey="0.0.1",Ty=!0,Iy="FIREBASE_INSTALLATIONS_AUTH";function Sy(e){var t=function(){var e=fy.getInstance().localStorage;if(!e)return;var t=e.getItem(ay);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(oy);if(!r)return;try{return JSON.parse(r)}catch(ad){return}}();return t?(Cy(t),Promise.resolve()):function(e){return function(){var e=gy.getInstance().installationsService.getToken();return e.then((function(e){})),e}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+gy.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+gy.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:Iy+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:gy.getInstance().getAppId(),app_version:ey,sdk_version:Ey})});return fetch(r).then((function(e){if(e.ok)return e.json();throw cy.create("RC response not ok")}))})).catch((function(){ly.info(Ny)}))}(e).then(Cy).then((function(e){return function(e){var t=fy.getInstance().localStorage;if(!e||!t)return;t.setItem(oy,JSON.stringify(e)),t.setItem(ay,String(Date.now()+60*gy.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var Ny="Could not fetch config, will use default configs";function Cy(e){if(!e)return e;var t=gy.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=Ty,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=Ay(t.tracesSamplingRate),t.logNetworkAfterSampling=Ay(t.networkRequestsSamplingRate),e}function Ay(e){return Math.random()<=e}var xy,Ry=1;function Oy(){return Ry=2,xy=xy||function(){var e=fy.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return function(){var e=gy.getInstance().installationsService.getId();return e.then((function(e){py=e})),e}()})).then((function(e){return Sy(e)})).then((function(){return Dy()}),(function(){return Dy()}))}function Dy(){Ry=3}var Py,jy=1e4,My=3,Ly=[],Fy=!1;function Uy(e){setTimeout((function(){if(0!==My)return Ly.length?void function(){var e=Ly.splice(0,1e3),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(e,t){return function(e){var t=gy.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||ly.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=jy;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(Ly=(0,K.__spreadArray)((0,K.__spreadArray)([],t),Ly),ly.info("Retry transport request later.")),My=3,Uy(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:gy.getInstance().logSource,log_event:t},e).catch((function(){Ly=(0,K.__spreadArray)((0,K.__spreadArray)([],e),Ly),My--,ly.info("Tries left: "+My+"."),Uy(jy)}))}():Uy(jy)}),e)}function By(e){if(!e.eventTime||!e.message)throw cy.create("invalid cc log");Ly=(0,K.__spreadArray)((0,K.__spreadArray)([],Ly),[e])}function Vy(e,t){Py||(Py=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];By({message:e.apply(void 0,t),eventTime:Date.now()})}}(Gy)),Py(e,t)}function qy(e){var t=gy.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&fy.getInstance().requiredApisAvailable()&&(e.isAuto&&wy()!==my.VISIBLE||(3===Ry?zy(e):Oy().then((function(){return zy(e)}),(function(){return zy(e)}))))}function zy(e){if(vy()){var t=gy.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return Vy(e,1)}),0)}}function Gy(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:Ky(),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:Ky(),trace_metric:t};return JSON.stringify(r)}(e)}function Ky(){return{google_app_id:gy.getInstance().getAppId(),app_instance_id:vy(),web_app_info:{sdk_version:ey,page_url:fy.getInstance().getUrl(),service_worker_status:_y(),visibility_state:wy(),effective_connection_type:ky()},application_process_state:0}}var Wy=["_fp",ry,iy];var Hy=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=fy.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw cy.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw cy.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),qy(this)},e.prototype.record=function(e,t,n){if(e<=0)throw cy.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw cy.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=(0,K.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}qy(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||n.length>100||!(r&&r.startsWith(ny)&&Wy.indexOf(n)>-1)&&n.startsWith("_"))throw cy.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&ly.info("Metric value should be an Integer, setting the value as : "+t+"."),t}(t)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n=function(e){if(0===e.length||e.length>40)return!1;var t=yy.some((function(t){return e.startsWith(t)}));return!t&&!!e.match(by)}(e),r=function(e){return 0!==e.length&&e.length<=100}(t);if(n&&r)this.customAttributes[e]=t;else{if(!n)throw cy.create("invalid attribute name",{attributeName:e});if(!r)throw cy.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return(0,K.__assign)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=fy.getInstance().getUrl();if(i){var o=new e(ny+i,!0),a=Math.floor(1e3*fy.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric(ry,Math.floor(1e3*u.startTime)),r&&o.putMetric(iy,Math.floor(1e3*r))}qy(o)}},e.createUserTimingTrace=function(t){qy(new e(t,!1,t))},e}();function Qy(e){var t=e;if(t&&void 0!==t.responseStart){var n=fy.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=gy.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return Vy(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function Yy(){vy()&&(setTimeout((function(){return function(){var e=fy.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){Hy.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),Hy.createOobTrace(t,n,e))}))}else Hy.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=fy.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){Qy(r[n])}e.setupObserver("resource",Qy)}()}),0),setTimeout((function(){return function(){for(var e=fy.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){Jy(r[n])}e.setupObserver("measure",Jy)}()}),0))}function Jy(e){var t=e.name;t.substring(0,ty.length)!==ty&&Hy.createUserTimingTrace(t)}var $y=function(){function e(e){this.app=e,fy.getInstance().requiredApisAvailable()&&(0,W.validateIndexedDBOpenable)().then((function(e){e&&(Fy||(Uy(5500),Fy=!0),Oy().then(Yy,Yy))})).catch((function(e){ly.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new Hy(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return gy.getInstance().instrumentationEnabled},set:function(e){gy.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return gy.getInstance().dataCollectionEnabled},set:function(e){gy.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw cy.create("FB not default");if("undefined"===typeof window)throw cy.create("no window");return function(e){Xv=e}(window),gy.getInstance().firebaseAppInstance=e,gy.getInstance().installationsService=t,new $y(e)};e.INTERNAL.registerComponent(new xp.Component("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance",Zv)}(G.default);var Xy,Zy,eb="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(Xy||(Xy={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(Zy||(Zy={}));var tb,nb=new H.Logger("@firebase/analytics");function rb(e,t,n,r,i,o){return(0,K.__awaiter)(this,void 0,void 0,(function(){var a,s,u,c;return(0,K.__generator)(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find((function(e){return e.measurementId===i})))?[4,t[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),nb.error(c),[3,8];case 8:return e(Xy.CONFIG,i,o),[2]}}))}))}function ib(e,t,n,r,i){return(0,K.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,c,l,h,f;return(0,K.__generator)(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=d.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(h=l[c],"break"!==u(h));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return d.sent(),e(Xy.EVENT,r,i||{}),[3,5];case 4:return f=d.sent(),nb.error(f),[3,5];case 5:return[2]}}))}))}function ob(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return(0,K.__awaiter)(this,void 0,void 0,(function(){var s;return(0,K.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==Xy.EVENT?[3,2]:[4,ib(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==Xy.CONFIG?[3,4]:[4,rb(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(Xy.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),nb.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}var ab=((tb={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",tb["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",tb["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",tb["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",tb["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",tb["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",tb["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",tb["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',tb["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',tb),sb=new W.ErrorFactory("analytics","Analytics",ab),ub=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function cb(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function lb(e){var t;return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,K.__generator)(this,(function(c){switch(c.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:cb(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw sb.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function hb(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=ub),(0,K.__awaiter)(this,void 0,void 0,(function(){var t,a,s,u,c,l,h;return(0,K.__generator)(this,(function(f){switch(f.label){case 0:t=e.appId,a=e.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,fb(n,i)];case 2:return f.sent(),[3,4];case 3:if(s=f.sent(),a)return nb.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return f.trys.push([4,6,,7]),[4,lb(e)];case 5:return u=f.sent(),r.deleteThrottleMetadata(t),[2,u];case 6:if(!function(e){if(!(e instanceof W.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c=f.sent())){if(r.deleteThrottleMetadata(t),a)return nb.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?(0,W.calculateBackoffMillis)(o,r.intervalMillis,30):(0,W.calculateBackoffMillis)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(t,h),nb.debug("Calling attemptFetch again in "+l+" millis"),[2,hb(e,h,n,r)];case 7:return[2]}}))}))}function fb(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(sb.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var db=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function pb(e,t,n,r,i,o){return(0,K.__awaiter)(this,void 0,void 0,(function(){var a,s,u,c,l,h,f;return(0,K.__generator)(this,(function(d){switch(d.label){case 0:return a=function(e,t,n){return void 0===t&&(t=ub),(0,K.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c=this;return(0,K.__generator)(this,(function(l){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw sb.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw sb.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new db,setTimeout((function(){return(0,K.__awaiter)(c,void 0,void 0,(function(){return(0,K.__generator)(this,(function(e){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,hb({appId:i,apiKey:o,measurementId:a},s,u,t)]}))}))}(e),a.then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&nb.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return nb.error(e)})),t.push(a),s=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){var e;return(0,K.__generator)(this,(function(t){switch(t.label){case 0:return(0,W.isIndexedDBAvailable)()?[3,1]:(nb.warn(sb.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,(0,W.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),nb.warn(sb.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(eb))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=eb+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,h=f,null!=l&&(h.firebase_id=l),i(Xy.CONFIG,c.measurementId,h),[2,c.measurementId]}}))}))}var mb,gb,vb={},yb=[],bb={},_b="dataLayer",wb="gtag",kb=!1;function Eb(e){if(kb)throw sb.create("already-initialized");e.dataLayerName&&(_b=e.dataLayerName),e.gtagName&&(wb=e.gtagName)}function Tb(e,t){!function(){var e=[];if((0,W.isBrowserExtension)()&&e.push("This is a browser extension environment."),(0,W.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=sb.create("invalid-analytics-context",{errorInfo:t});nb.warn(n.message)}}();var n=e.options.appId;if(!n)throw sb.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw sb.create("no-api-key");nb.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=vb[n])throw sb.create("already-exists",{id:n});if(!kb){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(_b);var r=ob(vb,yb,bb,_b,wb),i=r.wrappedGtag,o=r.gtagCore;gb=i,mb=o,kb=!0}vb[n]=pb(e,yb,bb,t,mb,_b);var a={app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return(0,K.__awaiter)(this,void 0,void 0,(function(){var o,a;return(0,K.__generator)(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(Xy.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=(0,K.__assign)((0,K.__assign)({},r),{send_to:o}),e(Xy.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(gb,vb[n],e,t,r).catch((function(e){return nb.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return(0,K.__awaiter)(this,void 0,void 0,(function(){var i;return(0,K.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(Xy.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(Xy.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(gb,vb[n],e,t).catch((function(e){return nb.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return(0,K.__awaiter)(this,void 0,void 0,(function(){var i;return(0,K.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(Xy.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(Xy.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(gb,vb[n],e,t).catch((function(e){return nb.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return(0,K.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,K.__generator)(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(Xy.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(Xy.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(gb,vb[n],e,t).catch((function(e){return nb.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(vb[n],e).catch((function(e){return nb.error(e)}))},INTERNAL:{delete:function(){return delete vb[n],Promise.resolve()}}};return a}var Ib="analytics";function Sb(){return(0,K.__awaiter)(this,void 0,void 0,(function(){return(0,K.__generator)(this,(function(e){switch(e.label){case 0:if((0,W.isBrowserExtension)())return[2,!1];if(!(0,W.areCookiesEnabled)())return[2,!1];if(!(0,W.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,W.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new xp.Component(Ib,(function(e){return Tb(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:Eb,EventName:Zy,isSupported:Sb})),e.INTERNAL.registerComponent(new xp.Component("analytics-internal",(function(e){try{return{logEvent:e.getProvider(Ib).getImmediate().logEvent}}catch(Cp){throw sb.create("interop-component-reg-failed",{reason:Cp})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.18")}(G.default);var Nb,Cb=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,K.__generator)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),Ab=((Nb={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Nb["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Nb["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Nb["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Nb["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Nb["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Nb["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Nb["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Nb["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Nb["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Nb["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Nb["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Nb["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Nb),xb=new W.ErrorFactory("remoteconfig","Remote Config",Ab);var Rb=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,h,f,d,p,m,g,v,y,b;return(0,K.__generator)(this,(function(_){switch(_.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=_.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===w&&(w=navigator),w.languages&&w.languages[0]||w.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),_.label=2;case 2:return _.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return _.sent(),[4,c];case 4:return h=_.sent(),[3,6];case 5:throw f=_.sent(),d="fetch-client-network","AbortError"===f.name&&(d="fetch-timeout"),xb.create(d,{originalErrorMessage:f.message});case 6:if(p=h.status,m=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];y=void 0,_.label=7;case 7:return _.trys.push([7,9,,10]),[4,h.json()];case 8:return y=_.sent(),[3,10];case 9:throw b=_.sent(),xb.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:g=y.entries,v=y.state,_.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===v?p=500:"NO_CHANGE"===v?p=304:"NO_TEMPLATE"!==v&&"EMPTY_CONFIG"!==v||(g={}),304!==p&&200!==p)throw xb.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:m,config:g}]}var w}))}))},e}(),Ob=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),Db=["1","true","t","yes","y","on"],Pb=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&Db.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),jb=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=H.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=H.LogLevel.SILENT;break;default:this._logger.logLevel=H.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){var e,t,n;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r=this;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:e=new Ob,setTimeout((function(){return(0,K.__awaiter)(r,void 0,void 0,(function(){return(0,K.__generator)(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof W.FirebaseError&&-1!==e.code.indexOf(t)}(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){return(0,K.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys((0,K.__assign)((0,K.__assign)({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new Pb("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new Pb("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new Pb("static"))},e}();function Mb(e,t){var n=e.target.error||void 0;return xb.create(t,{originalErrorMessage:n&&n.message})}var Lb="app_namespace_store";var Fb=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(Mb(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(Lb,{keyPath:"compositeKey"})}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([Lb],"readonly").objectStore(Lb),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(Mb(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(Cp){i(xb.create("storage-get",{originalErrorMessage:Cp&&Cp.message}))}}))]}}))}))},e.prototype.set=function(e,t){return(0,K.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,K.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([Lb],"readwrite").objectStore(Lb),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(Mb(e,"storage-set"))},u.onsuccess=function(){i()}}catch(Cp){o(xb.create("storage-set",{originalErrorMessage:Cp&&Cp.message}))}}))]}}))}))},e.prototype.delete=function(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,K.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([Lb],"readwrite").objectStore(Lb),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(Mb(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(Cp){i(xb.create("storage-delete",{originalErrorMessage:Cp&&Cp.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),Ub=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return(0,K.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o;return(0,K.__generator)(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function Bb(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(xb.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var Vb,qb=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return(0,K.__awaiter)(this,void 0,void 0,(function(){var t;return(0,K.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return(0,K.__awaiter)(this,void 0,void 0,(function(){var t,i,o;return(0,K.__generator)(this,(function(a){switch(a.label){case 0:return[4,Bb(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof W.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+(0,W.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}(),zb="@firebase/remote-config";(Vb=G.default).INTERNAL.registerComponent(new xp.Component("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw xb.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw xb.create("registration-project-id");if(!s)throw xb.create("registration-api-key");if(!u)throw xb.create("registration-app-id");n=n||"firebase";var c=new Fb(u,r.name,n),l=new Ub(c),h=new H.Logger(zb);h.logLevel=H.LogLevel.ERROR;var f=new Rb(i,Vb.SDK_VERSION,n,a,s,u),d=new qb(f,c),p=new Cb(d,c,l,h),m=new jb(r,p,l,c,h);return m.ensureInitialized(),m}),"PUBLIC").setMultipleInstances(!0)),Vb.registerVersion(zb,"0.1.43");n(446);var Gb="8.10.1";G.default.registerVersion("firebase",Gb,"app"),G.default.SDK_VERSION=Gb;function Kb(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),G.default.registerVersion("firebase","8.10.1");var Wb="function"===typeof Symbol&&Symbol.observable||"@@observable",Hb=function(){return Math.random().toString(36).substring(7).split("").join(".")},Qb={INIT:"@@redux/INIT"+Hb(),REPLACE:"@@redux/REPLACE"+Hb(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Hb()}};function Yb(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Jb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$b(Object(n),!0).forEach((function(t){Jb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zb=JSON.parse('{"ov":"SET_IS_OPEN_DYSLEXIC_ENABLED","lX":"SET_LOCALE","z9":"DISBALE_SHOW_INSTRUCTION_MODAL","Qj":"SET_IS_AR_ACTIVE","k$":"SET_SHOW_COOKIE_CONSENT","Ur":"SET_GOOGLE_ANALYTICS"}'),e_=JSON.parse('{"EN":"en","LT":"lt"}');function t_(e){console.warn("[react-ga]",e)}function n_(e){return n_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n_(e)}function r_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r_(Object(n),!0).forEach((function(t){d_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o_(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u_(e,t){return u_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u_(e,t)}function c_(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(Cp){return!1}}();return function(){var n,r=f_(e);if(t){var i=f_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l_(this,n)}}function l_(e,t){return!t||"object"!==n_(t)&&"function"!==typeof t?h_(e):t}function h_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f_(e){return f_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f_(e)}function d_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p_="_blank",m_=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u_(e,t)}(a,e);var n,r,i,o=c_(a);function a(){var e;a_(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return d_(h_(e=o.call.apply(o,[this].concat(n))),"handleClick",(function(t){var n=e.props,r=n.target,i=n.eventLabel,o=n.to,s=n.onClick,u=n.trackerNames,c={label:i},l=r!==p_,h=!(t.ctrlKey||t.shiftKey||t.metaKey||1===t.button);l&&h?(t.preventDefault(),a.trackLink(c,(function(){window.location.href=o}),u)):a.trackLink(c,(function(){}),u),s&&s(t)})),e}return n=a,(r=[{key:"render",value:function(){var e=this.props,n=e.to,r=e.target,i=i_(i_({},o_(e,["to","target"])),{},{target:r,href:n,onClick:this.handleClick});return r===p_&&(i.rel="".concat(i.rel?i.rel:""," noopener noreferrer").trim()),delete i.eventLabel,delete i.trackerNames,t.createElement("a",i)}}])&&s_(n.prototype,r),i&&s_(n,i),a}(t.Component);d_(m_,"trackLink",(function(){t_("ga tracking not enabled")})),m_.propTypes={eventLabel:a().string.isRequired,target:a().string,to:a().string,onClick:a().func,trackerNames:a().arrayOf(a().string)},m_.defaultProps={target:null,to:null,onClick:null,trackerNames:null};function g_(e){return"string"===typeof(t=e)&&-1!==t.indexOf("@")?(t_("This arg looks like an email address, redacting."),"REDACTED (Potential Email Address)"):e;var t}function v_(e){return e&&e.toString().replace(/^\s+|\s+$/g,"")}var y_=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function b_(e){return v_(e).replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,(function(e,t,n){return t>0&&t+e.length!==n.length&&e.search(y_)>-1&&":"!==n.charAt(t-2)&&("-"!==n.charAt(t+e.length)||"-"===n.charAt(t-1))&&n.charAt(t-1).search(/[^\s-]/)<0?e.toLowerCase():e.substr(1).search(/[A-Z]|\../)>-1?e:e.charAt(0).toUpperCase()+e.substr(1)}))}var __=!1;function w_(e){console.info("[react-ga]",e)}var k_=[],E_={calls:k_,ga:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];k_.push([].concat(t))},resetCalls:function(){k_.length=0}};function T_(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function I_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N_(e){return N_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N_(e)}function C_(e){return function(e){if(Array.isArray(e))return A_(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return A_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A_(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x_="undefined"===typeof window||"undefined"===typeof document,R_=!1,O_=!0,D_=!1,P_=!0,j_=!0,M_=function(){var e;return D_?E_.ga.apply(E_,arguments):!x_&&(window.ga?(e=window).ga.apply(e,arguments):t_("ReactGA.initialize must be called first or GoogleAnalytics should be loaded manually"))};function L_(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e||"";return(arguments.length>1?arguments[1]:void 0)&&(n=b_(e)),t&&(n=g_(n)),n}(e,O_,j_)}function F_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0];"string"===typeof i?(!P_&&Array.isArray(e)||M_.apply(void 0,n),Array.isArray(e)&&e.forEach((function(e){M_.apply(void 0,C_(["".concat(e,".").concat(i)].concat(n.slice(1))))}))):t_("ga command must be a string")}function U_(e,t){e?t&&(t.debug&&!0===t.debug&&(R_=!0),!1===t.titleCase&&(O_=!1),!1===t.redactEmail&&(j_=!1),t.useExistingGa)||(t&&t.gaOptions?M_("create",e,t.gaOptions):M_("create",e,"auto")):t_("gaTrackingID is required in initialize()")}function B_(e,t){return Array.isArray(e)?e.forEach((function(e){"object"===N_(e)?U_(e.trackingId,e):t_("All configs must be an object")})):U_(e,t),!0}function V_(e,t){if(t&&!0===t.testMode)D_=!0;else{if(x_)return;t&&!0===t.standardImplementation||function(e){if(!__){__=!0;var t="https://www.google-analytics.com/analytics.js";e&&e.gaAddress?t=e.gaAddress:e&&e.debug&&(t="https://www.google-analytics.com/analytics_debug.js");var n=e&&e.onerror;!function(e,t,r,i,o,a,s){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,a=t.createElement(r),s=t.getElementsByTagName(r)[0],a.async=1,a.src=i,a.onerror=n,s.parentNode.insertBefore(a,s)}(window,document,"script",t,"ga")}}(t)}P_=!t||"boolean"!==typeof t.alwaysSendToDefaultTracker||t.alwaysSendToDefaultTracker,B_(e,t)}function q_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length>0&&(M_.apply(void 0,t),R_&&(w_("called ga('arguments');"),w_("with arguments: ".concat(JSON.stringify(t))))),window.ga}function z_(e,t){e?"object"===N_(e)?(0===Object.keys(e).length&&t_("empty `fieldsObject` given to .set()"),F_(t,"set",e),R_&&(w_("called ga('set', fieldsObject);"),w_("with fieldsObject: ".concat(JSON.stringify(e))))):t_("Expected `fieldsObject` arg to be an Object"):t_("`fieldsObject` is required in .set()")}function G_(e,t){F_(t,"send",e),R_&&(w_("called ga('send', fieldObject);"),w_("with fieldObject: ".concat(JSON.stringify(e))),w_("with trackers: ".concat(JSON.stringify(t))))}function K_(e,t,n){if(e){var r=v_(e);if(""!==r){var i={};if(n&&(i.title=n),F_(t,"send",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I_(Object(n),!0).forEach((function(t){S_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({hitType:"pageview",page:r},i)),R_){w_("called ga('send', 'pageview', path);");var o="";n&&(o=" and title: ".concat(n)),w_("with path: ".concat(r).concat(o))}}else t_("path cannot be an empty string in .pageview()")}else t_("path is required in .pageview()")}function W_(e,t){if(e){var n,r="/"===(n=v_(e)).substring(0,1)?n.substring(1):n;if(""!==r){var i="/modal/".concat(r);F_(t,"send","pageview",i),R_&&(w_("called ga('send', 'pageview', path);"),w_("with path: ".concat(i)))}else t_("modalName cannot be an empty string or a single / in .modalview()")}else t_("modalName is required in .modalview(modalName)")}function H_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.category,n=e.variable,r=e.value,i=e.label,o=arguments.length>1?arguments[1]:void 0;if(t&&n&&"number"===typeof r){var a={hitType:"timing",timingCategory:L_(t),timingVar:L_(n),timingValue:r};i&&(a.timingLabel=L_(i)),G_(a,o)}else t_("args.category, args.variable AND args.value are required in timing() AND args.value has to be a number")}function Q_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.category,n=e.action,r=e.label,i=e.value,o=e.nonInteraction,a=e.transport,s=T_(e,["category","action","label","value","nonInteraction","transport"]),u=arguments.length>1?arguments[1]:void 0;if(t&&n){var c={hitType:"event",eventCategory:L_(t),eventAction:L_(n)};r&&(c.eventLabel=L_(r)),"undefined"!==typeof i&&("number"!==typeof i?t_("Expected `args.value` arg to be a Number."):c.eventValue=i),"undefined"!==typeof o&&("boolean"!==typeof o?t_("`args.nonInteraction` must be a boolean."):c.nonInteraction=o),"undefined"!==typeof a&&("string"!==typeof a?t_("`args.transport` must be a string."):(-1===["beacon","xhr","image"].indexOf(a)&&t_("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),c.transport=a)),Object.keys(s).filter((function(e){return"dimension"===e.substr(0,"dimension".length)})).forEach((function(e){c[e]=s[e]})),Object.keys(s).filter((function(e){return"metric"===e.substr(0,"metric".length)})).forEach((function(e){c[e]=s[e]})),G_(c,u)}else t_("args.category AND args.action are required in event()")}function Y_(e,t){var n=e.description,r=e.fatal,i={hitType:"exception"};n&&(i.exDescription=L_(n)),"undefined"!==typeof r&&("boolean"!==typeof r?t_("`args.fatal` must be a boolean."):i.exFatal=r),G_(i,t)}var J_={require:function(e,t,n){if(e){var r=v_(e);if(""!==r){var i=n?"".concat(n,".require"):"require";if(t){if("object"!==N_(t))return void t_("Expected `options` arg to be an Object");0===Object.keys(t).length&&t_("Empty `options` given to .require()"),q_(i,r,t),R_&&w_("called ga('require', '".concat(r,"', ").concat(JSON.stringify(t)))}else q_(i,r),R_&&w_("called ga('require', '".concat(r,"');"))}else t_("`name` cannot be an empty string in .require()")}else t_("`name` is required in .require()")},execute:function(e,t){for(var n,r,i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];if(1===o.length?n=o[0]:(r=o[0],n=o[1]),"string"!==typeof e)t_("Expected `pluginName` arg to be a String.");else if("string"!==typeof t)t_("Expected `action` arg to be a String.");else{var s="".concat(e,":").concat(t);n=n||null,r&&n?(q_(s,r,n),R_&&(w_("called ga('".concat(s,"');")),w_('actionType: "'.concat(r,'" with payload: ').concat(JSON.stringify(n))))):n?(q_(s,n),R_&&(w_("called ga('".concat(s,"');")),w_("with payload: ".concat(JSON.stringify(n))))):(q_(s),R_&&w_("called ga('".concat(s,"');")))}}};function $_(e,t,n){if("function"===typeof t)if(e&&e.label){var r={hitType:"event",eventCategory:"Outbound",eventAction:"Click",eventLabel:L_(e.label)},i=!1,o=setTimeout((function(){i=!0,t()}),250);r.hitCallback=function(){clearTimeout(o),i||t()},G_(r,n)}else t_("args.label is required in outboundLink()");else t_("hitCallback function is required")}var X_=E_,Z_={initialize:V_,ga:q_,set:z_,send:G_,pageview:K_,modalview:W_,timing:H_,event:Q_,exception:Y_,plugin:J_,outboundLink:$_,testModeAPI:E_};function ew(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ew(Object(n),!0).forEach((function(t){nw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ew(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}m_.origTrackLink=m_.trackLink,m_.trackLink=$_;var rw=m_,iw=tw(tw({},e),{},{OutboundLink:rw}),ow=function(){iw.initialize("UA-201069012-1")},aw=function(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n+=1){var r=t[n].split("=");if(decodeURIComponent(r[0])===e)return decodeURIComponent(r[1])}};void 0!==aw("lang")&&(aw("lang")===e_.LT?localStorage.setItem("lang",e_.LT):aw("lang")===e_.EN&&localStorage.setItem("lang",e_.EN)),null===localStorage.getItem("lang")&&localStorage.setItem("lang",e_.LT),null===localStorage.getItem("open-dyslexic")&&localStorage.setItem("open-dyslexic",!1),null===localStorage.getItem("cookie-consent")&&localStorage.setItem("cookie-consent",!0),null===localStorage.getItem("google-analytics")&&localStorage.setItem("google-analytics",!1),"true"===localStorage.getItem("google-analytics")&&ow();var sw=function(e){return{type:Zb.lX,payload:e}},uw={isOpenDyslexicActive:"true"===localStorage.getItem("open-dyslexic"),locale:localStorage.getItem("lang"),showInstructionModal:null===localStorage.getItem("show-instruction-modal"),isArActive:!0,showCookieConsent:"true"===localStorage.getItem("cookie-consent"),isGoogleAnalyticsActive:"false"!==localStorage.getItem("google-analytics")},cw=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zb.ov:return localStorage.setItem("open-dyslexic",t.payload),Xb(Xb({},e),{},{isOpenDyslexicActive:t.payload});case Zb.lX:return localStorage.setItem("lang",t.payload===e_.LT?e_.LT:e_.EN),Xb(Xb({},e),{},{locale:t.payload});case Zb.z9:return localStorage.setItem("show-instruction-modal",!1),Xb(Xb({},e),{},{showInstructionModal:!1});case Zb.Qj:return Xb(Xb({},e),{},{isArActive:t.payload});case Zb.k$:return localStorage.setItem("cookie-consent",t.payload),Xb(Xb({},e),{},{showCookieConsent:t.payload});case Zb.Ur:return!1===e.isGoogleAnalyticsActive&&!0===t.payload&&ow(),localStorage.setItem("google-analytics",t.payload),Xb(Xb({},e),{},{isGoogleAnalyticsActive:t.payload});default:return e}},lw=function e(t,n,r){var i;if("function"===typeof n&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(Kb(0));if("function"===typeof n&&"undefined"===typeof r&&(r=n,n=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(Kb(1));return r(e)(t,n)}if("function"!==typeof t)throw new Error(Kb(2));var o=t,a=n,s=[],u=s,c=!1;function l(){u===s&&(u=s.slice())}function h(){if(c)throw new Error(Kb(3));return a}function f(e){if("function"!==typeof e)throw new Error(Kb(4));if(c)throw new Error(Kb(5));var t=!0;return l(),u.push(e),function(){if(t){if(c)throw new Error(Kb(6));t=!1,l();var n=u.indexOf(e);u.splice(n,1),s=null}}}function d(e){if(!Yb(e))throw new Error(Kb(7));if("undefined"===typeof e.type)throw new Error(Kb(8));if(c)throw new Error(Kb(9));try{c=!0,a=o(a,e)}finally{c=!1}for(var t=s=u,n=0;n<t.length;n++){(0,t[n])()}return e}function p(e){if("function"!==typeof e)throw new Error(Kb(10));o=e,d({type:Qb.REPLACE})}function m(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Kb(11));function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[Wb]=function(){return this},e}return d({type:Qb.INIT}),(i={dispatch:d,subscribe:f,getState:h,replaceReducer:p})[Wb]=m,i}(cw),hw=lw;var fw=t.createContext(null),dw=(fw.Consumer,fw.Provider),pw=fw;var mw,gw;function vw(e,t,n){if(void 0===n&&(n=Error),!e)throw new n(t)}function yw(e){return e.type===mw.literal}function bw(e){return e.type===mw.argument}function _w(e){return e.type===mw.number}function ww(e){return e.type===mw.date}function kw(e){return e.type===mw.time}function Ew(e){return e.type===mw.select}function Tw(e){return e.type===mw.plural}function Iw(e){return e.type===mw.pound}function Sw(e){return e.type===mw.tag}function Nw(e){return!(!e||"object"!==typeof e||e.type!==gw.number)}function Cw(e){return!(!e||"object"!==typeof e||e.type!==gw.dateTime)}!function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(mw||(mw={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(gw||(gw={}));var Aw=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function xw(e){var t={};return e.replace(Aw,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var Rw=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,Ow=/^(@+)?(\+|#+)?$/g,Dw=/(\*)(0+)|(#+)(0+)|(0+)/g,Pw=/^(0+)$/;function jw(e){var t={};return e.replace(Ow,(function(e,n,r){return"string"!==typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"===typeof r?r.length:0)),""})),t}function Mw(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function Lw(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!Pw.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function Fw(e){var t=Mw(e);return t||{}}function Uw(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n];switch(i.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=i.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=i.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=(0,K.__assign)((0,K.__assign)((0,K.__assign)({},t),{notation:"scientific"}),i.options.reduce((function(e,t){return(0,K.__assign)((0,K.__assign)({},e),Fw(t))}),{}));continue;case"engineering":t=(0,K.__assign)((0,K.__assign)((0,K.__assign)({},t),{notation:"engineering"}),i.options.reduce((function(e,t){return(0,K.__assign)((0,K.__assign)({},e),Fw(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(i.options[0]);continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(Dw,(function(e,n,r,i,o,a){if(n)t.minimumIntegerDigits=r.length;else{if(i&&o)throw new Error("We currently do not support maximum integer digits");if(a)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(Pw.test(i.stem))t.minimumIntegerDigits=i.stem.length;else if(Rw.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(Rw,(function(e,n,r,i,o,a){return"*"===r?t.minimumFractionDigits=n.length:i&&"#"===i[0]?t.maximumFractionDigits=i.length:o&&a?(t.minimumFractionDigits=o.length,t.maximumFractionDigits=o.length+a.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""})),i.options.length&&(t=(0,K.__assign)((0,K.__assign)({},t),jw(i.options[0])))}else if(Ow.test(i.stem))t=(0,K.__assign)((0,K.__assign)({},t),jw(i.stem));else{var o=Mw(i.stem);o&&(t=(0,K.__assign)((0,K.__assign)({},t),o));var a=Lw(i.stem);a&&(t=(0,K.__assign)((0,K.__assign)({},t),a))}}return t}var Bw=function(e){function t(n,r,i,o){var a=e.call(this)||this;return a.message=n,a.expected=r,a.found=i,a.location=o,a.name="SyntaxError","function"===typeof Error.captureStackTrace&&Error.captureStackTrace(a,t),a}return(0,K.__extends)(t,e),t.buildMessage=function(e,t){function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function r(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function o(e){switch(e.type){case"literal":return'"'+r(e.text)+'"';case"class":var t=e.parts.map((function(e){return Array.isArray(e)?i(e[0])+"-"+i(e[1]):i(e)}));return"["+(e.inverted?"^":"")+t+"]";case"any":return"any character";case"end":return"end of input";case"other":return e.description}}return"Expected "+function(e){var t,n,r=e.map(o);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+(((a=t)?'"'+r(a)+'"':"end of input")+" found.");var a},t}(Error);var Vw=function(e,t){t=void 0!==t?t:{};var n,r={},i={start:ze},o=ze,a="<",s=Me("<",!1),u=function(e){return e.join("")},c=Me("#",!1),l=Fe("tagElement"),h=Me("/>",!1),f=Me(">",!1),d=Me("</",!1),p=Fe("argumentElement"),m="{",g=Me("{",!1),v="}",y=Me("}",!1),b=Fe("numberSkeletonId"),_=/^['\/{}]/,w=Le(["'","/","{","}"],!1,!1),k={type:"any"},E=Fe("numberSkeletonTokenOption"),T=Me("/",!1),I=Fe("numberSkeletonToken"),S="::",N=Me("::",!1),C=function(e){return mt.pop(),e.replace(/\s*$/,"")},A=",",x=Me(",",!1),R="number",O=Me("number",!1),D=function(e,t,n){return(0,K.__assign)({type:"number"===t?mw.number:"date"===t?mw.date:mw.time,style:n&&n[2],value:e},vt())},P="'",j=Me("'",!1),M=/^[^']/,L=Le(["'"],!0,!1),F=/^[^a-zA-Z'{}]/,U=Le([["a","z"],["A","Z"],"'","{","}"],!0,!1),B=/^[a-zA-Z]/,V=Le([["a","z"],["A","Z"]],!1,!1),q="date",z=Me("date",!1),G="time",W=Me("time",!1),H="plural",Q=Me("plural",!1),Y="selectordinal",J=Me("selectordinal",!1),$="offset:",X=Me("offset:",!1),Z="select",ee=Me("select",!1),te=Me("=",!1),ne=Fe("whitespace"),re=/^[\t-\r \x85\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,ie=Le([["\t","\r"]," ","\x85","\xa0","\u1680",["\u2000","\u200a"],"\u2028","\u2029","\u202f","\u205f","\u3000"],!1,!1),oe=Fe("syntax pattern"),ae=/^[!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/,se=Le([["!","/"],[":","@"],["[","^"],"`",["{","~"],["\xa1","\xa7"],"\xa9","\xab","\xac","\xae","\xb0","\xb1","\xb6","\xbb","\xbf","\xd7","\xf7",["\u2010","\u2027"],["\u2030","\u203e"],["\u2041","\u2053"],["\u2055","\u205e"],["\u2190","\u245f"],["\u2500","\u2775"],["\u2794","\u2bff"],["\u2e00","\u2e7f"],["\u3001","\u3003"],["\u3008","\u3020"],"\u3030","\ufd3e","\ufd3f","\ufe45","\ufe46"],!1,!1),ue=Fe("optional whitespace"),ce=Fe("number"),le="-",he=Me("-",!1),fe=(Fe("apostrophe"),Fe("double apostrophes")),de="''",pe=Me("''",!1),me=function(e){return"<"!==e&&"{"!==e&&!(gt()&&"#"===e)&&!(mt.length>1&&"}"===e)},ge=Me("\n",!1),ve=Fe("argNameOrNumber"),ye=Fe("validTag"),be=Fe("argNumber"),_e=Me("0",!1),we=/^[1-9]/,ke=Le([["1","9"]],!1,!1),Ee=/^[0-9]/,Te=Le([["0","9"]],!1,!1),Ie=Fe("argName"),Se=Fe("tagName"),Ne=0,Ce=0,Ae=[{line:1,column:1}],xe=0,Re=[],Oe=0;if(void 0!==t.startRule){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');o=i[t.startRule]}function De(){return e.substring(Ce,Ne)}function Pe(){return Be(Ce,Ne)}function je(e,t){throw function(e,t){return new Bw(e,[],"",t)}(e,t=void 0!==t?t:Be(Ce,Ne))}function Me(e,t){return{type:"literal",text:e,ignoreCase:t}}function Le(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function Fe(e){return{type:"other",description:e}}function Ue(t){var n,r=Ae[t];if(r)return r;for(n=t-1;!Ae[n];)n--;for(r={line:(r=Ae[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return Ae[t]=r,r}function Be(e,t){var n=Ue(e),r=Ue(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function Ve(e){Ne<xe||(Ne>xe&&(xe=Ne,Re=[]),Re.push(e))}function qe(e,t,n){return new Bw(Bw.buildMessage(e,t),e,t,n)}function ze(){return Ge()}function Ge(){var e,t;for(e=[],t=Ke();t!==r;)e.push(t),t=Ke();return e}function Ke(){var t,n;return t=Ne,Ce=Ne,(!yt?void 0:r)!==r?(n=function(){var e,t,n,i;Oe++,(e=Qe())===r&&(e=Ne,(t=Ye())!==r&&(n=Ge())!==r&&(i=Je())!==r?(Ce=e,a=n,(o=t)!==(s=i)&&je('Mismatch tag "'+o+'" !== "'+s+'"',Pe()),e=t=(0,K.__assign)({type:mw.tag,value:o,children:a},vt())):(Ne=e,e=r));var o,a,s;Oe--,e===r&&(t=r,0===Oe&&Ve(l));return e}(),n!==r?(Ce=t,t=n):(Ne=t,t=r)):(Ne=t,t=r),t===r&&(t=function(){var e,t;e=Ne,(t=We())!==r&&(Ce=e,n=t,t=(0,K.__assign)({type:mw.literal,value:n},vt()));var n;return e=t}(),t===r&&(t=function(){var t,n,i,o;Oe++,t=Ne,123===e.charCodeAt(Ne)?(n=m,Ne++):(n=r,0===Oe&&Ve(g));n!==r&&at()!==r&&(i=ht())!==r&&at()!==r?(125===e.charCodeAt(Ne)?(o=v,Ne++):(o=r,0===Oe&&Ve(y)),o!==r?(Ce=t,a=i,t=n=(0,K.__assign)({type:mw.argument,value:a},vt())):(Ne=t,t=r)):(Ne=t,t=r);var a;Oe--,t===r&&(n=r,0===Oe&&Ve(p));return t}(),t===r&&(t=function(){var t;t=function(){var t,n,i,o,a,s,u,c,l;t=Ne,123===e.charCodeAt(Ne)?(n=m,Ne++):(n=r,0===Oe&&Ve(g));n!==r&&at()!==r&&(i=ht())!==r&&at()!==r?(44===e.charCodeAt(Ne)?(o=A,Ne++):(o=r,0===Oe&&Ve(x)),o!==r&&at()!==r?(e.substr(Ne,6)===R?(a=R,Ne+=6):(a=r,0===Oe&&Ve(O)),a!==r&&at()!==r?(s=Ne,44===e.charCodeAt(Ne)?(u=A,Ne++):(u=r,0===Oe&&Ve(x)),u!==r&&(c=at())!==r?(l=function(){var t,n,i;t=Ne,e.substr(Ne,2)===S?(n=S,Ne+=2):(n=r,0===Oe&&Ve(N));n!==r?(i=function(){var e,t,n;if(e=Ne,t=[],(n=Ze())!==r)for(;n!==r;)t.push(n),n=Ze();else t=r;t!==r&&(Ce=e,i=t,t=(0,K.__assign)({type:gw.number,tokens:i,parsedOptions:bt?Uw(i):{}},vt()));var i;return e=t}(),i!==r?(Ce=t,t=n=i):(Ne=t,t=r)):(Ne=t,t=r);t===r&&(t=Ne,Ce=Ne,mt.push("numberArgStyle"),(n=(n=!0)?void 0:r)!==r&&(i=We())!==r?(Ce=t,t=n=C(i)):(Ne=t,t=r));return t}(),l!==r?s=u=[u,c,l]:(Ne=s,s=r)):(Ne=s,s=r),s===r&&(s=null),s!==r&&(u=at())!==r?(125===e.charCodeAt(Ne)?(c=v,Ne++):(c=r,0===Oe&&Ve(y)),c!==r?(Ce=t,t=n=D(i,a,s)):(Ne=t,t=r)):(Ne=t,t=r)):(Ne=t,t=r)):(Ne=t,t=r)):(Ne=t,t=r);return t}(),t===r&&(t=function(){var t,n,i,o,a,s,u,c,l;t=Ne,123===e.charCodeAt(Ne)?(n=m,Ne++):(n=r,0===Oe&&Ve(g));n!==r&&at()!==r&&(i=ht())!==r&&at()!==r?(44===e.charCodeAt(Ne)?(o=A,Ne++):(o=r,0===Oe&&Ve(x)),o!==r&&at()!==r?(e.substr(Ne,4)===q?(a=q,Ne+=4):(a=r,0===Oe&&Ve(z)),a===r&&(e.substr(Ne,4)===G?(a=G,Ne+=4):(a=r,0===Oe&&Ve(W))),a!==r&&at()!==r?(s=Ne,44===e.charCodeAt(Ne)?(u=A,Ne++):(u=r,0===Oe&&Ve(x)),u!==r&&(c=at())!==r?(l=function(){var t,n,i;t=Ne,e.substr(Ne,2)===S?(n=S,Ne+=2):(n=r,0===Oe&&Ve(N));n!==r?(i=function(){var t,n,i,o;t=Ne,n=Ne,i=[],(o=et())===r&&(o=tt());if(o!==r)for(;o!==r;)i.push(o),(o=et())===r&&(o=tt());else i=r;n=i!==r?e.substring(n,Ne):i;n!==r&&(Ce=t,a=n,n=(0,K.__assign)({type:gw.dateTime,pattern:a,parsedOptions:bt?xw(a):{}},vt()));var a;return t=n}(),i!==r?(Ce=t,t=n=i):(Ne=t,t=r)):(Ne=t,t=r);t===r&&(t=Ne,Ce=Ne,mt.push("dateOrTimeArgStyle"),(n=(n=!0)?void 0:r)!==r&&(i=We())!==r?(Ce=t,t=n=C(i)):(Ne=t,t=r));return t}(),l!==r?s=u=[u,c,l]:(Ne=s,s=r)):(Ne=s,s=r),s===r&&(s=null),s!==r&&(u=at())!==r?(125===e.charCodeAt(Ne)?(c=v,Ne++):(c=r,0===Oe&&Ve(y)),c!==r?(Ce=t,t=n=D(i,a,s)):(Ne=t,t=r)):(Ne=t,t=r)):(Ne=t,t=r)):(Ne=t,t=r)):(Ne=t,t=r);return t}());return t}(),t===r&&(t=function(){var t,n,i,o,a,s,u,c,l,h,f;t=Ne,123===e.charCodeAt(Ne)?(n=m,Ne++):(n=r,0===Oe&&Ve(g));if(n!==r)if(at()!==r)if((i=ht())!==r)if(at()!==r)if(44===e.charCodeAt(Ne)?(o=A,Ne++):(o=r,0===Oe&&Ve(x)),o!==r)if(at()!==r)if(e.substr(Ne,6)===H?(a=H,Ne+=6):(a=r,0===Oe&&Ve(Q)),a===r&&(e.substr(Ne,13)===Y?(a=Y,Ne+=13):(a=r,0===Oe&&Ve(J))),a!==r)if(at()!==r)if(44===e.charCodeAt(Ne)?(s=A,Ne++):(s=r,0===Oe&&Ve(x)),s!==r)if(at()!==r)if(u=Ne,e.substr(Ne,7)===$?(c=$,Ne+=7):(c=r,0===Oe&&Ve(X)),c!==r&&(l=at())!==r&&(h=st())!==r?u=c=[c,l,h]:(Ne=u,u=r),u===r&&(u=null),u!==r)if((c=at())!==r){if(l=[],(h=rt())!==r)for(;h!==r;)l.push(h),h=rt();else l=r;l!==r&&(h=at())!==r?(125===e.charCodeAt(Ne)?(f=v,Ne++):(f=r,0===Oe&&Ve(y)),f!==r?(Ce=t,n=function(e,t,n,r){return(0,K.__assign)({type:mw.plural,pluralType:"plural"===t?"cardinal":"ordinal",value:e,offset:n?n[2]:0,options:r.reduce((function(e,t){var n=t.id,r=t.value,i=t.location;return n in e&&je('Duplicate option "'+n+'" in plural element: "'+De()+'"',Pe()),e[n]={value:r,location:i},e}),{})},vt())}(i,a,u,l),t=n):(Ne=t,t=r)):(Ne=t,t=r)}else Ne=t,t=r;else Ne=t,t=r;else Ne=t,t=r;else Ne=t,t=r;else Ne=t,t=r;else Ne=t,t=r;else Ne=t,t=r;else Ne=t,t=r;else Ne=t,t=r;else Ne=t,t=r;else Ne=t,t=r;else Ne=t,t=r;return t}(),t===r&&(t=function(){var t,n,i,o,a,s,u,c,l;t=Ne,123===e.charCodeAt(Ne)?(n=m,Ne++):(n=r,0===Oe&&Ve(g));if(n!==r)if(at()!==r)if((i=ht())!==r)if(at()!==r)if(44===e.charCodeAt(Ne)?(o=A,Ne++):(o=r,0===Oe&&Ve(x)),o!==r)if(at()!==r)if(e.substr(Ne,6)===Z?(a=Z,Ne+=6):(a=r,0===Oe&&Ve(ee)),a!==r)if(at()!==r)if(44===e.charCodeAt(Ne)?(s=A,Ne++):(s=r,0===Oe&&Ve(x)),s!==r)if(at()!==r){if(u=[],(c=nt())!==r)for(;c!==r;)u.push(c),c=nt();else u=r;u!==r&&(c=at())!==r?(125===e.charCodeAt(Ne)?(l=v,Ne++):(l=r,0===Oe&&Ve(y)),l!==r?(Ce=t,n=function(e,t){return(0,K.__assign)({type:mw.select,value:e,options:t.reduce((function(e,t){var n=t.id,r=t.value,i=t.location;return n in e&&je('Duplicate option "'+n+'" in select element: "'+De()+'"',Pe()),e[n]={value:r,location:i},e}),{})},vt())}(i,u),t=n):(Ne=t,t=r)):(Ne=t,t=r)}else Ne=t,t=r;else Ne=t,t=r;else Ne=t,t=r;else Ne=t,t=r;else Ne=t,t=r;else Ne=t,t=r;else Ne=t,t=r;else Ne=t,t=r;else Ne=t,t=r;else Ne=t,t=r;return t}(),t===r&&(t=function(){var t,n;t=Ne,35===e.charCodeAt(Ne)?(n="#",Ne++):(n=r,0===Oe&&Ve(c));n!==r&&(Ce=t,n=(0,K.__assign)({type:mw.pound},vt()));return t=n}())))))),t}function We(){var t,n,i,o;if(t=Ne,Ce=Ne,(n=(n=yt)?void 0:r)!==r){if(i=[],(o=ut())===r&&(o=ct())===r&&(o=lt())===r&&(60===e.charCodeAt(Ne)?(o=a,Ne++):(o=r,0===Oe&&Ve(s))),o!==r)for(;o!==r;)i.push(o),(o=ut())===r&&(o=ct())===r&&(o=lt())===r&&(60===e.charCodeAt(Ne)?(o=a,Ne++):(o=r,0===Oe&&Ve(s)));else i=r;i!==r?(Ce=t,t=n=u(i)):(Ne=t,t=r)}else Ne=t,t=r;if(t===r){if(t=Ne,n=[],(i=ut())===r&&(i=ct())===r&&(i=lt())===r&&(i=He()),i!==r)for(;i!==r;)n.push(i),(i=ut())===r&&(i=ct())===r&&(i=lt())===r&&(i=He());else n=r;n!==r&&(Ce=t,n=u(n)),t=n}return t}function He(){var t,n,i;return t=Ne,n=Ne,Oe++,(i=Ye())===r&&(i=Je())===r&&(i=Qe()),Oe--,i===r?n=void 0:(Ne=n,n=r),n!==r?(60===e.charCodeAt(Ne)?(i=a,Ne++):(i=r,0===Oe&&Ve(s)),i!==r?(Ce=t,t=n="<"):(Ne=t,t=r)):(Ne=t,t=r),t}function Qe(){var t,n,i,o,u,c,l;return t=Ne,n=Ne,60===e.charCodeAt(Ne)?(i=a,Ne++):(i=r,0===Oe&&Ve(s)),i!==r&&(o=ft())!==r&&(u=at())!==r?("/>"===e.substr(Ne,2)?(c="/>",Ne+=2):(c=r,0===Oe&&Ve(h)),c!==r?n=i=[i,o,u,c]:(Ne=n,n=r)):(Ne=n,n=r),n!==r&&(Ce=t,l=n,n=(0,K.__assign)({type:mw.literal,value:l.join("")},vt())),t=n}function Ye(){var t,n,i,o;return t=Ne,60===e.charCodeAt(Ne)?(n=a,Ne++):(n=r,0===Oe&&Ve(s)),n!==r&&(i=ft())!==r?(62===e.charCodeAt(Ne)?(o=">",Ne++):(o=r,0===Oe&&Ve(f)),o!==r?(Ce=t,t=n=i):(Ne=t,t=r)):(Ne=t,t=r),t}function Je(){var t,n,i,o;return t=Ne,"</"===e.substr(Ne,2)?(n="</",Ne+=2):(n=r,0===Oe&&Ve(d)),n!==r&&(i=ft())!==r?(62===e.charCodeAt(Ne)?(o=">",Ne++):(o=r,0===Oe&&Ve(f)),o!==r?(Ce=t,t=n=i):(Ne=t,t=r)):(Ne=t,t=r),t}function $e(){var t,n,i,o,a;if(Oe++,t=Ne,n=[],i=Ne,o=Ne,Oe++,(a=it())===r&&(_.test(e.charAt(Ne))?(a=e.charAt(Ne),Ne++):(a=r,0===Oe&&Ve(w))),Oe--,a===r?o=void 0:(Ne=o,o=r),o!==r?(e.length>Ne?(a=e.charAt(Ne),Ne++):(a=r,0===Oe&&Ve(k)),a!==r?i=o=[o,a]:(Ne=i,i=r)):(Ne=i,i=r),i!==r)for(;i!==r;)n.push(i),i=Ne,o=Ne,Oe++,(a=it())===r&&(_.test(e.charAt(Ne))?(a=e.charAt(Ne),Ne++):(a=r,0===Oe&&Ve(w))),Oe--,a===r?o=void 0:(Ne=o,o=r),o!==r?(e.length>Ne?(a=e.charAt(Ne),Ne++):(a=r,0===Oe&&Ve(k)),a!==r?i=o=[o,a]:(Ne=i,i=r)):(Ne=i,i=r);else n=r;return t=n!==r?e.substring(t,Ne):n,Oe--,t===r&&(n=r,0===Oe&&Ve(b)),t}function Xe(){var t,n,i;return Oe++,t=Ne,47===e.charCodeAt(Ne)?(n="/",Ne++):(n=r,0===Oe&&Ve(T)),n!==r&&(i=$e())!==r?(Ce=t,t=n=i):(Ne=t,t=r),Oe--,t===r&&(n=r,0===Oe&&Ve(E)),t}function Ze(){var e,t,n,i,o;if(Oe++,e=Ne,(t=at())!==r)if((n=$e())!==r){for(i=[],o=Xe();o!==r;)i.push(o),o=Xe();i!==r?(Ce=e,t=function(e,t){return{stem:e,options:t}}(n,i),e=t):(Ne=e,e=r)}else Ne=e,e=r;else Ne=e,e=r;return Oe--,e===r&&(t=r,0===Oe&&Ve(I)),e}function et(){var t,n,i,o;if(t=Ne,39===e.charCodeAt(Ne)?(n=P,Ne++):(n=r,0===Oe&&Ve(j)),n!==r){if(i=[],(o=ut())===r&&(M.test(e.charAt(Ne))?(o=e.charAt(Ne),Ne++):(o=r,0===Oe&&Ve(L))),o!==r)for(;o!==r;)i.push(o),(o=ut())===r&&(M.test(e.charAt(Ne))?(o=e.charAt(Ne),Ne++):(o=r,0===Oe&&Ve(L)));else i=r;i!==r?(39===e.charCodeAt(Ne)?(o=P,Ne++):(o=r,0===Oe&&Ve(j)),o!==r?t=n=[n,i,o]:(Ne=t,t=r)):(Ne=t,t=r)}else Ne=t,t=r;if(t===r)if(t=[],(n=ut())===r&&(F.test(e.charAt(Ne))?(n=e.charAt(Ne),Ne++):(n=r,0===Oe&&Ve(U))),n!==r)for(;n!==r;)t.push(n),(n=ut())===r&&(F.test(e.charAt(Ne))?(n=e.charAt(Ne),Ne++):(n=r,0===Oe&&Ve(U)));else t=r;return t}function tt(){var t,n;if(t=[],B.test(e.charAt(Ne))?(n=e.charAt(Ne),Ne++):(n=r,0===Oe&&Ve(V)),n!==r)for(;n!==r;)t.push(n),B.test(e.charAt(Ne))?(n=e.charAt(Ne),Ne++):(n=r,0===Oe&&Ve(V));else t=r;return t}function nt(){var t,n,i,o,a,s;return t=Ne,(n=at())!==r&&(i=pt())!==r&&at()!==r?(123===e.charCodeAt(Ne)?(o=m,Ne++):(o=r,0===Oe&&Ve(g)),o!==r?(Ce=Ne,mt.push("select"),(!0?void 0:r)!==r&&(a=Ge())!==r?(125===e.charCodeAt(Ne)?(s=v,Ne++):(s=r,0===Oe&&Ve(y)),s!==r?(Ce=t,n=function(e,t){return mt.pop(),(0,K.__assign)({id:e,value:t},vt())}(i,a),t=n):(Ne=t,t=r)):(Ne=t,t=r)):(Ne=t,t=r)):(Ne=t,t=r),t}function rt(){var t,n,i,o,a,s;return t=Ne,(n=at())!==r?(i=function(){var t,n,i,o;return t=Ne,n=Ne,61===e.charCodeAt(Ne)?(i="=",Ne++):(i=r,0===Oe&&Ve(te)),i!==r&&(o=st())!==r?n=i=[i,o]:(Ne=n,n=r),(t=n!==r?e.substring(t,Ne):n)===r&&(t=pt()),t}(),i!==r&&at()!==r?(123===e.charCodeAt(Ne)?(o=m,Ne++):(o=r,0===Oe&&Ve(g)),o!==r?(Ce=Ne,mt.push("plural"),(!0?void 0:r)!==r&&(a=Ge())!==r?(125===e.charCodeAt(Ne)?(s=v,Ne++):(s=r,0===Oe&&Ve(y)),s!==r?(Ce=t,n=function(e,t){return mt.pop(),(0,K.__assign)({id:e,value:t},vt())}(i,a),t=n):(Ne=t,t=r)):(Ne=t,t=r)):(Ne=t,t=r)):(Ne=t,t=r)):(Ne=t,t=r),t}function it(){var t;return Oe++,re.test(e.charAt(Ne))?(t=e.charAt(Ne),Ne++):(t=r,0===Oe&&Ve(ie)),Oe--,t===r&&(r,0===Oe&&Ve(ne)),t}function ot(){var t;return Oe++,ae.test(e.charAt(Ne))?(t=e.charAt(Ne),Ne++):(t=r,0===Oe&&Ve(se)),Oe--,t===r&&(r,0===Oe&&Ve(oe)),t}function at(){var t,n,i;for(Oe++,t=Ne,n=[],i=it();i!==r;)n.push(i),i=it();return t=n!==r?e.substring(t,Ne):n,Oe--,t===r&&(n=r,0===Oe&&Ve(ue)),t}function st(){var t,n,i,o,a;return Oe++,t=Ne,45===e.charCodeAt(Ne)?(n="-",Ne++):(n=r,0===Oe&&Ve(he)),n===r&&(n=null),n!==r&&(i=dt())!==r?(Ce=t,o=n,t=n=(a=i)?o?-a:a:0):(Ne=t,t=r),Oe--,t===r&&(n=r,0===Oe&&Ve(ce)),t}function ut(){var t,n;return Oe++,t=Ne,e.substr(Ne,2)===de?(n=de,Ne+=2):(n=r,0===Oe&&Ve(pe)),n!==r&&(Ce=t,n="'"),Oe--,(t=n)===r&&(n=r,0===Oe&&Ve(fe)),t}function ct(){var t,n,i,o,a,s;if(t=Ne,39===e.charCodeAt(Ne)?(n=P,Ne++):(n=r,0===Oe&&Ve(j)),n!==r)if(i=function(){var t,n,i,o;t=Ne,n=Ne,e.length>Ne?(i=e.charAt(Ne),Ne++):(i=r,0===Oe&&Ve(k));i!==r?(Ce=Ne,o=function(e){return"<"===e||">"===e||"{"===e||"}"===e||gt()&&"#"===e}(i),(o=o?void 0:r)!==r?n=i=[i,o]:(Ne=n,n=r)):(Ne=n,n=r);t=n!==r?e.substring(t,Ne):n;return t}(),i!==r){for(o=Ne,a=[],e.substr(Ne,2)===de?(s=de,Ne+=2):(s=r,0===Oe&&Ve(pe)),s===r&&(M.test(e.charAt(Ne))?(s=e.charAt(Ne),Ne++):(s=r,0===Oe&&Ve(L)));s!==r;)a.push(s),e.substr(Ne,2)===de?(s=de,Ne+=2):(s=r,0===Oe&&Ve(pe)),s===r&&(M.test(e.charAt(Ne))?(s=e.charAt(Ne),Ne++):(s=r,0===Oe&&Ve(L)));(o=a!==r?e.substring(o,Ne):a)!==r?(39===e.charCodeAt(Ne)?(a=P,Ne++):(a=r,0===Oe&&Ve(j)),a===r&&(a=null),a!==r?(Ce=t,t=n=i+o.replace("''","'")):(Ne=t,t=r)):(Ne=t,t=r)}else Ne=t,t=r;else Ne=t,t=r;return t}function lt(){var t,n,i,o;return t=Ne,n=Ne,e.length>Ne?(i=e.charAt(Ne),Ne++):(i=r,0===Oe&&Ve(k)),i!==r?(Ce=Ne,(o=(o=me(i))?void 0:r)!==r?n=i=[i,o]:(Ne=n,n=r)):(Ne=n,n=r),n===r&&(10===e.charCodeAt(Ne)?(n="\n",Ne++):(n=r,0===Oe&&Ve(ge))),t=n!==r?e.substring(t,Ne):n}function ht(){var t,n;return Oe++,t=Ne,(n=dt())===r&&(n=pt()),t=n!==r?e.substring(t,Ne):n,Oe--,t===r&&(n=r,0===Oe&&Ve(ve)),t}function ft(){var t,n;return Oe++,t=Ne,(n=dt())===r&&(n=function(){var t,n,i,o,a;Oe++,t=Ne,n=[],45===e.charCodeAt(Ne)?(i=le,Ne++):(i=r,0===Oe&&Ve(he));i===r&&(i=Ne,o=Ne,Oe++,(a=it())===r&&(a=ot()),Oe--,a===r?o=void 0:(Ne=o,o=r),o!==r?(e.length>Ne?(a=e.charAt(Ne),Ne++):(a=r,0===Oe&&Ve(k)),a!==r?i=o=[o,a]:(Ne=i,i=r)):(Ne=i,i=r));if(i!==r)for(;i!==r;)n.push(i),45===e.charCodeAt(Ne)?(i=le,Ne++):(i=r,0===Oe&&Ve(he)),i===r&&(i=Ne,o=Ne,Oe++,(a=it())===r&&(a=ot()),Oe--,a===r?o=void 0:(Ne=o,o=r),o!==r?(e.length>Ne?(a=e.charAt(Ne),Ne++):(a=r,0===Oe&&Ve(k)),a!==r?i=o=[o,a]:(Ne=i,i=r)):(Ne=i,i=r));else n=r;t=n!==r?e.substring(t,Ne):n;Oe--,t===r&&(n=r,0===Oe&&Ve(Se));return t}()),t=n!==r?e.substring(t,Ne):n,Oe--,t===r&&(n=r,0===Oe&&Ve(ye)),t}function dt(){var t,n,i,o,a;if(Oe++,t=Ne,48===e.charCodeAt(Ne)?(n="0",Ne++):(n=r,0===Oe&&Ve(_e)),n!==r&&(Ce=t,n=0),(t=n)===r){if(t=Ne,n=Ne,we.test(e.charAt(Ne))?(i=e.charAt(Ne),Ne++):(i=r,0===Oe&&Ve(ke)),i!==r){for(o=[],Ee.test(e.charAt(Ne))?(a=e.charAt(Ne),Ne++):(a=r,0===Oe&&Ve(Te));a!==r;)o.push(a),Ee.test(e.charAt(Ne))?(a=e.charAt(Ne),Ne++):(a=r,0===Oe&&Ve(Te));o!==r?n=i=[i,o]:(Ne=n,n=r)}else Ne=n,n=r;n!==r&&(Ce=t,n=parseInt(n.join(""),10)),t=n}return Oe--,t===r&&(n=r,0===Oe&&Ve(be)),t}function pt(){var t,n,i,o,a;if(Oe++,t=Ne,n=[],i=Ne,o=Ne,Oe++,(a=it())===r&&(a=ot()),Oe--,a===r?o=void 0:(Ne=o,o=r),o!==r?(e.length>Ne?(a=e.charAt(Ne),Ne++):(a=r,0===Oe&&Ve(k)),a!==r?i=o=[o,a]:(Ne=i,i=r)):(Ne=i,i=r),i!==r)for(;i!==r;)n.push(i),i=Ne,o=Ne,Oe++,(a=it())===r&&(a=ot()),Oe--,a===r?o=void 0:(Ne=o,o=r),o!==r?(e.length>Ne?(a=e.charAt(Ne),Ne++):(a=r,0===Oe&&Ve(k)),a!==r?i=o=[o,a]:(Ne=i,i=r)):(Ne=i,i=r);else n=r;return t=n!==r?e.substring(t,Ne):n,Oe--,t===r&&(n=r,0===Oe&&Ve(Ie)),t}var mt=["root"];function gt(){return"plural"===mt[mt.length-1]}function vt(){return t&&t.captureLocation?{location:Pe()}:{}}var yt=t&&t.ignoreTag,bt=t&&t.shouldParseSkeleton;if((n=o())!==r&&Ne===e.length)return n;throw n!==r&&Ne<e.length&&Ve({type:"end"}),qe(Re,xe<e.length?e.charAt(xe):null,xe<e.length?Be(xe,xe+1):Be(xe,xe))},qw=/(^|[^\\])#/g;function zw(e){e.forEach((function(e){(Tw(e)||Ew(e))&&Object.keys(e.options).forEach((function(t){for(var n,r=e.options[t],i=-1,o=void 0,a=0;a<r.value.length;a++){var s=r.value[a];if(yw(s)&&qw.test(s.value)){i=a,o=s;break}}if(o){var u=o.value.replace(qw,"$1{"+e.value+", number}"),c=Vw(u);(n=r.value).splice.apply(n,(0,K.__spreadArray)([i,1],c))}zw(r.value)}))}))}function Gw(e,t){t=(0,K.__assign)({normalizeHashtagInPlural:!0,shouldParseSkeleton:!0},t||{});var n=Vw(e,t);return t.normalizeHashtagInPlural&&zw(n),n}var Kw,Ww=n(959),Hw=n.n(Ww);!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(Kw||(Kw={}));var Qw,Yw=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.code=n,i.originalMessage=r,i}return(0,K.__extends)(t,e),t.prototype.toString=function(){return"[formatjs Error: "+this.code+"] "+this.message},t}(Error),Jw=function(e){function t(t,n,r,i){return e.call(this,'Invalid values for "'+t+'": "'+n+'". Options are "'+Object.keys(r).join('", "')+'"',Kw.INVALID_VALUE,i)||this}return(0,K.__extends)(t,e),t}(Yw),$w=function(e){function t(t,n,r){return e.call(this,'Value for "'+t+'" must be of type '+n,Kw.INVALID_VALUE,r)||this}return(0,K.__extends)(t,e),t}(Yw),Xw=function(e){function t(t,n){return e.call(this,'The intl string context variable "'+t+'" was not provided to the string "'+n+'"',Kw.MISSING_VALUE,n)||this}return(0,K.__extends)(t,e),t}(Yw);function Zw(e){return"function"===typeof e}function ek(e,t,n,r,i,o,a){if(1===e.length&&yw(e[0]))return[{type:Qw.literal,value:e[0].value}];for(var s=[],u=0,c=e;u<c.length;u++){var l=c[u];if(yw(l))s.push({type:Qw.literal,value:l.value});else if(Iw(l))"number"===typeof o&&s.push({type:Qw.literal,value:n.getNumberFormat(t).format(o)});else{var h=l.value;if(!i||!(h in i))throw new Xw(h,a);var f=i[h];if(bw(l))f&&"string"!==typeof f&&"number"!==typeof f||(f="string"===typeof f||"number"===typeof f?String(f):""),s.push({type:"string"===typeof f?Qw.literal:Qw.object,value:f});else if(ww(l)){var d="string"===typeof l.style?r.date[l.style]:Cw(l.style)?l.style.parsedOptions:void 0;s.push({type:Qw.literal,value:n.getDateTimeFormat(t,d).format(f)})}else if(kw(l)){d="string"===typeof l.style?r.time[l.style]:Cw(l.style)?l.style.parsedOptions:void 0;s.push({type:Qw.literal,value:n.getDateTimeFormat(t,d).format(f)})}else if(_w(l)){(d="string"===typeof l.style?r.number[l.style]:Nw(l.style)?l.style.parsedOptions:void 0)&&d.scale&&(f*=d.scale||1),s.push({type:Qw.literal,value:n.getNumberFormat(t,d).format(f)})}else{if(Sw(l)){var p=l.children,m=l.value,g=i[m];if(!Zw(g))throw new $w(m,"function",a);var v=g(ek(p,t,n,r,i,o).map((function(e){return e.value})));Array.isArray(v)||(v=[v]),s.push.apply(s,v.map((function(e){return{type:"string"===typeof e?Qw.literal:Qw.object,value:e}})))}if(Ew(l)){if(!(y=l.options[f]||l.options.other))throw new Jw(l.value,f,Object.keys(l.options),a);s.push.apply(s,ek(y.value,t,n,r,i))}else if(Tw(l)){var y;if(!(y=l.options["="+f])){if(!Intl.PluralRules)throw new Yw('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',Kw.MISSING_INTL_API,a);var b=n.getPluralRules(t,{type:l.pluralType}).select(f-(l.offset||0));y=l.options[b]||l.options.other}if(!y)throw new Jw(l.value,f,Object.keys(l.options),a);s.push.apply(s,ek(y.value,t,n,r,i,f-(l.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===Qw.literal&&t.type===Qw.literal?n.value+=t.value:e.push(t),e}),[])}(s)}function tk(e,t){return t?Object.keys(e).reduce((function(n,r){var i,o;return n[r]=(i=e[r],(o=t[r])?(0,K.__assign)((0,K.__assign)((0,K.__assign)({},i||{}),o||{}),Object.keys(i).reduce((function(e,t){return e[t]=(0,K.__assign)((0,K.__assign)({},i[t]),o[t]||{}),e}),{})):i),n}),(0,K.__assign)({},e)):e}function nk(e){return{create:function(){return{has:function(t){return t in e},get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(Qw||(Qw={}));var rk=Hw()||Ww;var ik,ok=function(){function e(t,n,r,i){var o=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=o.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===Qw.literal&&"string"===typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return ek(o.ast,o.locales,o.formatters,o.formats,e,void 0,o.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(o.locales)[0]}},this.getAst=function(){return o.ast},"string"===typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{normalizeHashtagInPlural:!1,ignoreTag:null===i||void 0===i?void 0:i.ignoreTag})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=tk(e.formats,r),this.locales=n,this.formatters=i&&i.formatters||function(e){return void 0===e&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:rk((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,(0,K.__spreadArray)([void 0],t)))}),{cache:nk(e.number),strategy:rk.strategies.variadic}),getDateTimeFormat:rk((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,(0,K.__spreadArray)([void 0],t)))}),{cache:nk(e.dateTime),strategy:rk.strategies.variadic}),getPluralRules:rk((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,(0,K.__spreadArray)([void 0],t)))}),{cache:nk(e.pluralRules),strategy:rk.strategies.variadic})}}(this.formatterCache)}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.__parse=Gw,e.formats={number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();!function(e){e.FORMAT_ERROR="FORMAT_ERROR",e.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",e.INVALID_CONFIG="INVALID_CONFIG",e.MISSING_DATA="MISSING_DATA",e.MISSING_TRANSLATION="MISSING_TRANSLATION"}(ik||(ik={}));var ak=function(e){function t(n,r,i){var o=e.call(this,"[@formatjs/intl Error "+n+"] "+r+" \n"+(i?"\n"+i.message+"\n"+i.stack:""))||this;return o.code=n,"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(o,t),o}return(0,K.__extends)(t,e),t}(Error),sk=function(e){function t(t,n){return e.call(this,ik.UNSUPPORTED_FORMATTER,t,n)||this}return(0,K.__extends)(t,e),t}(ak),uk=function(e){function t(t,n){return e.call(this,ik.INVALID_CONFIG,t,n)||this}return(0,K.__extends)(t,e),t}(ak),ck=function(e){function t(t,n){return e.call(this,ik.MISSING_DATA,t,n)||this}return(0,K.__extends)(t,e),t}(ak),lk=function(e){function t(t,n,r,i){var o=e.call(this,ik.FORMAT_ERROR,t+" \nLocale: "+n+"\nMessageID: "+(null===r||void 0===r?void 0:r.id)+"\nDefault Message: "+(null===r||void 0===r?void 0:r.defaultMessage)+"\nDescription: "+(null===r||void 0===r?void 0:r.description)+" \n",i)||this;return o.descriptor=r,o}return(0,K.__extends)(t,e),t}(ak),hk=function(e){function t(t,n){var r=e.call(this,ik.MISSING_TRANSLATION,'Missing message: "'+t.id+'" for locale "'+n+'", using '+(t.defaultMessage?"default message":"id")+" as fallback.")||this;return r.descriptor=t,r}return(0,K.__extends)(t,e),t}(ak);function fk(e,t,n){return void 0===n&&(n={}),t.reduce((function(t,r){return r in e?t[r]=e[r]:r in n&&(t[r]=n[r]),t}),{})}var dk={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},onError:function(e){0}};function pk(e){return{create:function(){return{has:function(t){return t in e},get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}var mk=Hw()||Ww;function gk(e,t,n,r){var i,o=e&&e[t];if(o&&(i=o[n]),i)return i;r(new sk("No "+t+" format named: "+n))}function vk(e){vw(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var yk=(0,K.__assign)((0,K.__assign)({},dk),{textComponent:t.Fragment});function bk(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(var o=0;o<i;o++){var a=n[o];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}function _k(e,t){return Object.keys(e).reduce((function(n,r){return n[r]=(0,K.__assign)({timeZone:t},e[r]),n}),{})}function wk(e,t){return Object.keys((0,K.__assign)((0,K.__assign)({},e),t)).reduce((function(n,r){return n[r]=(0,K.__assign)((0,K.__assign)({},e[r]||{}),t[r]||{}),n}),{})}function kk(e,t){if(!t)return e;var n=ok.formats;return(0,K.__assign)((0,K.__assign)((0,K.__assign)({},n),e),{date:wk(_k(n.date,t),_k(e.date||{},t)),time:wk(_k(n.time,t),_k(e.time||{},t))})}function Ek(e,t,n,r,i){var o=e.locale,a=e.formats,s=e.messages,u=e.defaultLocale,c=e.defaultFormats,l=e.onError,h=e.timeZone,f=e.defaultRichTextElements;void 0===n&&(n={id:""});var d=n.id,p=n.defaultMessage;vw(!!d,"[@formatjs/intl] An `id` must be provided to format a message.");var m=String(d),g=s&&Object.prototype.hasOwnProperty.call(s,m)&&s[m];if(Array.isArray(g)&&1===g.length&&g[0].type===mw.literal)return g[0].value;if(!r&&g&&"string"===typeof g&&!f)return g.replace(/'\{(.*?)\}'/gi,"{$1}");if(r=(0,K.__assign)((0,K.__assign)({},f),r||{}),a=kk(a,h),c=kk(c,h),!g){if((!p||o&&o.toLowerCase()!==u.toLowerCase())&&l(new hk(n,o)),p)try{return t.getMessageFormat(p,u,c,i).format(r)}catch(Cp){return l(new lk('Error formatting default message for: "'+m+'", rendering default message verbatim',o,n,Cp)),"string"===typeof p?p:m}return m}try{return t.getMessageFormat(g,o,a,(0,K.__assign)({formatters:t},i||{})).format(r)}catch(Cp){l(new lk('Error formatting message: "'+m+'", using '+(p?"default message":"id")+" as fallback.",o,n,Cp))}if(p)try{return t.getMessageFormat(p,u,c,i).format(r)}catch(Cp){l(new lk('Error formatting the default message for: "'+m+'", rendering message verbatim',o,n,Cp))}return"string"===typeof g?g:"string"===typeof p?p:m}var Tk=["localeMatcher","style","currency","currencyDisplay","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay"];function Ik(e,t,n){var r=e.locale,i=e.formats,o=e.onError;void 0===n&&(n={});var a=n.format,s=a&&gk(i,"number",a,o)||{};return t(r,fk(n,Tk,s))}function Sk(e,t,n,r){void 0===r&&(r={});try{return Ik(e,t,r).format(n)}catch(Cp){e.onError(new ak(ik.FORMAT_ERROR,"Error formatting number.",Cp))}return String(n)}function Nk(e,t,n,r){void 0===r&&(r={});try{return Ik(e,t,r).formatToParts(n)}catch(Cp){e.onError(new ak(ik.FORMAT_ERROR,"Error formatting number.",Cp))}return[]}var Ck=["numeric","style"];function Ak(e,t,n,r,i){void 0===i&&(i={}),r||(r="second"),Intl.RelativeTimeFormat||e.onError(new Yw('Intl.RelativeTimeFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-relativetimeformat"\n',Kw.MISSING_INTL_API));try{return function(e,t,n){var r=e.locale,i=e.formats,o=e.onError;void 0===n&&(n={});var a=n.format,s=!!a&&gk(i,"relative",a,o)||{};return t(r,fk(n,Ck,s))}(e,t,i).format(n,r)}catch(Cp){e.onError(new lk("Error formatting relative time.",Cp))}return String(n)}var xk=["localeMatcher","formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem"];function Rk(e,t,n,r){var i=e.locale,o=e.formats,a=e.onError,s=e.timeZone;void 0===r&&(r={});var u=r.format,c=(0,K.__assign)((0,K.__assign)({},s&&{timeZone:s}),u&&gk(o,t,u,a)),l=fk(r,xk,c);return"time"!==t||l.hour||l.minute||l.second||l.timeStyle||l.dateStyle||(l=(0,K.__assign)((0,K.__assign)({},l),{hour:"numeric",minute:"numeric"})),n(i,l)}function Ok(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],a=void 0===o?{}:o,s="string"===typeof i?new Date(i||0):i;try{return Rk(e,"date",t,a).format(s)}catch(Cp){e.onError(new ak(ik.FORMAT_ERROR,"Error formatting date.",Cp))}return String(s)}function Dk(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],a=void 0===o?{}:o,s="string"===typeof i?new Date(i||0):i;try{return Rk(e,"time",t,a).format(s)}catch(Cp){e.onError(new ak(ik.FORMAT_ERROR,"Error formatting time.",Cp))}return String(s)}function Pk(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],a=n[2],s=void 0===a?{}:a,u=e.timeZone,c=e.locale,l=e.onError,h=fk(s,xk,u?{timeZone:u}:{});try{return t(c,h).formatRange(i,o)}catch(Cp){l(new ak(ik.FORMAT_ERROR,"Error formatting date time range.",Cp))}return String(i)}function jk(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],a=void 0===o?{}:o,s="string"===typeof i?new Date(i||0):i;try{return Rk(e,"date",t,a).formatToParts(s)}catch(Cp){e.onError(new ak(ik.FORMAT_ERROR,"Error formatting date.",Cp))}return[]}function Mk(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],a=void 0===o?{}:o,s="string"===typeof i?new Date(i||0):i;try{return Rk(e,"time",t,a).formatToParts(s)}catch(Cp){e.onError(new ak(ik.FORMAT_ERROR,"Error formatting time.",Cp))}return[]}var Lk=["localeMatcher","type"];function Fk(e,t,n,r){var i=e.locale,o=e.onError;void 0===r&&(r={}),Intl.PluralRules||o(new Yw('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',Kw.MISSING_INTL_API));var a=fk(r,Lk);try{return t(i,a).select(n)}catch(Cp){o(new lk("Error formatting plural.",Cp))}return"other"}var Uk=["localeMatcher","type","style"],Bk=Date.now();function Vk(e,t,n,r){var i=e.locale,o=e.onError;void 0===r&&(r={}),Intl.ListFormat||o(new Yw('Intl.ListFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-listformat"\n',Kw.MISSING_INTL_API));var a=fk(r,Uk);try{var s={},u=n.map((function(e,t){if("object"===typeof e){var n=function(e){return Bk+"_"+e+"_"+Bk}(t);return s[n]=e,n}return String(e)}));return Object.keys(s).length?t(i,a).formatToParts(u).reduce((function(e,t){var n=t.value;return s[n]?e.push(s[n]):"string"===typeof e[e.length-1]?e[e.length-1]+=n:e.push(n),e}),[]):t(i,a).format(u)}catch(Cp){o(new ak(ik.FORMAT_ERROR,"Error formatting list.",Cp))}return n}var qk=["localeMatcher","style","type","fallback"];function zk(e,t,n,r){var i=e.locale,o=e.onError;Intl.DisplayNames||o(new Yw('Intl.DisplayNames is not available in this environment.\nTry polyfilling it using "@formatjs/intl-displaynames"\n',Kw.MISSING_INTL_API));var a=fk(r,qk);try{return t(i,a).of(n)}catch(Cp){o(new ak(ik.FORMAT_ERROR,"Error formatting display name.",Cp))}}function Gk(e){var t;e.defaultRichTextElements&&"string"===typeof((t=e.messages||{})?t[Object.keys(t)[0]]:void 0)&&console.warn('[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. \nPlease consider using "@formatjs/cli" to pre-compile your messages for performance.\nFor more details see https://formatjs.io/docs/getting-started/message-distribution')}function Kk(e,t){var n=function(e){void 0===e&&(e={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}});var t=Intl.RelativeTimeFormat,n=Intl.ListFormat,r=Intl.DisplayNames,i=mk((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,(0,K.__spreadArray)([void 0],t)))}),{cache:pk(e.dateTime),strategy:mk.strategies.variadic}),o=mk((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,(0,K.__spreadArray)([void 0],t)))}),{cache:pk(e.number),strategy:mk.strategies.variadic}),a=mk((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,(0,K.__spreadArray)([void 0],t)))}),{cache:pk(e.pluralRules),strategy:mk.strategies.variadic});return{getDateTimeFormat:i,getNumberFormat:o,getMessageFormat:mk((function(e,t,n,r){return new ok(e,t,n,(0,K.__assign)({formatters:{getNumberFormat:o,getDateTimeFormat:i,getPluralRules:a}},r||{}))}),{cache:pk(e.message),strategy:mk.strategies.variadic}),getRelativeTimeFormat:mk((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,(0,K.__spreadArray)([void 0],e)))}),{cache:pk(e.relativeTime),strategy:mk.strategies.variadic}),getPluralRules:a,getListFormat:mk((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(n.bind.apply(n,(0,K.__spreadArray)([void 0],e)))}),{cache:pk(e.list),strategy:mk.strategies.variadic}),getDisplayNames:mk((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(r.bind.apply(r,(0,K.__spreadArray)([void 0],e)))}),{cache:pk(e.displayNames),strategy:mk.strategies.variadic})}}(t),r=(0,K.__assign)((0,K.__assign)({},dk),e),i=r.locale,o=r.defaultLocale,a=r.onError;return i?!Intl.NumberFormat.supportedLocalesOf(i).length&&a?a(new ck('Missing locale data for locale: "'+i+'" in Intl.NumberFormat. Using default locale: "'+o+'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details')):!Intl.DateTimeFormat.supportedLocalesOf(i).length&&a&&a(new ck('Missing locale data for locale: "'+i+'" in Intl.DateTimeFormat. Using default locale: "'+o+'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details')):(a&&a(new uk('"locale" was not configured, using "'+o+'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details')),r.locale=r.defaultLocale||"en"),Gk(r),(0,K.__assign)((0,K.__assign)({},r),{formatters:n,formatNumber:Sk.bind(null,r,n.getNumberFormat),formatNumberToParts:Nk.bind(null,r,n.getNumberFormat),formatRelativeTime:Ak.bind(null,r,n.getRelativeTimeFormat),formatDate:Ok.bind(null,r,n.getDateTimeFormat),formatDateToParts:jk.bind(null,r,n.getDateTimeFormat),formatTime:Dk.bind(null,r,n.getDateTimeFormat),formatDateTimeRange:Pk.bind(null,r,n.getDateTimeFormat),formatTimeToParts:Mk.bind(null,r,n.getDateTimeFormat),formatPlural:Fk.bind(null,r,n.getPluralRules),formatMessage:Ek.bind(null,r,n),formatList:Vk.bind(null,r,n.getListFormat),formatDisplayName:zk.bind(null,r,n.getDisplayNames)})}function Wk(e){return{locale:e.locale,timeZone:e.timeZone,formats:e.formats,textComponent:e.textComponent,messages:e.messages,defaultLocale:e.defaultLocale,defaultFormats:e.defaultFormats,onError:e.onError,wrapRichTextChunksInFragment:e.wrapRichTextChunksInFragment,defaultRichTextElements:e.defaultRichTextElements}}function Hk(e){return e?Object.keys(e).reduce((function(n,r){var i,o=e[r];return n[r]=Zw(o)?(i=o,function(e){return i(t.Children.toArray(e))}):o,n}),{}):e}var Qk=function(e,n,r,i){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];var s=Hk(i),u=Ek.apply(void 0,(0,K.__spreadArray)([e,n,r,s],o));return Array.isArray(u)?t.Children.toArray(u):u},Yk=function(e,t){var n=e.defaultRichTextElements,r=(0,K.__rest)(e,["defaultRichTextElements"]),i=Hk(n),o=Kk((0,K.__assign)((0,K.__assign)((0,K.__assign)({},yk),r),{defaultRichTextElements:i}),t);return(0,K.__assign)((0,K.__assign)({},o),{formatMessage:Qk.bind(null,{locale:o.locale,timeZone:o.timeZone,formats:o.formats,defaultLocale:o.defaultLocale,defaultFormats:o.defaultFormats,messages:o.messages,onError:o.onError,defaultRichTextElements:i},o.formatters)})},Jk=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.cache={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}},t.state={cache:t.cache,intl:Yk(Wk(t.props),t.cache),prevConfig:Wk(t.props)},t}return(0,K.__extends)(n,e),n.getDerivedStateFromProps=function(e,t){var n=t.prevConfig,r=t.cache,i=Wk(e);return bk(n,i)?null:{intl:Yk(i,r),prevConfig:i}},n.prototype.render=function(){return vk(this.state.intl),t.createElement(dw,{value:this.state.intl},this.props.children)},n.displayName="IntlProvider",n.defaultProps=yk,n}(t.PureComponent),$k=Jk;function Xk(e,t){return Xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xk(e,t)}function Zk(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Xk(e,t)}function eE(e){return"/"===e.charAt(0)}function tE(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var nE=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&eE(e),a=t&&eE(t),s=o||a;if(e&&eE(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var c=0,l=i.length;l>=0;l--){var h=i[l];"."===h?tE(i,l):".."===h?(tE(i,l),c++):c&&(tE(i,l),c--)}if(!s)for(;c--;c)i.unshift("..");!s||""===i[0]||i[0]&&eE(i[0])||i.unshift("");var f=i.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f},rE="Invariant failed";function iE(e,t){if(!e)throw new Error(rE)}function oE(e){return"/"===e.charAt(0)?e:"/"+e}function aE(e){return"/"===e.charAt(0)?e.substr(1):e}function sE(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function uE(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function cE(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function lE(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=p({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(Cp){throw Cp instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):Cp}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=nE(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function hE(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var fE=!("undefined"===typeof window||!window.document||!window.document.createElement);function dE(e,t){t(window.confirm(e))}var pE="popstate",mE="hashchange";function gE(){try{return window.history.state||{}}catch(Cp){return{}}}function vE(e){void 0===e&&{},fE||iE(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,o=i.forceRefresh,a=void 0!==o&&o,s=i.getUserConfirmation,u=void 0===s?dE:s,c=i.keyLength,l=void 0===c?6:c,h=e.basename?uE(oE(e.basename)):"";function f(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return h&&sE(o,h),lE(o,r,n)}function d(){return Math.random().toString(36).substr(2,l)}var m=hE();function g(e){p(C,e),C.length=t.length,m.notifyListeners(C.location,C.action)}function v(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||_(f(e.state))}function y(){_(f(gE()))}var b=!1;function _(e){if(b)!1,g();else{m.confirmTransitionTo(e,"POP",u,(function(t){t?g({action:"POP",location:e}):function(e){var t=C.location,n=k.indexOf(t.key);-1===n&&0;var r=k.indexOf(e.key);-1===r&&0;var i=n-r;i&&(!0,T(i))}(e)}))}}var w=f(gE()),k=[w.key];function E(e){return h+cE(e)}function T(e){t.go(e)}var I=0;function S(e){1===(I+=e)&&1===e?(window.addEventListener(pE,v),r&&window.addEventListener(mE,y)):0===I&&(window.removeEventListener(pE,v),r&&window.removeEventListener(mE,y))}var N=!1;var C={length:t.length,action:"POP",location:w,createHref:E,push:function(e,r){var i="PUSH",o=lE(e,r,d(),C.location);m.confirmTransitionTo(o,i,u,(function(e){if(e){var r=E(o),s=o.key,u=o.state;if(n)if(t.pushState({key:s,state:u},null,r),a)window.location.href=r;else{var c=k.indexOf(C.location.key),l=k.slice(0,c+1);l.push(o.key),l,g({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=lE(e,r,d(),C.location);m.confirmTransitionTo(o,i,u,(function(e){if(e){var r=E(o),s=o.key,u=o.state;if(n)if(t.replaceState({key:s,state:u},null,r),a)window.location.replace(r);else{var c=k.indexOf(C.location.key);-1!==c&&(k[c]=o.key),g({action:i,location:o})}else window.location.replace(r)}}))},go:T,goBack:function(){T(-1)},goForward:function(){T(1)},block:function(e){void 0===e&&!1;var t=m.setPrompt(e);return N||(S(1),!0),function(){return N&&(!1,S(-1)),t()}},listen:function(e){var t=m.appendListener(e);return S(1),function(){S(-1),t()}}};return C}var yE="hashchange",bE={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+aE(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:aE,decodePath:oE},slash:{encodePath:oE,decodePath:oE}};function _E(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function wE(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function kE(e){window.location.replace(_E(window.location.href)+"#"+e)}function EE(e){void 0===e&&(e={}),fE||iE(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?dE:r,o=n.hashType,a=void 0===o?"slash":o,s=e.basename?uE(oE(e.basename)):"",u=bE[a],c=u.encodePath,l=u.decodePath;function h(){var e=l(wE());return s&&(e=sE(e,s)),lE(e)}var f=hE();function d(e){p(S,e),S.length=t.length,f.notifyListeners(S.location,S.action)}var m=!1,g=null;function v(){var e=wE(),t=c(e);if(e!==t)kE(t);else{var n=h(),r=S.location;if(!m&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(g===cE(n))return;g=null,function(e){if(m)m=!1,d();else{var t="POP";f.confirmTransitionTo(e,t,i,(function(n){n?d({action:t,location:e}):function(e){var t=S.location,n=w.lastIndexOf(cE(t));-1===n&&(n=0);var r=w.lastIndexOf(cE(e));-1===r&&(r=0);var i=n-r;i&&(m=!0,k(i))}(e)}))}}(n)}}var y=wE(),b=c(y);y!==b&&kE(b);var _=h(),w=[cE(_)];function k(e){t.go(e)}var E=0;function T(e){1===(E+=e)&&1===e?window.addEventListener(yE,v):0===E&&window.removeEventListener(yE,v)}var I=!1;var S={length:t.length,action:"POP",location:_,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=_E(window.location.href)),n+"#"+c(s+cE(e))},push:function(e,t){var n="PUSH",r=lE(e,void 0,void 0,S.location);f.confirmTransitionTo(r,n,i,(function(e){if(e){var t=cE(r),i=c(s+t);if(wE()!==i){g=t,function(e){window.location.hash=e}(i);var o=w.lastIndexOf(cE(S.location)),a=w.slice(0,o+1);a.push(t),w=a,d({action:n,location:r})}else d()}}))},replace:function(e,t){var n="REPLACE",r=lE(e,void 0,void 0,S.location);f.confirmTransitionTo(r,n,i,(function(e){if(e){var t=cE(r),i=c(s+t);wE()!==i&&(g=t,kE(i));var o=w.indexOf(cE(S.location));-1!==o&&(w[o]=t),d({action:n,location:r})}}))},go:k,goBack:function(){k(-1)},goForward:function(){k(1)},block:function(e){void 0===e&&(e=!1);var t=f.setPrompt(e);return I||(T(1),I=!0),function(){return I&&(I=!1,T(-1)),t()}},listen:function(e){var t=f.appendListener(e);return T(1),function(){T(-1),t()}}};return S}function TE(e,t,n){return Math.min(Math.max(e,t),n)}function IE(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,o=t.initialIndex,a=void 0===o?0:o,s=t.keyLength,u=void 0===s?6:s,c=hE();function l(e){p(v,e),v.length=v.entries.length,c.notifyListeners(v.location,v.action)}function h(){return Math.random().toString(36).substr(2,u)}var f=TE(a,0,i.length-1),d=i.map((function(e){return lE(e,void 0,"string"===typeof e?h():e.key||h())})),m=cE;function g(e){var t=TE(v.index+e,0,v.entries.length-1),r=v.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?l({action:"POP",location:r,index:t}):l()}))}var v={length:d.length,action:"POP",location:d[f],index:f,entries:d,createHref:m,push:function(e,t){var r="PUSH",i=lE(e,t,h(),v.location);c.confirmTransitionTo(i,r,n,(function(e){if(e){var t=v.index+1,n=v.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),l({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=lE(e,t,h(),v.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(v.entries[v.index]=i,l({action:r,location:i}))}))},go:g,goBack:function(){g(-1)},goForward:function(){g(1)},canGo:function(e){var t=v.index+e;return t>=0&&t<v.entries.length},block:function(e){return void 0===e&&!1,c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return v}var SE=1073741823,NE="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function CE(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var AE=t.createContext||function(e,n){var r,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return NE[e]=(NE[e]||0)+1}()+"__",s=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=CE(t.props.value),t}Zk(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):SE,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);s.childContextTypes=((r={})[o]=a().object.isRequired,r);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Zk(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?SE:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?SE:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return u.contextTypes=((i={})[o]=a().object,i),{Provider:s,Consumer:u}},xE=AE,RE=n(151),OE=n.n(RE),DE=(n(228),function(e){var t=xE();return t.displayName=e,t}),PE=DE("Router-History"),jE=function(e){var t=xE();return t.displayName=e,t},ME=jE("Router"),LE=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Zk(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return t.createElement(ME.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(PE.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;t.Component;var FE={},UE=0;function BE(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=FE[n]||(FE[n]={});if(r[e])return r[e];var i=[],o={regexp:OE()(e,i,t),keys:i};return UE<1e4&&(r[e]=o,UE++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],h=u.slice(1),f=e===l;return o&&!f?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:f,params:a.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var VE=function(e){function n(){return e.apply(this,arguments)||this}return Zk(n,e),n.prototype.render=function(){var e=this;return t.createElement(ME.Consumer,null,(function(n){n||iE(!1);var r=e.props.location||n.location,i=p({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?BE(r.pathname,e.props):n.match}),o=e.props,a=o.children,s=o.component,u=o.render;return Array.isArray(a)&&0===a.length&&(a=null),t.createElement(ME.Provider,{value:i},i.match?a?"function"===typeof a?a(i):a:s?t.createElement(s,i):u?u(i):null:"function"===typeof a?a(i):null)}))},n}(t.Component);function qE(e){return"/"===e.charAt(0)?e:"/"+e}function zE(e,t){if(!e)return t;var n=qE(e);return 0!==t.pathname.indexOf(n)?t:p({},t,{pathname:t.pathname.substr(n.length)})}function GE(e){return"string"===typeof e?e:cE(e)}function KE(e){return function(){iE(!1)}}function WE(){}t.Component;var HE=function(e){function n(){return e.apply(this,arguments)||this}return Zk(n,e),n.prototype.render=function(){var e=this;return t.createElement(ME.Consumer,null,(function(n){n||iE(!1);var r,i,o=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var a=e.props.path||e.props.from;i=a?BE(o.pathname,p({},e.props,{path:a})):n.match}})),i?t.cloneElement(r,{location:o,computedMatch:i}):null}))},n}(t.Component);var QE=t.useContext;function YE(){return QE(PE)}t.Component;var JE=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=EE(t.props),t}return Zk(n,e),n.prototype.render=function(){return t.createElement(LE,{history:this.history,children:this.props.children})},n}(t.Component);var $E=function(e,t){return"function"===typeof e?e(t):e},XE=function(e,t){return"string"===typeof e?lE(e,null,null,t):e},ZE=function(e){return e},eT=t.forwardRef;"undefined"===typeof eT&&(eT=ZE);var tT=eT((function(e,n){var r=e.innerRef,i=e.navigate,o=e.onClick,a=m(e,["innerRef","navigate","onClick"]),s=a.target,u=p({},a,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return u.ref=ZE!==eT&&n||r,t.createElement("a",u)}));var nT=eT((function(e,n){var r=e.component,i=void 0===r?tT:r,o=e.replace,a=e.to,s=e.innerRef,u=m(e,["component","replace","to","innerRef"]);return t.createElement(ME.Consumer,null,(function(e){e||iE(!1);var r=e.history,c=XE($E(a,e.location),e.location),l=c?r.createHref(c):"",h=p({},u,{href:l,navigate:function(){var t=$E(a,e.location);(o?r.replace:r.push)(t)}});return ZE!==eT?h.ref=n||s:h.innerRef=s,t.createElement(i,h)}))})),rT=function(e){return e},iT=t.forwardRef;"undefined"===typeof iT&&(iT=rT);iT((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,o=e.activeClassName,a=void 0===o?"active":o,s=e.activeStyle,u=e.className,c=e.exact,l=e.isActive,h=e.location,f=e.sensitive,d=e.strict,g=e.style,v=e.to,y=e.innerRef,b=m(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(ME.Consumer,null,(function(e){e||iE(!1);var r=h||e.location,o=XE($E(v,r),r),m=o.pathname,_=m&&m.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=_?BE(r.pathname,{path:_,exact:c,sensitive:f,strict:d}):null,k=!!(l?l(w,r):w),E=k?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(u,a):u,T=k?p({},g,{},s):g,I=p({"aria-current":k&&i||null,className:E,style:T,to:o},b);return rT!==iT?I.ref=n||y:I.innerRef=y,t.createElement(nT,I)}))}));function oT(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=oT(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function aT(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=oT(e))&&(r&&(r+=" "),r+=t);return r}var sT=t.memo((function(e){var n=function(){var e=t.useContext(pw);return vk(e),e}(),i=n.formatMessage,o=n.textComponent,a=void 0===o?t.Fragment:o,s=e.id,u=e.description,c=e.defaultMessage,l=e.values,h=e.children,f=e.tagName,d=void 0===f?a:f,p=i({id:s,description:u,defaultMessage:c},l,{ignoreTag:e.ignoreTag});return Array.isArray(p)||(p=[p]),"function"===typeof h?h(p):d?t.createElement.apply(r,(0,K.__spreadArray)([d,null],p)):t.createElement(t.Fragment,null,p)}),(function(e,t){var n=e.values,r=(0,K.__rest)(e,["values"]),i=t.values,o=(0,K.__rest)(t,["values"]);return bk(i,n)&&bk(r,o)}));sT.displayName="FormattedMessage";var uT=sT,cT=n(184),lT=function(e){var t=e.className,n=e.text,r=e.onClick,i=e.tabIndex;return(0,cT.jsx)("div",{className:t,onClick:r,onKeyPress:r,role:"button",tabIndex:i,children:(0,cT.jsx)(uT,{id:n})})},hT=lT;lT.defaultProps={tabIndex:"0"};var fT=JSON.parse('{"list":[{"name":"SYNBIO-NAME","path":"/models/synbio"},{"name":"DNA-NAME","path":"/models/dna"},{"name":"RNA-NAME","path":"/models/rna"},{"name":"CRISPR-NAME","path":"/models/crispr"},{"name":"TRANSLATION-NAME","path":"/models/translation"},{"name":"GMO-NAME","path":"/models/gmo"},{"name":"VIRUS-NAME","path":"/models/virus"},{"name":"ANTIBIOTIC-NAME","path":"/models/antibiotic"},{"name":"VACCINES-NAME","path":"/models/vaccines"},{"name":"BIOIT-NAME","path":"/models/bioit"},{"name":"TRANSFORMATION-NAME","path":"/models/transformation"},{"name":"GFP-NAME","path":"/models/gfpNew"},{"name":"TRANSFORMATION-ELECTROPORATION-NAME-1","path":"/models/transformationElectroporation"}]}'),dT=JSON.parse('{"info":{"name":"DNA-NAME","desc":"DNA-DESC","descSimplified":"DNA-DESC-SIMPLIFIED","extra":{"1":{"name":"DNA-1-NAME","desc":"DNA-1-DESC"},"2":{"name":"DNA-2-NAME","desc":"DNA-2-DESC"}},"lt":{"audioRec":"recordings/lt/DNA.mp3","path":"models/lt/DNA.glb"},"en":{"audioRec":"recordings/en/DNA.mp3","path":"models/en/DNA.glb"}},"model":{"pattern":"patterns/DNA.patt","pos":{"x":0.2,"y":0,"z":0},"rotAR":{"x":-1.57,"y":-1.57,"z":0},"rotNoAR":{"x":0,"y":-1.57,"z":0},"scale":0.125}}'),pT=JSON.parse('{"info":{"name":"SYNBIO-NAME","desc":"SYNBIO-DESC","descSimplified":"SYNBIO-DESC-SIMPLIFIED","extra":{"1":{"name":"SYNBIO-1-NAME","desc":"SYNBIO-1-DESC"},"2":{"name":"SYNBIO-2-NAME","desc":"SYNBIO-2-DESC"},"3":{"name":"SYNBIO-3-NAME","desc":"SYNBIO-3-DESC"},"4":{"name":"SYNBIO-4-NAME","desc":"SYNBIO-4-DESC"},"5":{"name":"SYNBIO-5-NAME","desc":"SYNBIO-5-DESC"}},"lt":{"audioRec":"recordings/lt/synbio.mp3","path":"models/lt/synbio.glb"},"en":{"audioRec":"recordings/en/synbio.mp3","path":"models/en/synbio.glb"}},"model":{"pattern":"patterns/synbio.patt","pos":{"x":-1,"y":0.4,"z":0},"rotAR":{"x":-1.57,"y":1.57079,"z":0.3},"rotNoAR":{"x":0,"y":1.57079,"z":0.3},"scale":0.4}}'),mT=JSON.parse('{"info":{"name":"ANTIBIOTIC-NAME","desc":"ANTIBIOTIC-DESC","descSimplified":"ANTIBIOTIC-DESC-SIMPLIFIED","extra":{"1":{"name":"ANTIBIOTIC-1-NAME","desc":"ANTIBIOTIC-1-DESC"},"2":{"name":"ANTIBIOTIC-2-NAME","desc":"ANTIBIOTIC-2-DESC"},"3":{"name":"ANTIBIOTIC-3-NAME","desc":"ANTIBIOTIC-3-DESC"},"4":{"name":"ANTIBIOTIC-4-NAME","desc":"ANTIBIOTIC-4-DESC"},"5":{"name":"ANTIBIOTIC-5-NAME","desc":"ANTIBIOTIC-5-DESC"},"6":{"name":"ANTIBIOTIC-6-NAME","desc":"ANTIBIOTIC-6-DESC"}},"lt":{"audioRec":"recordings/lt/antibiotic.mp3","path":"models/lt/antibiotic.glb"},"en":{"audioRec":"recordings/en/antibiotic.mp3","path":"models/en/antibiotic.glb"}},"model":{"pattern":"patterns/antibiotic.patt","pos":{"x":-0.2,"y":0,"z":0},"rotAR":{"x":0,"y":0,"z":0},"rotNoAR":{"x":1.57,"y":0,"z":0},"scale":2}}'),gT=JSON.parse('{"info":{"name":"TRANSLATION-NAME","desc":"TRANSLATION-DESC","descSimplified":"TRANSLATION-DESC-SIMPLIFIED","extra":{"1":{"name":"TRANSLATION-1-NAME","desc":"TRANSLATION-1-DESC"},"2":{"name":"TRANSLATION-2-NAME","desc":"TRANSLATION-2-DESC"},"3":{"name":"TRANSLATION-3-NAME","desc":"TRANSLATION-3-DESC"},"4":{"name":"TRANSLATION-4-NAME","desc":"TRANSLATION-4-DESC"}},"lt":{"audioRec":"recordings/lt/translation.mp3","path":"models/lt/translation.glb"},"en":{"audioRec":"recordings/en/translation.mp3","path":"models/en/translation.glb"}},"model":{"pattern":"patterns/translation.patt","pos":{"x":0,"y":0.5,"z":0},"rotAR":{"x":-1.57,"y":-1,"z":0},"rotNoAR":{"x":0,"y":-1,"z":0},"scale":25}}'),vT=JSON.parse('{"info":{"name":"CRISPR-NAME","desc":"CRISPR-DESC","descSimplified":"CRISPR-DESC-SIMPLIFIED","extra":{"1":{"name":"CRISPR-1-NAME","desc":"CRISPR-1-DESC"},"2":{"name":"CRISPR-2-NAME","desc":"CRISPR-2-DESC"},"3":{"name":"CRISPR-3-NAME","desc":"CRISPR-3-DESC"},"4":{"name":"CRISPR-4-NAME","desc":"CRISPR-4-DESC"},"5":{"name":"CRISPR-5-NAME","desc":"CRISPR-5-DESC"}},"lt":{"audioRec":"recordings/lt/crispr.mp3","path":"models/lt/crispr.glb"},"en":{"audioRec":"recordings/en/crispr.mp3","path":"models/en/crispr.glb"}},"model":{"pattern":"patterns/crispr.patt","pos":{"x":0,"y":0.5,"z":0},"rotAR":{"x":-1.57,"y":-1.57,"z":0},"rotNoAR":{"x":0,"y":-1.57,"z":0},"scale":0.025}}'),yT=JSON.parse('{"info":{"name":"VIRUS-NAME","desc":"VIRUS-DESC","descSimplified":"VIRUS-DESC-SIMPLIFIED","extra":{"1":{"name":"VIRUS-1-NAME","desc":"VIRUS-1-DESC"},"2":{"name":"VIRUS-2-NAME","desc":"VIRUS-2-DESC"},"3":{"name":"VIRUS-3-NAME","desc":"VIRUS-3-DESC"},"4":{"name":"VIRUS-4-NAME","desc":"VIRUS-4-DESC"},"5":{"name":"VIRUS-5-NAME","desc":"VIRUS-5-DESC"},"6":{"name":"VIRUS-6-NAME","desc":"VIRUS-6-DESC"}},"lt":{"audioRec":"recordings/lt/virus.mp3","path":"models/lt/virus.glb"},"en":{"audioRec":"recordings/en/virus.mp3","path":"models/en/virus.glb"}},"model":{"pattern":"patterns/virus.patt","pos":{"x":0,"y":0.5,"z":0},"rotAR":{"x":-1.57,"y":0.8,"z":0},"rotNoAR":{"x":0,"y":0.8,"z":0},"scale":1.25}}'),bT=JSON.parse('{"info":{"name":"RNA-NAME","desc":"RNA-DESC","descSimplified":"RNA-DESC-SIMPLIFIED","extra":{"1":{"name":"RNA-1-NAME","desc":"RNA-1-DESC"},"2":{"name":"RNA-2-NAME","desc":"RNA-2-DESC"}},"lt":{"audioRec":"recordings/lt/RNA.mp3","path":"models/lt/RNA.glb"},"en":{"audioRec":"recordings/en/RNA.mp3","path":"models/en/RNA.glb"}},"model":{"pattern":"patterns/RNA.patt","pos":{"x":-0.1,"y":0.4,"z":0},"rotAR":{"x":-1.57,"y":-1.57,"z":0},"rotNoAR":{"x":0,"y":-1.57,"z":0},"scale":0.4}}'),_T=JSON.parse('{"info":{"name":"VACCINES-NAME","desc":"VACCINES-DESC","descSimplified":"VACCINES-DESC-SIMPLIFIED","extra":{"1":{"name":"VACCINES-1-NAME","desc":"VACCINES-1-DESC"},"2":{"name":"VACCINES-2-NAME","desc":"VACCINES-2-DESC"},"3":{"name":"VACCINES-3-NAME","desc":"VACCINES-3-DESC"}},"lt":{"audioRec":"recordings/lt/vaccines.mp3","path":"models/lt/vaccines.glb"},"en":{"audioRec":"recordings/en/vaccines.mp3","path":"models/en/vaccines.glb"}},"model":{"pattern":"patterns/vaccines.patt","pos":{"x":0,"y":0.5,"z":0},"rotAR":{"x":-1.57,"y":0,"z":0},"rotNoAR":{"x":0,"y":0,"z":0},"scale":1.25}}'),wT=JSON.parse('{"info":{"name":"BIOIT-NAME","desc":"BIOIT-DESC","descSimplified":"BIOIT-DESC-SIMPLIFIED","extra":{"1":{"name":"BIOIT-1-NAME","desc":"BIOIT-1-DESC"},"2":{"name":"BIOIT-2-NAME","desc":"BIOIT-2-DESC"},"3":{"name":"BIOIT-3-NAME","desc":"BIOIT-3-DESC"},"4":{"name":"BIOIT-4-NAME","desc":"BIOIT-4-DESC"},"5":{"name":"BIOIT-5-NAME","desc":"BIOIT-5-DESC"}},"lt":{"audioRec":"recordings/lt/bioit.mp3","path":"models/lt/bioit.glb"},"en":{"audioRec":"recordings/en/bioit.mp3","path":"models/en/bioit.glb"}},"model":{"pattern":"patterns/bioit.patt","pos":{"x":0,"y":0.25,"z":0},"rotAR":{"x":-1.57,"y":-1.57,"z":0},"rotNoAR":{"x":0,"y":-1.57,"z":0},"scale":0.4}}'),kT=JSON.parse('{"info":{"name":"GMO-NAME","desc":"GMO-DESC","descSimplified":"GMO-DESC-SIMPLIFIED","extra":{"1":{"name":"GMO-1-NAME","desc":"GMO-1-DESC"},"2":{"name":"GMO-2-NAME","desc":"GMO-2-DESC"},"3":{"name":"GMO-3-NAME","desc":"GMO-3-DESC"},"4":{"name":"GMO-4-NAME","desc":"GMO-4-DESC"},"5":{"name":"GMO-5-NAME","desc":"GMO-5-DESC"},"6":{"name":"GMO-6-NAME","desc":"GMO-6-DESC"}},"lt":{"audioRec":"recordings/lt/GMO.mp3","path":"models/lt/GMO.glb"},"en":{"audioRec":"recordings/en/GMO.mp3","path":"models/en/GMO.glb"}},"model":{"pattern":"patterns/GMO.patt","pos":{"x":-0.3,"y":0.75,"z":0},"rotAR":{"x":-1.57,"y":1.57,"z":0},"rotNoAR":{"x":0,"y":1.57,"z":0},"scale":0.3}}'),ET=JSON.parse('{"info":{"name":"BIOBRICK-NAME","desc":"BIOBRICK-DESC","extra":{},"lt":{"audioRec":"recordings/old/lt/biobrick.mp3","path":"models/old/lego.glb"},"en":{"audioRec":"recordings/old/en/biobrick.mp3","path":"models/old/lego.glb"}},"model":{"pattern":"patterns/old/lego.patt","pos":{"x":0,"y":0.1,"z":0},"rotAR":{"x":0,"y":-1.6,"z":0},"rotNoAR":{"x":0,"y":-1.6,"z":0},"scale":0.7,"looponce":true}}'),TT=JSON.parse('{"info":{"name":"CIRCUIT-NAME","desc":"CIRCUIT-DESC","extra":{},"lt":{"audioRec":"recordings/old/lt/circuit.mp3","path":"models/old/circuit.glb"},"en":{"audioRec":"recordings/old/en/circuit.mp3","path":"models/old/circuit.glb"}},"model":{"pattern":"patterns/old/circuit.patt","pos":{"x":-0.5,"y":0,"z":0},"rotAR":{"x":-1.57,"y":3.14,"z":3.14},"rotNoAR":{"x":-1.57,"y":3.14,"z":3.14},"scale":30}}'),IT=JSON.parse('{"info":{"name":"ECOLI-NAME","desc":"ECOLI-DESC","extra":{},"lt":{"audioRec":"recordings/old/lt/modelOrg.mp3","path":"models/old/ecoli.glb"},"en":{"audioRec":"recordings/old/en/modelOrg.mp3","path":"models/old/ecoli.glb"}},"model":{"pattern":"patterns/old/ecoli.patt","pos":{"x":-0.2,"y":-0.2,"z":-0.2},"rotAR":{"x":0,"y":2.5,"z":0},"rotNoAR":{"x":0,"y":2.5,"z":0},"scale":2}}'),ST=JSON.parse('{"info":{"name":"GFP-NAME","desc":"GFP-DESC","extra":{},"lt":{"audioRec":"recordings/old/lt/gfp.mp3","path":"models/old/gfp.glb"},"en":{"audioRec":"recordings/old/en/gfp.mp3","path":"models/old/gfp.glb"}},"model":{"pattern":"patterns/old/gfp.patt","pos":{"x":0,"y":0.75,"z":0},"rotAR":{"x":0,"y":0,"z":0},"rotNoAR":{"x":0,"y":0,"z":0},"scale":0.9}}'),NT=JSON.parse('{"info":{"name":"NANO-NAME","desc":"NANO-DESC","extra":{},"lt":{"audioRec":"recordings/old/lt/bacteriophage.mp3","path":"models/old/bacteriophage.glb"},"en":{"audioRec":"recordings/old/en/bacteriophage.mp3","path":"models/old/bacteriophage.glb"}},"model":{"pattern":"patterns/old/bacteriophage.patt","pos":{"x":0,"y":0.4,"z":0},"rotAR":{"x":0,"y":-1.5,"z":0},"rotNoAR":{"x":0,"y":-1.5,"z":0},"scale":1}}'),CT=JSON.parse('{"info":{"name":"SEQUENCING-NAME","desc":"SEQUENCING-DESC","extra":{},"lt":{"audioRec":"recordings/old/lt/sequencing.mp3","path":"models/old/sekoskaita.glb"},"en":{"audioRec":"recordings/old/en/sequencing.mp3","path":"models/old/sekoskaita.glb"}},"model":{"pattern":"patterns/old/sequencing.patt","pos":{"x":0,"y":1,"z":0},"rotAR":{"x":0,"y":0,"z":0},"rotNoAR":{"x":0,"y":0,"z":0},"scale":0.2}}'),AT=JSON.parse('{"info":{"name":"GMO-NAME","desc":"GMO-DESC","extra":{"1":{"name":"GMO-1-NAME","desc":"GMO-1-DESC"},"2":{"name":"GMO-2-NAME","desc":"GMO-2-DESC"},"3":{"name":"GMO-3-NAME","desc":"GMO-3-DESC"},"4":{"name":"GMO-4-NAME","desc":"GMO-4-DESC"},"5":{"name":"GMO-5-NAME","desc":"GMO-5-DESC"}},"lt":{"audioRec":"recordings/lt/GMO.mp3","path":"models/lt/GMO.glb"},"en":{"audioRec":"recordings/en/GMO.mp3","path":"models/en/GMO.glb"}},"model":{"pattern":"patterns/old/GMO.patt","pos":{"x":-0.3,"y":0.75,"z":0},"rotAR":{"x":-1.57,"y":1.57,"z":0},"rotNoAR":{"x":0,"y":1.57,"z":0},"scale":0.3}}'),xT=JSON.parse('{"info":{"name":"TRANSFORMATION-NAME","desc":"TRANSFORMATION-DESC","descSimplified":"TRANSFORMATION-DESC-SIMPLIFIED","extra":{},"lt":{"audioRec":"recordings/lt/heatshock-lt.mp3","path":"models/lt/transformation_heat.glb"},"en":{"audioRec":"recordings/en/heatshock-en.mp3","path":"models/en/transformation_heat_EN.glb"}},"model":{"pos":{"x":0,"y":0.5,"z":0},"rotAR":{"x":-1.57,"y":0,"z":0},"rotNoAR":{"x":0,"y":0,"z":0},"scale":1.25}}'),RT=JSON.parse('{"info":{"name":"GFP-NAME-1","desc":"GFP-DESC-1","descSimplified":"GFP-DESC-1-SIMPLIFIED","extra":{},"lt":{"audioRec":"recordings/lt/gfp-lt.mp3","path":"models/lt/GFP_glow_LT_two.glb"},"en":{"audioRec":"recordings/en/gfp-en.mp3","path":"models/en/GFP_glow_EN_two.glb"}},"model":{"pos":{"x":0,"y":0.5,"z":0},"rotAR":{"x":-1.57,"y":0,"z":0},"rotNoAR":{"x":0,"y":0,"z":0},"scale":1.25}}'),OT=JSON.parse('{"info":{"name":"TRANSFORMATION-ELECTROPORATION-NAME-1","desc":"TRANSFORMATION-ELECTROPORATION-DESC-1","descSimplified":"TRANSFORMATION-ELECTROPORATION-DESC-1-SIMPLIFIED","extra":{},"lt":{"audioRec":"recordings/lt/electro-lt.mp3","path":"models/lt/transformation_electroporation.glb"},"en":{"audioRec":"recordings/en/electro-en.mp3","path":"models/en/transformation_electroporation_EN.glb"}},"model":{"pos":{"x":0,"y":0.5,"z":0},"rotAR":{"x":-1.57,"y":0,"z":0},"rotNoAR":{"x":0,"y":0,"z":0},"scale":1.25}}'),DT=function(e){var t=e.isOpenDyslexicActive,n=YE();return(0,cT.jsxs)("div",{className:"model-list-wrapper",children:[(0,cT.jsx)("div",{className:"model-list-title",children:(0,cT.jsx)(uT,{id:"MAIN-MENU-MODEL-LIST-TITLE",values:{br:function(){return(0,cT.jsx)("br",{})},c:function(e){return(0,cT.jsx)("span",{className:"color",children:e})}}})}),(0,cT.jsx)("div",{className:"model-list",children:fT.list.map((function(e){return(0,cT.jsx)(hT,{className:aT("list-button",t&&"open-dyslexic"),onClick:function(){return n.push(e.path)},text:e.name},e.name)}))})]})},PT=function(e){var t=e.className,n=e.text,r=e.to,i=e.tabIndex,o=e.download;return(0,cT.jsx)("a",{className:t,href:r,tabIndex:i,download:o,children:(0,cT.jsx)(uT,{id:n})})},jT=PT;PT.defaultProps={tabIndex:"0",download:!1};var MT=function(e){var t=e.hidden,n=e.to,r=e.src,i=e.alt,o=e.disabled,a=e.tabIndex;return(0,cT.jsx)(cT.Fragment,{children:o?(0,cT.jsx)("div",{className:aT("icon","disabled",t&&"hidden"),children:(0,cT.jsx)("img",{src:r,alt:i})}):(0,cT.jsx)("a",{className:aT("icon",t&&"hidden"),href:n,tabIndex:a,children:(0,cT.jsx)("img",{src:r,alt:i})})})},LT=MT;MT.defaultProps={hidden:!1,disabled:!1,tabIndex:"0",alt:""};n.p,n.p;var FT=n.p+"static/media/camera_para.fb94e301872cb253c5c2.dat";var UT=n.p+"static/media/camera.c3dc5184fe547a095a1259ad88dc6c52.svg";var BT=n.p+"static/media/dashedCamera.2ed50499334dc42d59f6d4815c3dd01d.svg";var VT=n.p+"static/media/info.fd2ed0efe853e8c69f98d16f5c5da4f9.svg";var qT=n.p+"static/media/langLT.b58cd4c0e38d07cf3813f289c429ea9b.svg";var zT=n.p+"static/media/menu.24e7f93e4c38f7d2ef37513329c8c64d.svg";var GT=n.p+"static/media/langEN.2c4f9677c03f66d32201e27f7e9aa745.svg";var KT=n.p+"static/media/dashedSound.a3e6169c493846a03c7c8b00bbd01958.svg";var WT=n.p+"static/media/sound.57abcf3ad2dc18ec2d4bee1933afa1b9.svg";var HT=n.p+"static/media/close.5fb0c9b1b66dd5df6316bfeffc397941.svg",QT=n.p+"static/media/spinner.34401d2ee7d30fc5b478.gif";var YT=n.p+"static/media/instructionGraphic1.9a8138b3f6f0e22f4e2b18570eeb394d.svg";var JT=n.p+"static/media/instructionGraphic22.6c8a5848da9b93a2da51b6476a8d3a97.svg";var $T=n.p+"static/media/instructionGraphic3.3aac5b548a2cb2e86efaffc3965f8ef9.svg";var XT=n.p+"static/media/instructionGraphic44.239d744efeffff5fd5911885617c92ff.svg";var ZT=n.p+"static/media/instructionGraphic55.1736ab4272054fa4c675d420fb317abe.svg";var eI=n.p+"static/media/cameraNoBackground.47065cdb46ec9e3f8eee5ed272f7d464.svg";var tI=n.p+"static/media/sideMenuLogo1.2a065a3dcb3b849d57b90b69d73938b1.svg";var nI=n.p+"static/media/orangeCloseButton.72fbb2cbeef85c3c9a785ede978fb95a.svg";var rI=n.p+"static/media/facebook.2d51ecbe544d86d12352a89db011c18d.svg";var iI=n.p+"static/media/instagram.32f40103e2e2c3a0dac1804b4b4171ec.svg";var oI=n.p+"static/media/linkedin.c8af7bb942e4d17dd313a1bd9370a658.svg";n.p;var aI=n.p+"static/media/sideMenuListImage.a981f1fad854f124ceb416e5ca4de53c.svg";var sI=n.p+"static/media/backArrow.a64031d3c9f15d5c52a71982d8dff316.svg";var uI=n.p+"static/media/rightArrow.094a9869dffcaa47bed7268182da8eb0.svg";var cI=n.p+"static/media/leftArrow.24af08ecfb6c3301e1c9ca6d1f3b72ce.svg";var lI=n.p+"static/media/dyslexia.23cc95e404e7bf2aee24464054f4c189.svg";var hI=n.p+"static/media/globe.27766bfff2bd8ebaeed1e44aeafcba14.svg";var fI=n.p+"static/media/orangeSound.1aecd27963926d9ede33f2a8f0629510.svg";var dI=n.p+"static/media/orangeInfo.bad3ec8882b81878f6c747014df990c0.svg";var pI=n.p+"static/media/megaphone1.cd461550bc13bfcc427210bceb3d3292.svg";var mI=n.p+"static/media/text1.3aa1e46995004337b04ef3e525acf619.svg";var gI=n.p+"static/media/bigInfo1.52c148bf4f20ac3df9327611aa8a679d.svg";var vI=n.p+"static/media/orangeMenu.568fd7cbc501e0b2e08f78f9e4e24250.svg",yI=n.p+"static/media/intro.a85d5027418ae8b7c395.png";var bI=n.p+"static/media/checkMarkChecked.b6f683a82b374db4efb5419cd230d7e9.svg";var _I=n.p+"static/media/checkMark.1937787395aebfa621a1982132da5735.svg";var wI=n.p+"static/media/easyToRead.50e10ab46c30573782c23ceacbe88c58.svg",kI=function(e){var t=e.isOpenDyslexicActive,n=e.locale,r=YE();return(0,cT.jsx)("div",{className:"bottom-menu-wrapper",children:(0,cT.jsxs)("div",{className:"bottom-menu",children:[(0,cT.jsx)("div",{className:"logo",children:(0,cT.jsx)("img",{src:tI,alt:""})}),(0,cT.jsx)(hT,{className:aT("button",t&&"open-dyslexic"),text:"BUTTON-INSTRUCTIONS",onClick:function(){return r.push("/faq")}}),(0,cT.jsx)(hT,{className:aT("button",t&&"open-dyslexic"),text:"BUTTON-6SYNBIO-INFO",onClick:function(){return r.push("/whats6thsense")}}),(0,cT.jsx)(hT,{className:aT("button",t&&"open-dyslexic"),text:"BUTTON-IGEM-INFO",onClick:function(){return r.push("/whatsigem")}}),(0,cT.jsx)(jT,{className:aT("button",t&&"open-dyslexic"),text:"BUTTON-PRINT-MARKERS",to:n===e_.LT?"../assets/markeriai_lt.zip":"../assets/markers_en.zip"}),n===e_.LT&&(0,cT.jsx)(hT,{className:aT("button",t&&"open-dyslexic"),text:"FOR-SCHOOLS",onClick:function(){return r.push("/forschools")}}),(0,cT.jsx)(hT,{className:aT("button",t&&"open-dyslexic"),text:"PRIVACY-POLICY-TITLE",onClick:function(){return r.push("/privacypolicy")}}),(0,cT.jsxs)("div",{className:"icon-group",children:[(0,cT.jsx)(LT,{to:"https://www.facebook.com/VilniusiGEM",src:rI,alt:""}),(0,cT.jsx)(LT,{to:"https://www.instagram.com/igem_vilnius/",src:iI,alt:""}),(0,cT.jsx)(LT,{to:"https://www.linkedin.com/company/vilnius-igem/",src:oI,alt:""})]})]})})},EI=function(e){var t=e.isOpenDyslexicActive;return(0,cT.jsxs)("div",{className:"welcome",children:[(0,cT.jsx)("img",{className:"image",src:yI,alt:""}),(0,cT.jsxs)("div",{className:"welcome-text",children:[(0,cT.jsx)("div",{className:"header",children:(0,cT.jsx)(uT,{id:"MAIN-MENU-HEADER",values:{br:function(){return(0,cT.jsx)("br",{})},c:function(e){return(0,cT.jsx)("span",{className:"color",children:e})},s:function(e){return(0,cT.jsx)("span",{className:"small",children:e})}}})}),(0,cT.jsx)("div",{className:aT(t&&"open-dyslexic","subheader"),children:(0,cT.jsx)(uT,{id:"MAIN-MENU-SUBHEADER",values:{br:function(){return(0,cT.jsx)("br",{})}}})})]})]})};function TI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function II(e,t){if(e){if("string"===typeof e)return TI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TI(e,t):void 0}}function SI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||II(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var NI=function(e){var n=e.src,r=e.text,i=e.onClick,o=e.isLong,a=SI((0,t.useState)(!1),2),s=a[0],u=a[1],c=(0,t.useRef)();return function(e,n){(0,t.useEffect)((function(){var t=function(t){e.current&&!e.current.contains(t.target)&&n(t)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),function(){document.removeEventListener("mousedown",t),document.addEventListener("touchstart",t)}}),[])}(c,(function(){u(!1)})),(0,cT.jsxs)("div",{className:aT("side-button",s&&"open",o&&"long",!o&&"short"),ref:c,onClick:function(){u(!0)},onKeyPress:function(){u(!0)},role:"button",tabIndex:"0",children:[(0,cT.jsx)("div",{className:"icon",children:(0,cT.jsx)("img",{src:n,alt:""})}),(0,cT.jsx)("div",{className:"content",onClick:i,onKeyPress:i,role:"button",tabIndex:aT(s&&"0",!s&&"-1"),children:(0,cT.jsx)("div",{children:(0,cT.jsx)(uT,{id:r})})})]})},CI=NI;NI.defaultProps={isLong:!1};var AI=q((function(e){return{locale:e.locale,isOpenDyslexicActive:e.isOpenDyslexicActive}}),(function(e){return{setIsOpenDyslexicActive:function(t){return e(function(e){return{type:Zb.ov,payload:e}}(t))},setLocale:function(t){return e(sw(t))}}}))((function(e){var n=e.locale,r=e.isOpenDyslexicActive,i=e.setIsOpenDyslexicActive,o=e.setLocale,a=(0,t.useRef)(null),s=YE();return(0,t.useEffect)((function(){void 0!==s.location.state&&"faq"===s.location.state.from&&a.current.scrollIntoView()}),[]),(0,cT.jsxs)("div",{className:"main-menu-wrapper",children:[(0,cT.jsxs)("div",{className:aT("main-menu",r&&"open-dyslexic"),children:[(0,cT.jsx)(EI,{isOpenDyslexicActive:r}),(0,cT.jsx)(DT,{isOpenDyslexicActive:r}),(0,cT.jsx)("div",{ref:a,children:(0,cT.jsx)(kI,{isOpenDyslexicActive:r,locale:n})})]}),(0,cT.jsx)(CI,{src:hI,text:aT(e_.LT===n&&"LT",e_.EN===n&&"EN"),onClick:function(){return o(n===e_.LT?e_.EN:e_.LT)}}),(0,cT.jsx)(CI,{src:lI,text:"OPEN-DYSLEXIC",onClick:function(){return i(!r)},isLong:!0})]})}));function xI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OI(e,t,n){return t&&RI(e.prototype,t),n&&RI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function DI(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xk(e,t)}function PI(e){return PI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},PI(e)}function jI(e){return jI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jI(e)}function MI(e,t){if(t&&("object"===jI(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function LI(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Cp){return!1}}();return function(){var n,r=PI(e);if(t){var i=PI(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return MI(this,n)}}var FI=function(e){var t=e.text;return(0,cT.jsxs)("div",{className:"loading-screen",children:[(0,cT.jsx)("img",{src:QT,alt:""}),(0,cT.jsx)(uT,{id:t,defaultMessage:""})]})},UI=FI;FI.defaultProps={text:""};var BI=UI,VI=THREE,qI=VI.Scene,zI=VI.DirectionalLight,GI=VI.PerspectiveCamera,KI=VI.WebGLRenderer,WI=VI.sRGBEncoding,HI=VI.Group,QI=VI.GLTFLoader,YI=VI.DRACOLoader,JI=VI.Clock,$I=VI.AnimationMixer,XI=VI.LoopOnce,ZI=VI.Color,eS=THREEx,tS=eS.ArToolkitSource,nS=eS.ArToolkitContext,rS=eS.ArSmoothedControls,iS=eS.ArMarkerControls,oS=function(e){DI(n,e);var t=LI(n);function n(e){var r;return xI(this,n),(r=t.call(this,e)).disposeRecursive=function(e){void 0!==e.children&&e.children.forEach((function(e){r.disposeRecursive(e)})),void 0!==e.geometry&&e.geometry.dispose(),void 0!==e.material&&e.material.dispose()},r.onResize=function(){r.arToolkitSource.onResizeElement(),r.arToolkitSource.copyElementSizeTo(r.renderer.domElement),null!==r.arToolkitContext.arController&&r.arToolkitSource.copyElementSizeTo(r.arToolkitContext.arController.canvas)},r.state={loading:!0},r.scene=new qI,r.root=new HI,r.camera=new GI(75,window.innerWidth/window.innerHeight,.1,1e3),r.renderer=new KI({antialias:!0,alpha:!0}),r.controls=new rS(r.root,{lerpPosition:.8,lerpQuaternion:.8,lerpScale:1}),r.clock=new JI,r.arToolkitSource=new tS({sourceType:"webcam"}),r.arToolkitContext=new nS({cameraParametersUrl:FT,detectionMode:"mono",imageSmoothingEnabled:!0}),r.markerControls=new iS(r.arToolkitContext,r.root,{type:"pattern",patternUrl:e.model.pattern}),r.threejsActive=!0,r}return OI(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.model,r=t.path;this.container=document.getElementById("model-view");var i=new zI(13421772,1);i.position.set(0,3,0),this.scene.add(i);var o=new zI(16777215,1);o.position.set(1,1,1),this.scene.add(o);var a=new zI(16777215,1);a.position.set(-1,1,-1),this.scene.add(a);var s=new zI(16777215,1);s.position.set(0,-1,2),this.scene.add(s),this.scene.add(this.camera),this.renderer.gammaOutput=!0,this.renderer.gammaFactor=2.2,this.renderer.setClearColor(new ZI("lightgrey"),0),this.renderer.setSize(this.container.offsetWidth,this.container.offsetHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.outputEncoding=WI,this.mount.appendChild(this.renderer.domElement),this.arToolkitSource.init((function(){e.onResize()})),this.arToolkitContext.init((function(){e.camera.projectionMatrix.copy(e.arToolkitContext.getProjectionMatrix())})),window.addEventListener("resize",this.onResize),this.scene.add(this.root);var u,c=new QI,l=new YI;l.setDecoderPath("draco/"),c.setDRACOLoader(l);var h=[],f=function t(){e.threejsActive&&(u.update(e.clock.getDelta()),e.controls.update(e.root),h.forEach((function(e){e.play()})),e.arToolkitContext.update(e.arToolkitSource.domElement),e.renderer.render(e.scene,e.camera),requestAnimationFrame(t))};c.load(r,(function(t){var r=t.scene;r.scale.set(.25*n.scale,.25*n.scale,.25*n.scale),r.position.x+=n.pos.x,r.position.y+=n.pos.y,r.position.z+=n.pos.z,r.rotation.x+=n.rotAR.x,r.rotation.y+=n.rotAR.y,r.rotation.z+=n.rotAR.z,u=new $I(r),t.animations.forEach((function(e){var t=u.clipAction(e);n.looponce&&(t.setLoop(XI),t.clampWhenFinished=!0),h.push(t)})),e.root.add(r),e.setState({loading:!1}),f()}))}},{key:"componentWillUnmount",value:function(){this.threejsActive=!1,this.root.parent.dispose(),this.disposeRecursive(this.root),this.scene.dispose(),this.mount.removeChild(this.renderer.domElement),this.renderer.dispose(),this.scene=void 0,this.root=void 0,this.camera=void 0,this.renderer=void 0,this.controls=void 0,this.clock=void 0,this.arToolkitSource=void 0,this.arToolkitContext=void 0,this.markerControls=void 0,null!==document.getElementById("arjs-video")&&document.getElementById("arjs-video").remove(),window.removeEventListener("resize",this.onResize),window.removeEventListener("camera-error",this.handleCameraError)}},{key:"render",value:function(){var e=this,t=this.state.loading;return(0,cT.jsxs)("div",{id:"model-view",children:[t?(0,cT.jsx)(BI,{text:"LOADING-MODEL"}):(0,cT.jsx)(cT.Fragment,{}),(0,cT.jsx)("div",{ref:function(t){return e.mount=t}})]})}}]),n}(t.Component),aS=oS,sS=THREE,uS=sS.Scene,cS=sS.PerspectiveCamera,lS=sS.WebGLRenderer,hS=sS.sRGBEncoding,fS=sS.OrbitControls,dS=sS.Group,pS=sS.GLTFLoader,mS=sS.DRACOLoader,gS=sS.Clock,vS=sS.AnimationMixer,yS=sS.LoopOnce,bS=function(e){DI(n,e);var t=LI(n);function n(e){var r;return xI(this,n),(r=t.call(this,e)).disposeRecursive=function(e){void 0!==e.children&&e.children.forEach((function(e){r.disposeRecursive(e)})),void 0!==e.geometry&&e.geometry.dispose(),void 0!==e.material&&e.material.dispose()},r.onResize=function(){r.camera.aspect=r.container.offsetWidth/r.container.offsetHeight,r.camera.updateProjectionMatrix(),r.renderer.setSize(r.container.offsetWidth,r.container.offsetHeight)},r.state={loading:!0},r.scene=new uS,r.root=new dS,r.camera=new cS(75,window.innerWidth/window.innerHeight,.1,1e3),r.renderer=new lS({antialias:!0,preserveDrawingBuffer:!0,alpha:!0}),r.controls=new fS(r.camera,r.renderer.domElement),r.clock=new gS,r.threejsActive=!0,r}return OI(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.model,r=t.path;this.container=document.getElementById("model-view");var i=new THREE.DirectionalLight(16777215,2.5);i.position.set(0,1,3),this.scene.add(i);var o=new THREE.AmbientLight(16777215,.7);i.position.set(0,1,3),this.scene.add(o);var a=new THREE.HemisphereLight;this.scene.add(a),this.renderer.setClearColor(13421772,0),this.camera.position.z=2,this.camera.position.y=.5,this.scene.position.y=-.5,this.scene.add(this.camera),this.renderer.gammaOutput=!0,this.renderer.gammaFactor=2.2,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.outputEncoding=hS,this.renderer.toneMappingExposure=1,this.renderer.setSize(this.container.offsetWidth,this.container.offsetHeight),this.renderer.physicallyCorrectLights=!0,this.mount.appendChild(this.renderer.domElement),this.controls.zoomSpeed=.3,this.controls.rotateSpeed=.5,this.controls.panSpeed=.5,this.controls.enableDamping=!0,this.controls.dampingFactor=.05,this.controls.update(),window.addEventListener("resize",this.onResize,!1),this.scene.add(this.root);var s,u=new pS,c=new mS;c.setDecoderPath("draco/"),u.setDRACOLoader(c);var l=[],h=function t(){e.threejsActive&&(s.update(e.clock.getDelta()),e.controls.update(),l.forEach((function(e){e.play()})),e.renderer.render(e.scene,e.camera),requestAnimationFrame(t))};u.load(r,(function(t){var r=t.scene;r.scale.set(.25*n.scale,.25*n.scale,.25*n.scale),r.position.x+=n.pos.x,r.position.y+=n.pos.y,r.position.z+=n.pos.z,r.rotation.x+=n.rotNoAR.x,r.rotation.y+=n.rotNoAR.y,r.rotation.z+=n.rotNoAR.z,s=new vS(r),t.animations.forEach((function(e){var t=s.clipAction(e);n.looponce&&(t.setLoop(yS),t.clampWhenFinished=!0),l.push(t)})),e.root.add(r),e.setState({loading:!1}),h()}))}},{key:"componentWillUnmount",value:function(){this.threejsActive=!1,this.root.parent.dispose(),this.disposeRecursive(this.root),this.scene.dispose(),this.controls.dispose(),this.mount.removeChild(this.renderer.domElement),this.renderer.dispose(),this.scene=void 0,this.root=void 0,this.camera=void 0,this.renderer=void 0,this.controls=void 0,this.clock=void 0,window.removeEventListener("resize",this.onResize)}},{key:"render",value:function(){var e=this,t=this.state.loading;return(0,cT.jsxs)("div",{id:"model-view",className:"background",children:[t?(0,cT.jsx)(BI,{text:"LOADING-MODEL"}):(0,cT.jsx)(cT.Fragment,{}),(0,cT.jsx)("div",{ref:function(t){return e.mount=t}})]})}}]),n}(t.Component),_S=bS,wS=function(e){var t=e.onClick,n=e.icon,r=e.tabIndex;return(0,cT.jsx)("div",{className:"close-button",onClick:t,onKeyPress:t,role:"button",tabIndex:r,children:(0,cT.jsx)("img",{src:n,alt:""})})},kS=wS;wS.defaultProps={tabIndex:"0"};var ES=function(e){var t=e.hidden,n=e.onClick,r=e.src,i=e.alt,o=e.disabled,a=e.tabIndex;return(0,cT.jsx)(cT.Fragment,{children:o?(0,cT.jsx)("div",{className:aT("icon","disabled",t&&"hidden"),children:(0,cT.jsx)("img",{src:r,alt:i})}):(0,cT.jsx)("div",{className:aT("icon",t&&"hidden"),onClick:n,onKeyPress:n,role:"button",tabIndex:a,children:(0,cT.jsx)("img",{src:r,alt:i})})})},TS=ES;ES.defaultProps={hidden:!1,disabled:!1,tabIndex:"0",alt:""};var IS=function(e){var t=e.children,n=e.onToggleModal,r=e.title,i=e.onClickBackButton,o=e.backButtonHidden,a=e.isOpenDyslexicActive,s=e.large;return(0,cT.jsxs)("div",{className:aT("modal",s&&"large"),onClick:function(e){return e.stopPropagation()},children:[(0,cT.jsx)(kS,{onClick:n,icon:HT}),(0,cT.jsx)(TS,{src:sI,onClick:i,hidden:o}),(0,cT.jsxs)("div",{className:aT("modal-content",a&&"open-dyslexic"),children:[(0,cT.jsx)("div",{className:aT("modal-title",a&&"open-dyslexic"),children:r&&(0,cT.jsx)(uT,{values:{i:function(e){return(0,cT.jsx)("i",{children:e})}},id:r})}),(0,cT.jsx)("div",{className:aT("modal-text",a&&"open-dyslexic"),children:t})]})]})},SS=IS;IS.defaultProps={onClickBackButton:function(){},backButtonHidden:!0,title:"",large:!1};var NS=function(e){var t=e.onToggleModal,n=e.isOpenDyslexicActive;return(0,cT.jsx)(SS,{onToggleModal:t,isOpenDyslexicActive:n,children:(0,cT.jsxs)("div",{children:[(0,cT.jsx)("p",{children:(0,cT.jsx)(uT,{id:"CAMERA-NOT-ALLOWED"})}),(0,cT.jsx)("div",{className:"instruction-graphic",children:(0,cT.jsx)("img",{src:$T,alt:""})})]})})},CS=function(e){var t=e.onToggleModal,n=e.isOpenDyslexicActive;return(0,cT.jsx)(SS,{onToggleModal:t,isOpenDyslexicActive:n,children:(0,cT.jsx)("p",{children:(0,cT.jsx)(uT,{id:"CAMERA-NOT-AVAILABLE"})})})},AS=function(e){var n=e.onToggleModal,r=e.info,i=e.isOpenDyslexicActive,o=e.locale,a=r.name,s=r.desc,u=r.extra,c=r.descSimplified,l=SI((0,t.useState)("0"),2),h=l[0],f=l[1],d=SI((0,t.useState)(!1),2),p=d[0],m=d[1];return(0,cT.jsx)(SS,{onToggleModal:n,title:"0"===h?a:u[h].name,backButtonHidden:"0"===h&&!p,onClickBackButton:function(){f("0"),m(!1)},isOpenDyslexicActive:i,large:!0,children:(0,cT.jsxs)("div",{className:"info-modal-content",children:[(0,cT.jsx)("div",{className:aT((e_.LT!==o||void 0===c||"0"!==h)&&"hidden"),children:(0,cT.jsx)(uT,{id:"0"===h?p?c:s:u[h].desc,values:Object.keys(u).reduce((function(e,t){return e[t]=function(e){return(0,cT.jsx)("b",{children:(0,cT.jsx)("span",{onClick:function(e){e.stopPropagation(),f(t)},onKeyPress:function(e){e.stopPropagation(),f(t)},role:"button",tabIndex:"0"===h?"0":"-1",children:e})})},e}),{br:function(){return(0,cT.jsx)("br",{})},i:function(e){return(0,cT.jsx)("i",{children:e})},a:function(e){return(0,cT.jsx)("a",{href:e,children:e})},img:function(e){return(0,cT.jsx)("img",{src:e})}})})}),(0,cT.jsxs)("div",{className:aT((e_.LT!==o||void 0===c||"0"!==h||p)&&"hidden","easy-to-read-info-button"),onClick:function(){return m(!p)},onKeyPress:function(){return m(!p)},role:"button",tabIndex:"0",children:[(0,cT.jsx)("img",{alt:"",src:wI}),(0,cT.jsx)("div",{children:(0,cT.jsx)(uT,{id:"EASY-TO-READ-INFO"})})]})]})})};function xS(e){return function(e){if(Array.isArray(e))return TI(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||II(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var RS=function(e){var t=e.isFilled;return(0,cT.jsx)(cT.Fragment,{children:(0,cT.jsx)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",children:(0,cT.jsx)("polygon",{fill:t?"#1D1D1B":"none",stroke:"#1D1D1B",strokeWidth:"37.6152",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",points:" 259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08  29.274,197.007 188.165,173.919 "})})})},OS=RS;RS.defaultProps={isFilled:!1};var DS=function(e){var n=e.onToggleModal,r=G.default.firestore(),i=SI(t.useState(0),2),o=i[0],a=i[1],s=function(e){r.collection("feedback").add({stars:e,url:window.location.href,created_at:new Date})};return(0,cT.jsxs)("div",{className:"rate-wrapper",children:[(0,cT.jsx)("div",{className:"stars",children:xS(Array(5)).map((function(e,t){return(0,cT.jsx)("button",{type:"button",className:"btn btn-star",onClick:function(){a(t+1)},children:(0,cT.jsx)(OS,{isFilled:t<o})},e)}))}),(0,cT.jsx)("div",{type:"button",onClick:function(){s(o),n()},onKeyPress:function(){s(o),n()},role:"button",className:"submit-button",tabIndex:"0",children:(0,cT.jsx)(uT,{id:"BUTTON-LEAVE-FEEDBACK"})})]})},PS=function(e){var t=e.onToggleModal,n=e.isOpenDyslexicActive;return(0,cT.jsx)(SS,{onToggleModal:t,title:"MODAL-RATING-TITLE",isOpenDyslexicActive:n,children:(0,cT.jsx)(DS,{onToggleModal:t})})},jS=function(e){var t=e.onToggleModal,n=e.isOpenDyslexicActive;return(0,cT.jsx)(SS,{onToggleModal:t,title:"INSTRUCTIONS-TITLE",isOpenDyslexicActive:n,large:!0,children:(0,cT.jsxs)("div",{children:[(0,cT.jsxs)("p",{children:[(0,cT.jsx)(uT,{id:"INSTRUCTIONS-TEXT-1",defaultMessage:"Grant the browser permission to use your devices camera."}),(0,cT.jsx)("br",{}),(0,cT.jsx)(uT,{id:"INSTRUCTIONS-TEXT-2",defaultMessage:"Scan the black and white marker."})]}),(0,cT.jsx)("div",{className:"instruction-graphic",children:(0,cT.jsx)("img",{src:YT,alt:""})}),(0,cT.jsx)("p",{className:"title",children:(0,cT.jsx)(uT,{id:"INSTRUCTIONS-TEXT-3",defaultMessage:"OR"})}),(0,cT.jsxs)("div",{children:[(0,cT.jsx)(uT,{id:"INSTRUCTIONS-TEXT-4",defaultMessage:"Click on the"}),(0,cT.jsx)("span",{className:"text-icon",children:(0,cT.jsx)("img",{src:eI,alt:""})}),(0,cT.jsx)(uT,{id:"INSTRUCTIONS-TEXT-5",defaultMessage:"icon and the 3D models will be displayed on your devices screen without using the camera."})]}),(0,cT.jsx)("div",{className:"instruction-graphic",children:(0,cT.jsx)("img",{src:JT,alt:""})})]})})},MS=function(e){var t=e.toggleIsInfoModalOpen,n=e.onPlaySound,r=e.onStopSound,i=e.isSoundPlaying,o=e.isArActive,a=e.toggleIsArActive,s=e.isArDisabled,u=e.locale,c=e.switchToEn,l=e.switchToLt,h=e.isLoading,f=e.toggleIsSideMenuActive;return(0,cT.jsxs)("div",{className:"footer",children:[(0,cT.jsx)(TS,{onClick:f,src:zT,alt:"Meniu"}),(0,cT.jsx)(TS,{onClick:t,src:VT,alt:"Info"}),(0,cT.jsx)(TS,{onClick:function(){return n(u)},src:WT,alt:"Paleisti garso \u012fra\u0161\u0105",hidden:i}),(0,cT.jsx)(TS,{onClick:r,src:KT,alt:"Sustabdyti garso \u012fra\u0161\u0105",hidden:!i}),(0,cT.jsx)(TS,{onClick:a,src:UT,alt:"\u012ejungti AR",hidden:o,disabled:s||h}),(0,cT.jsx)(TS,{onClick:a,src:BT,alt:"I\u0161jungti AR",hidden:!o,disabled:h}),(0,cT.jsx)(TS,{onClick:c,src:qT,alt:"Kalbos pasirinkimas",hidden:u!==e_.LT}),(0,cT.jsx)(TS,{onClick:l,src:GT,alt:"Kalbos pasirinkimas",hidden:u!==e_.EN})]})},LS=function(e){var t=e.isListActive,n=e.isSideMenuActive,r=e.setIsListActive,i=YE();return(0,cT.jsxs)(cT.Fragment,{children:[(0,cT.jsx)(hT,{className:aT("button",t&&"up"),text:"BUTTON-3D-MODELS",onClick:function(){return r(!t)},tabIndex:n?"0":"-1"}),(0,cT.jsx)(hT,{className:aT("button",t&&"down"),text:"BUTTON-INSTRUCTIONS",onClick:function(){return i.push("/faq",{from:"model-view",previous:i.location.pathname})},tabIndex:n?"0":"-1"}),(0,cT.jsx)(hT,{className:aT("button",t&&"down"),text:"BUTTON-IGEM-INFO",onClick:function(){return i.push("/whatsigem",{from:"model-view",previous:i.location.pathname})},tabIndex:n?"0":"-1"}),(0,cT.jsx)(hT,{className:aT("button",t&&"down"),text:"BUTTON-6SYNBIO-INFO",onClick:function(){return i.push("/whats6thsense",{from:"model-view",previous:i.location.pathname})},tabIndex:n?"0":"-1"}),(0,cT.jsxs)("div",{className:aT("icon-group",t&&"down"),children:[(0,cT.jsx)(LT,{to:"https://www.facebook.com/VilniusiGEM",src:rI,alt:""}),(0,cT.jsx)(LT,{to:"https://www.instagram.com/igem_vilnius/",src:iI,alt:""}),(0,cT.jsx)(LT,{to:"https://www.linkedin.com/company/vilnius-igem/",src:oI,alt:""})]})]})},FS=function(e){var t=e.to,n=e.text,r=e.tabIndex,i=e.isOpenDyslexicActive,o=YE();return(0,cT.jsxs)("li",{children:[(0,cT.jsx)("div",{className:"bulletpoint",children:(0,cT.jsx)("img",{src:aI,alt:""})}),(0,cT.jsx)("div",{className:aT("link",i&&"open-dyslexic"),onClick:function(){return o.push(t)},onKeyPress:function(){return o.push(t)},role:"button",tabIndex:r,children:(0,cT.jsx)(uT,{id:n})})]})},US=FS;FS.defaultProps={tabIndex:"0"};var BS=function(e){var t=e.isListActive,n=e.isSideMenuActive,r=e.isOpenDyslexicActive;return(0,cT.jsx)("div",{className:aT("list",t&&"active"),children:(0,cT.jsx)("ul",{children:fT.list.map((function(e){return(0,cT.jsx)(US,{to:e.path,text:e.name,tabIndex:t&&n?"0":"-1",isOpenDyslexicActive:r},e.name)}))})})},VS=function(e){var n=e.isSideMenuActive,r=e.setIsSideMenuActive,i=e.isOpenDyslexicActive,o=SI((0,t.useState)(!1),2),a=o[0],s=o[1],u=YE(),c=(0,t.useRef)();return function(e,n){(0,t.useEffect)((function(){var t=function(t){e.current&&!e.current.contains(t.target)&&n(t)};return document.addEventListener("mouseup",t),document.addEventListener("touchstart",t),function(){document.removeEventListener("mouseup",t),document.removeEventListener("touchstart",t)}}),[])}(c,(function(){s(!1),r()})),(0,cT.jsxs)("div",{className:aT("side-menu",n&&"open",i&&"open-dyslexic"),ref:c,children:[(0,cT.jsx)(kS,{onClick:function(){s(!1),r()},icon:nI,tabIndex:n?"0":"-1"}),(0,cT.jsx)("div",{className:"logo",onClick:function(){return u.push("/")},onKeyPress:function(){return u.push("/")},role:"button",tabIndex:n?"0":"-1",children:(0,cT.jsx)("img",{src:tI,alt:""})}),(0,cT.jsx)(LS,{isListActive:a,setIsListActive:s,isSideMenuActive:n}),(0,cT.jsx)(BS,{isListActive:a,isSideMenuActive:n,isOpenDyslexicActive:i})]})},qS=VS,zS={dna:dT,synbio:pT,antibiotic:mT,translation:gT,crispr:vT,virus:yT,rna:bT,vaccines:_T,bioit:wT,gmo:kT,transformation:xT,gfpNew:RT,transformationElectroporation:OT},GS={dna:dT,synbio:pT,antibiotic:mT,translation:gT,crisprcas9:vT,virus:yT,rna:bT,vaccines:_T,bioit:wT,gmo:AT,biobrick:ET,circuit:TT,ecoli:IT,gfp:ST,nano:NT,sequencing:CT,transformation:xT,transformationElectroporation:OT},KS=function(e){DI(n,e);var t=LI(n);function n(e){var r;return xI(this,n),(r=t.call(this,e)).onPlaySound=function(e){r.toggleIsRatingModalOpen(!1);var t=r.state,n=t.audioLT,i=t.audioEN;switch(n.addEventListener("ended",r.onStopSound),i.addEventListener("ended",r.onStopSound),e){case e_.LT:n.play();break;case e_.EN:i.play()}r.setState({isSoundPlaying:!0})},r.onStopSound=function(){var e=r.state,t=e.audioLT,n=e.audioEN,i=e.meta.info,o=i.lt,a=i.en;t.pause(),n.pause(),r.toggleIsRatingModalOpen(!0),r.setState({isSoundPlaying:!1,audioLT:new Audio(o.audioRec),audioEN:new Audio(a.audioRec)})},r.toggleIsRatingModalOpen=function(e){var t=r.state.isRatingModalOpen,n=r.props.disableShowInstructionModal;r.setState({isRatingModalOpen:void 0===e?!t:e,isCameraNotAllowedModalOpen:!1,isCameraNotAvailableModalOpen:!1,isInfoModalOpen:!1}),n()},r.toggleIsInfoModalOpen=function(e){var t=r.state.isInfoModalOpen,n=r.props.disableShowInstructionModal;r.setState({isInfoModalOpen:!t,isCameraNotAllowedModalOpen:!1,isCameraNotAvailableModalOpen:!1}),n(),t||e.stopPropagation()},r.renderModelViewer=function(){var e=r.state,t=e.isCameraNotAllowed,n=e.meta,i=r.props,o=i.locale,a=i.isArActive;return o===e_.LT?a&&!t?(0,cT.jsx)(aS,{model:n.model,path:n.info.lt.path},e_.LT):(0,cT.jsx)(_S,{model:n.model,path:n.info.lt.path},e_.LT):a&&!t?(0,cT.jsx)(aS,{model:n.model,path:n.info.en.path},e_.EN):(0,cT.jsx)(_S,{model:n.model,path:n.info.en.path},e_.EN)},r.clearModals=function(){var e=r.props.disableShowInstructionModal;r.setState({isInfoModalOpen:!1,isCameraNotAllowedModalOpen:!1,isCameraNotAvailableModalOpen:!1,isRatingModalOpen:!1}),e()},r.state={isInfoModalOpen:!1,isRatingModalOpen:!1,isSoundPlaying:!1,isLoading:!0,isCameraNotAllowed:!1,isSideMenuActive:!1,isCameraNotAllowedModalOpen:!1,isCameraNotAvailableModalOpen:!1,meta:{}},r}return OI(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.modelid,n=this.props.location,r=n.pathname,i=n.search,o="/ar.html"===r?GS[function(e,t){for(var n=t.substring(1).split("&"),r=0;r<n.length;r+=1){var i=n[r].split("=");if(decodeURIComponent(i[0])===e)return decodeURIComponent(i[1])}}("model",i)]:zS[t],a=o.info,s=a.lt,u=a.en;this.setState({audioLT:new Audio(s.audioRec),audioEN:new Audio(u.audioRec)});var c=this.props.setIsArActive;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({video:!0}).then((function(){e.setState({isLoading:!1,meta:o})})).catch((function(){e.setState({isLoading:!1,isCameraNotAllowed:!0,isCameraNotAllowedModalOpen:!0,meta:o}),c(!1)})):(this.setState({isLoading:!1,isCameraNotAllowed:!0,isCameraNotAvailableModalOpen:!0,meta:o}),c(!1))}},{key:"componentWillUnmount",value:function(){var e=this.state,t=e.audioLT,n=e.audioEN;t.pause(),n.pause()}},{key:"render",value:function(){var e=this,t=this.state,n=t.isSoundPlaying,r=t.isInfoModalOpen,i=t.isRatingModalOpen,o=t.isLoading,a=t.isCameraNotAllowed,s=t.isSideMenuActive,u=t.isCameraNotAllowedModalOpen,c=t.isCameraNotAvailableModalOpen,l=t.meta,h=this.props,f=h.locale,d=h.isArActive,p=h.setIsArActive,m=h.isOpenDyslexicActive,g=h.setLocale,v=h.showInstructionModal,y=h.disableShowInstructionModal;return(0,cT.jsxs)("div",{className:"model-view",onClick:this.clearModals,children:[o?(0,cT.jsx)(BI,{text:"LOADING-CAMERA"}):(0,cT.jsx)(cT.Fragment,{children:this.renderModelViewer()}),(0,cT.jsx)(MS,{toggleIsInfoModalOpen:this.toggleIsInfoModalOpen,isSoundPlaying:n,onPlaySound:this.onPlaySound,onStopSound:this.onStopSound,isArActive:d,toggleIsArActive:function(){return p(!d)},isArDisabled:a,switchToEn:function(){g(e_.EN)},switchToLt:function(){g(e_.LT)},locale:f,isLoading:o,toggleIsSideMenuActive:function(){return e.setState({isSideMenuActive:!s})}}),r&&(0,cT.jsx)(AS,{onToggleModal:this.toggleIsInfoModalOpen,info:l.info,isOpenDyslexicActive:m,locale:f}),i&&(0,cT.jsx)(PS,{onToggleModal:function(){return e.toggleIsRatingModalOpen(!1)},isOpenDyslexicActive:m}),v&&(0,cT.jsx)(jS,{onToggleModal:y,isOpenDyslexicActive:m}),!v&&u&&(0,cT.jsx)(NS,{onToggleModal:function(){return e.setState({isCameraNotAllowedModalOpen:!1})},isOpenDyslexicActive:m}),!v&&c&&(0,cT.jsx)(CS,{onToggleModal:function(){return e.setState({isCameraNotAvailableModalOpen:!1})},isOpenDyslexicActive:m}),(0,cT.jsx)(qS,{setIsSideMenuActive:function(){return e.setState({isSideMenuActive:!1})},isSideMenuActive:s,isOpenDyslexicActive:m})]})}}]),n}(t.Component),WS=q((function(e){return{locale:e.locale,isOpenDyslexicActive:e.isOpenDyslexicActive,showInstructionModal:e.showInstructionModal,isArActive:e.isArActive}}),(function(e){return{setLocale:function(t){return e(sw(t))},disableShowInstructionModal:function(){return e({type:Zb.z9})},setIsArActive:function(t){return e(function(e){return{type:Zb.Qj,payload:e}}(t))}}}))(KS),HS=function(e){var t=e.checked,n=e.onClick,r=e.tabIndex;return(0,cT.jsx)("div",{className:"checkbox",onClick:n,onKeyPress:n,role:"button",tabIndex:r,children:t?(0,cT.jsx)("img",{src:bI,alt:""}):(0,cT.jsx)("img",{src:_I,alt:""})})},QS=HS;HS.defaultProps={tabIndex:"0"};var YS=q(null,(function(e){return{setShowCookieConsent:function(t){return e(function(e){return{type:Zb.k$,payload:e}}(t))},setGoogleAnalytics:function(t){return e(function(e){return{type:Zb.Ur,payload:e}}(t))}}}))((function(e){var n=e.setShowCookieConsent,r=e.setGoogleAnalytics,i=SI((0,t.useState)(!0),2),o=i[0],a=i[1],s=YE();return(0,cT.jsxs)("div",{className:"cookieconsent",children:[(0,cT.jsx)("div",{className:"text",children:(0,cT.jsx)(uT,{id:"COOKIE-TEXT",values:{a:function(e){return(0,cT.jsx)("span",{className:"color clickable",onClick:function(){s.push("/privacypolicy")},onKeyPress:function(){s.push("/privacypolicy")},role:"button",tabIndex:"0",children:e})}}})}),(0,cT.jsxs)("div",{className:"flex checkboxes",children:[(0,cT.jsxs)("div",{className:"checkbox-group",children:[(0,cT.jsx)(QS,{onClick:function(){},checked:!0}),(0,cT.jsx)(uT,{id:"COOKIE-REQUIRED"})]}),(0,cT.jsxs)("div",{className:"checkbox-group clickable",onClick:function(){a(!o)},onKeyPress:function(){a(!o)},role:"button",tabIndex:"0",children:[(0,cT.jsx)(QS,{onClick:function(){},checked:o}),(0,cT.jsx)(uT,{id:"COOKIE-ANALYTICAL"})]})]}),(0,cT.jsxs)("div",{className:"flex",children:[(0,cT.jsx)(hT,{className:"button",onClick:function(){n(!1),r(o)},text:"ALLOW"}),(0,cT.jsx)(kS,{onClick:function(){n(!1),r(!1)},icon:HT})]})]})})),JS=function(e){var n=e.children,r=SI((0,t.useState)(0),2),i=r[0],o=r[1];return(0,cT.jsxs)("div",{className:"pagination",children:[(0,cT.jsx)("div",{className:aT("left-arrow",(!Array.isArray(n)||0===i)&&"hidden"),tabIndex:"0",role:"button",onClick:function(){return o(i-1)},onKeyPress:function(){return o(i-1)},children:(0,cT.jsx)("img",{src:cI,alt:"<"})}),(0,cT.jsx)("div",{className:"pagination-content",children:Array.isArray(n)?t.cloneElement(n[i],{setcurrentscreen:o}):t.cloneElement(n,{setcurrentscreen:o})}),(0,cT.jsx)("div",{className:aT("right-arrow",(!Array.isArray(n)||i===n.length-1)&&"hidden"),tabIndex:"0",role:"button",onClick:function(){return o(i+1)},onKeyPress:function(){return o(i+1)},children:(0,cT.jsx)("img",{src:uI,alt:">"})})]})},$S=function(e){var n=e.children,r=e.title,i=e.isOpenDyslexicActive,o=e.setcurrentscreen,a=YE();return(0,cT.jsxs)("div",{className:"modal",children:[(0,cT.jsx)(kS,{onClick:function(){void 0!==a.location.state&&"model-view"===a.location.state.from?a.push(a.location.state.previous,{from:"faq"}):a.push("/",{from:"faq"})},icon:nI}),(0,cT.jsx)("div",{className:"modal-title",children:(0,cT.jsx)(uT,{id:r,values:{c:function(e){return(0,cT.jsx)("span",{className:"color",children:e})}}})}),(0,cT.jsx)("div",{className:aT("modal-content",i&&"open-dyslexic"),children:t.cloneElement(n,{setcurrentscreen:o})})]})},XS=$S;$S.defaultProps={setcurrentscreen:function(){}};var ZS=function(e){var t=e.isOpenDyslexicActive,n=e.setcurrentscreen;return(0,cT.jsx)(XS,{title:"FAQ-1-TITLE",isOpenDyslexicActive:t,children:(0,cT.jsxs)(cT.Fragment,{children:[(0,cT.jsx)("div",{className:"instruction-graphic-square",children:(0,cT.jsx)("img",{src:XT,alt:""})}),(0,cT.jsx)("div",{children:(0,cT.jsx)(uT,{id:"FAQ-1-CONTENT-1",values:{c:function(e){return(0,cT.jsx)("span",{className:"color clickable",onClick:function(){return n(1)},onKeyPress:function(){return n(1)},role:"button",tabIndex:"0",children:e})}}})}),(0,cT.jsx)("div",{className:"instruction-graphic-square",children:(0,cT.jsx)("img",{src:ZT,alt:""})}),(0,cT.jsx)("div",{children:(0,cT.jsx)(uT,{id:"FAQ-1-CONTENT-2",values:{c:function(e){return(0,cT.jsx)("span",{className:"color",children:e})}}})})]})})},eN=function(e){var t=e.isOpenDyslexicActive;return(0,cT.jsx)(XS,{title:"FAQ-2-TITLE",isOpenDyslexicActive:t,children:(0,cT.jsxs)(cT.Fragment,{children:[(0,cT.jsx)("div",{className:"instruction-graphic",children:(0,cT.jsx)("img",{src:JT,alt:""})}),(0,cT.jsx)(uT,{id:"FAQ-2-CONTENT",values:{camera:function(){return(0,cT.jsx)("span",{className:"text-icon",children:(0,cT.jsx)("img",{src:eI,alt:""})})}}})]})})},tN=function(e){var t=e.isOpenDyslexicActive;return(0,cT.jsx)(XS,{title:"FAQ-3-TITLE",isOpenDyslexicActive:t,children:(0,cT.jsxs)("div",{className:"modal-grid",children:[(0,cT.jsx)("img",{src:pI,alt:""}),(0,cT.jsx)("div",{className:"text-align-left",children:(0,cT.jsx)(uT,{id:"FAQ-3-CONTENT-1",values:{info:function(){return(0,cT.jsx)("span",{className:"text-icon",children:(0,cT.jsx)("img",{src:dI,alt:""})})},sound:function(){return(0,cT.jsx)("span",{className:"text-icon",children:(0,cT.jsx)("img",{src:fI,alt:""})})}}})}),(0,cT.jsx)("img",{src:gI,alt:""}),(0,cT.jsx)("div",{className:"text-align-left",children:(0,cT.jsx)(uT,{id:"FAQ-3-CONTENT-2",values:{info:function(){return(0,cT.jsx)("span",{className:"text-icon",children:(0,cT.jsx)("img",{src:dI,alt:""})})},sound:function(){return(0,cT.jsx)("span",{className:"text-icon",children:(0,cT.jsx)("img",{src:fI,alt:""})})}}})}),(0,cT.jsx)("img",{src:mI,alt:""}),(0,cT.jsx)("div",{className:"text-align-left",children:(0,cT.jsx)(uT,{id:"FAQ-3-CONTENT-3",values:{info:function(){return(0,cT.jsx)("span",{className:"text-icon",children:(0,cT.jsx)("img",{src:dI,alt:""})})},sound:function(){return(0,cT.jsx)("span",{className:"text-icon",children:(0,cT.jsx)("img",{src:fI,alt:""})})}}})})]})})},nN=function(e){var t=e.isOpenDyslexicActive;return(0,cT.jsx)(XS,{title:"FAQ-4-TITLE",isOpenDyslexicActive:t,children:(0,cT.jsx)("div",{className:"text-align-left",children:(0,cT.jsx)(uT,{id:"FAQ-4-CONTENT",values:{menu:function(){return(0,cT.jsx)("span",{className:"text-icon",children:(0,cT.jsx)("img",{src:vI,alt:""})})},models:function(){return(0,cT.jsx)("span",{className:"text-icon long",children:(0,cT.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJQAAAAiCAYAAAC5r/C8AAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AYht+2lopUFOwg4pChioMF/xBHrUIRKoRaoVUHk0v/oElDkuLiKLgWHPxZrDq4OOvq4CoIgj8gbm5Oii5S4ndJoUWMdxz38N73vtx9B/jrZaaaHWOAqllGKhEXMtlVIfSKIM1ejGBcYqY+J4pJeI6ve/j4fhfjWd51f45uJWcywCcQzzLdsIg3iKc3LZ3zPnGEFSWF+Jx41KALEj9yXXb5jXPBYT/PjBjp1DxxhFgotLHcxqxoqMRTxFFF1Sjfn3FZ4bzFWS1XWfOe/IXhnLayzHVag0hgEUsQIUBGFSWUYSFGu0aKiRSdxz38A45fJJdMrhIYORZQgQrJ8YP/we/emvnJCTcpHAeCL7b9MQSEdoFGzba/j227cQIEnoErreWv1IGZT9JrLS16BPRsAxfXLU3eAy53gP4nXTIkRwrQ8ufzwPsZfVMW6LsFutbcvjXPcfoApKlXyRvg4BAYLlD2use7O9v79m9Ns38/i6NysY7k9f4AAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQflBQUQKxriV/iwAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAACBZJREFUeNrtnHtUk/cZx78J4CESkXCRi0xBoqVcHJZ5bZ2nYY6WMabFY0CEFUU2NxixLk4KHdjaMttjgQMdjFHswSFoYK7APLUc02IVBRvEchNISqjAwDCIg5c3k0v2R09yeEnQBAgOfT/nvP/8zvO75OH7e37P7wl5GQCcADCnP1fyMgLcVjr7cZaxvVmWlt4W5mb2oHlmGRufUJAqsnlomGiW9/zrTkCs4AqAyekPA4DLFCGZvRd/aNVvw0M/tLK0fIF2I81MECpV/UfFZW+8mfXX7wBMTBWUq0ZMd0QFYV5r3JMYDIYV7TKax6FWq4lmqfwdP370BY2oGABWATBrKvskwtPd7R3aTTTGcrdT/pZP6OtFACbMAHDSBL92C9mxLYfBYFjQ7qExFjsb6y1Ll7L+eeXm1w8YlpaWa/rF/xDRORPNHHMqiSNv116zc+8mB/zwOW4C7RKaubDE3NzFc5XrNaY3130D7Q6a+cCb676B6cDh+C3EZIohJcR1ElRUX4e8t09/2CRJNEk7tc9MdouBvLJyiOsks+or7+3DkQ+yFt1nduBw/JhsNsvkghLXSeAcsAtXJXfQ3tUNvjAFpwvP69h19vTBb2+09uEGh2FzxK9wuvA8CJJcVM5t/bYLfQODs+o7Mkoiq7hs0QmKzWb5MZeYW7iYcpImaScSM/MgrSxB6uEDOBrFhzg/A9WSBr07OD48FOP1X2qfj08cR3f/ffBiBIs6Ys0VeW/fnDaVYkgJxZDSxHmUhQvT1I74pl2Kg6/9DG4uTto2KxYLh14LRkV1zWP7+3DdkS6Mx95AHvjClEUXqeYLvjAFn35xbdb9Pyr5O97LP2vydZqbeoJ9QTv1isCKZWnUOEej+Ojuv49cUTmORvGfOUFVZp+CA8dm1v2Fr4cvyDrNF2ISKxZLp62iugYbvT2NGifslQC8+MvfPFJQiiElCFIFB85y1Da2oG9gENv8fLURUjGkxM1vmgEAW9Z7z/hHkvf2obFDhmFiFOvXceHDdX/kcdTYIXvsmBpqG1sgu9cDJ3tb+K71MEgoBKkCoNSx1VxkZPd64PGDldjs6wWCJNHZ00dZ86jqvyBIld6/xXzCXMhdphhSoknaidScAgDAL15+yaj+Ggc1STtntKm6cQsncs8gLi0D0ns9GCFJ7SWgtrEFx9JzMEyMor2rG84Bu3TyOIIkkZpTAL4wBe1d3RghSbyZlYeQhES9OdzpwvNa22FiFMfSc5BXVj6j8EISElHy2RUAwO27UgTH/cGg22BmkQhVN27pjMeLESBX9CkA4NrtRkT/MQ3iunr47Y3W8UtmkejpiFAaGjtkqKiuQVZxGS6mv2v0bjHUvkUmhzg/Q2v/062bwA0OQ/KhKJx5O1Frt261KzKKSsHb5K9tS87Oh3J4hNI/NjREK5yp7ecuVaFa0kA5jvYF7cS5S1WoaWiiRGCCJPG7U5kQROyhzBf6kx3gC1Pw8Ynjj4yC+kosfGEKEiL2YF/QTsqmPZh66okdzQsaoXib/JEujIe0sgQn8wpRUX3dqP6GJuTb/Hwo4nNzcUJkcCBefWkLxW7Lem9c+uoGZcdnFZfh/SOHdcR7NIoPR3tbiOvqp0SNUggi9ugcQ/uCdsLR3nZa6aQeHq4uFDFp1paWEIvSqi+MLMXUw9HeliKm72tBNhBE7HligjJ/EpNqnJhRVIqf73jR4H61jS3wf/45o3ayBptlbB2RTBdCY4cMkcGBM+Y0YYE8SFratGuWtLbBd62HXtsd/tTyXntXN2TdvXoLlsrhEbTI5Eg9fMDgzzNMjOrMoWGmNS16QREkCXFdvV7RrLC1pUQHQ8bKKCpFggl33+NuniMkiWVWs/9XsbBAnk5Eedow6ZGnGHqA3UeS9BbU7g8OImj7VoPFFJeWAbvl1kYn8sbgu9YDZysv602+CZJE5dUb2ODJ1bYFbd+qkyhrbC9cFlPaNnhyUTKtzdijfCpO9ra4cFmst6++NT0VgnJzcUJ8eCiOpedQRKWpnocF8h7ZX97bh4rq6wg//jYAIDtRYNJrrwPHBn9OegMncs9QREWQJD74pBh2y60pOVBSTCQyi0opt06CJJErKtebP9ott9b5GkkxpERcWobR+SRvkz+8PNyQKyqnjNck7ZxRuE9FDnUyLga5onI4B+xC0Pat6B8YhKS1DYUnk/SG/6ziMsr3WPHhoTo3I1MSGxoCNosFvjAFXh5usFnGRlZxGU4JDiM7UUCx3ezrhbSEWBxM+ZPWVtbdi6SYSHT339cZOztRgFxROXgxAmzz8wEA1DQ0ITk2yqhccup4ydn52vGUwyNY7eyIpJhIo9KJ+YQxXv+leiEm0hTbAMB9pZPJC2zzgSbyGLJeja0hF4apvpjNBUNffa//30NwtOPMqZq+qARF82zAHJ+YGKDdQDMfjE9MDDBJlaqVdgXNfECqVK1M5QhBC4pmXlCOEK3M/oHBFtoVNPNB/8BgC1P44V+qVA/H2mh30MwF1cOHHYL07M+ZX92+PVry2ecCtVo9RruFZjao1eqxs+WX42/WN5Han6Lfvfi3A9zVrsm0e2iMRdrVfdJz9/4CABNMfP/WjAnP3fsLWr/9LlmtVhO0i2gMYXJy8j8NbVKhRkwAJs0AsDUGORcuNluYWVS88Pw6ryUW5q60y2hmghhV1b6Vlb8/OiXtFqa9zkfvC8fSfx+/5sc/Wr955YoVG63ZSzea+udWNP/fjI2P9z4YJr7uHVDcuipprBW8nymDnheO/Q89IYLRFLAYnAAAAABJRU5ErkJggg==",alt:""})})},camera:function(){return(0,cT.jsx)("span",{className:"text-icon",children:(0,cT.jsx)("img",{src:eI,alt:""})})},br:function(){return(0,cT.jsx)("br",{})}}})})})},rN=function(e){var t=e.isOpenDyslexicActive;return(0,cT.jsx)(XS,{title:"FAQ-5-TITLE",isOpenDyslexicActive:t,children:(0,cT.jsx)(cT.Fragment,{children:["FAQ-5-CONTENT-1","FAQ-5-CONTENT-2","FAQ-5-CONTENT-3","FAQ-5-CONTENT-4","FAQ-5-CONTENT-5","FAQ-5-CONTENT-6"].map((function(e){return(0,cT.jsx)("div",{className:"text-align-left",children:(0,cT.jsx)(uT,{id:e,values:{c:function(e){return(0,cT.jsx)("span",{className:aT("subtitle",t&&"open-dyslexic"),children:e})},br:function(){return(0,cT.jsx)("br",{})},camera:function(){return(0,cT.jsx)("span",{className:"text-icon",children:(0,cT.jsx)("img",{src:eI,alt:""})})}}})},e)}))})})},iN=function(e){var t=e.isOpenDyslexicActive;return(0,cT.jsx)(XS,{title:"WHATSIGEM-TITLE",isOpenDyslexicActive:t,children:(0,cT.jsx)(uT,{id:"WHATSIGEM-CONTENT",values:{br:function(){return(0,cT.jsx)("br",{})},c:function(e){return(0,cT.jsx)("a",{href:"https://vilniusigem.lt/",children:e})}}})})},oN=function(e){var t=e.isOpenDyslexicActive,n=YE();return(0,cT.jsx)(XS,{title:"WHATS6THSENSE-TITLE",isOpenDyslexicActive:t,children:(0,cT.jsx)(uT,{id:"WHATS6THSENSE-CONTENT",values:{br:function(){return(0,cT.jsx)("br",{})},c:function(e){return(0,cT.jsx)("span",{className:"color clickable",onClick:function(){return n.push("/faq")},onKeyPress:function(){return n.push("/faq")},role:"button",tabIndex:"0",children:e})}}})})},aN=function(e){var t=e.isOpenDyslexicActive,n=YE();return(0,cT.jsx)(XS,{title:"PRIVACY-POLICY-TITLE",isOpenDyslexicActive:t,children:(0,cT.jsx)(uT,{id:"PRIVACY-POLICY-CONTENT",values:{br:function(){return(0,cT.jsx)("br",{})},i:function(e){return(0,cT.jsx)("i",{children:e})},a1:function(e){return(0,cT.jsx)("span",{className:"color clickable",onClick:function(){return n.push("/")},onKeyPress:function(){return n.push("/")},role:"button",tabIndex:"0",children:e})},a2:function(e){return(0,cT.jsx)("a",{href:"https://policies.google.com/privacy?hl=en",target:"_blank",rel:"noreferrer",children:e})},a3:function(e){return(0,cT.jsx)("a",{href:"https://www.allaboutcookies.org/cookies/",target:"_blank",rel:"noreferrer",children:e})},a4:function(e){return(0,cT.jsx)("a",{href:"mailto:it@vilniusigem.lt",children:e})},c:function(e){return(0,cT.jsx)("span",{className:"color",children:e})}}})})},sN=function(e){var t=e.isOpenDyslexicActive;return(0,cT.jsx)(XS,{title:"FOR-SCHOOLS-TITLE",isOpenDyslexicActive:t,children:(0,cT.jsxs)(cT.Fragment,{children:["Vilnius-Lithuania iGEM 2021 komanda kvie\u010dia ",(0,cT.jsx)("span",{className:"color",children:"papildyti ugdymo turin\u012f"}),", susijus\u012f su molekulin\u0117s biologijos pagrindais, biotechnologijomis, in\u017einerija, imunitetu, mikroorganizmais bei nagrin\u0117ti su COVID-19 pandemija susijusias aktualijas pasitelkiant m\u016bs\u0173 kurtus",(0,cT.jsx)("span",{className:"color",children:" papildytos realyb\u0117s modelius"}),".",(0,cT.jsx)("br",{}),(0,cT.jsx)("br",{}),(0,cT.jsx)("span",{className:"color",children:(0,cT.jsx)("b",{children:"Informacinis paketas"})}),(0,cT.jsx)("br",{}),"Kad b\u016bt\u0173 lengviau \u012ftraukti nauj\u0105 \u012frank\u012f \u012f mokyklos kasdienyb\u0119, paruo\u0161\u0117me Informacin\u012f paket\u0105, kuriame trumpai apra\u0161ytas kiekvienas modelis bei nurodomos temos, kurioms paai\u0161kinti galima pasitelkti konkret\u0173 model\u012f. Spauskite",(0,cT.jsx)("a",{href:"../assets/informacija.pdf",target:"_blank",rel:"noreferrer",children:"\xa0\u010dia"}),", kad atidarytum\u0117te.",(0,cT.jsx)("br",{}),(0,cT.jsx)("br",{}),(0,cT.jsx)("span",{className:"color",children:(0,cT.jsx)("b",{children:"Pamok\u0173 planai"})}),(0,cT.jsx)("br",{}),"Taip pat visus modelius galima suskirstyti \u012f 3 pagrindines temas - sintetin\u0117 biologija, DNR ir RNR reik\u0161m\u0117 baltym\u0173 sintez\u0117je, imunitetas. Kiekvienai i\u0161 \u0161i\u0173 tem\u0173 paruo\u0161\u0117me pamok\u0173 planus. \u012evado \u012f sintetin\u0119 biologij\u0105 planas yra i\u0161samesnis, kartu prid\u0117tas konspektas, praktin\u0117 u\u017eduotis.",(0,cT.jsx)("br",{}),(0,cT.jsx)("br",{}),"Pamokos DNR ir RNR reik\u0161m\u0117 baltym\u0173 sintez\u0117je planas (atsisi\u0173sti",(0,cT.jsx)("a",{href:"../assets/dnr_rnr_pamoka.pdf",target:"_blank",rel:"noreferrer",children:"\xa0\u010dia"}),"), iliustracijos (atsisi\u0173sti ",(0,cT.jsx)("a",{href:"../assets/dnr_rnr_iliustracijos.zip",target:"_blank",rel:"noreferrer",children:"\u010dia"}),").",(0,cT.jsx)("br",{}),(0,cT.jsx)("br",{}),"Pamokos Imunitetas ir biotechnologijos planas (atsisi\u0173sti",(0,cT.jsx)("a",{href:"../assets/imunitetas_pamoka.pdf",target:"_blank",rel:"noreferrer",children:"\xa0\u010dia"}),"), iliustracijos (atsisi\u0173sti",(0,cT.jsx)("a",{href:"../assets/imunitetas_iliustracijos.zip",target:"_blank",rel:"noreferrer",children:"\xa0\u010dia"}),").",(0,cT.jsx)("br",{}),(0,cT.jsx)("br",{}),"Pamokos \u012evadas \u012f sintetin\u0119 biologij\u0105 planas (atsisi\u0173sti",(0,cT.jsx)("a",{href:"../assets/sinbio_pamoka.pdf",target:"_blank",rel:"noreferrer",children:"\xa0\u010dia"}),"), iliustracijos (atsisi\u0173sti ",(0,cT.jsx)("a",{href:"../assets/sinbio_iliustracijos.zip",target:"_blank",rel:"noreferrer",children:"\u010dia"}),").",(0,cT.jsx)("br",{}),(0,cT.jsx)("br",{}),"\u0160ios pamokos \u012fgyvendinimui paruo\u0161\u0117me ",(0,cT.jsx)("span",{className:"color",children:"skaidres"}),", spauskite ",(0,cT.jsx)("a",{href:"../assets/skaidres.pptx",target:"_blank",rel:"noreferrer",children:"\u010dia"}),", kad atsisi\u0173stum\u0117te. Taip pat pagal pateikt\u0105 plan\u0105 ir skaidres, \u012fra\u0161\u0117me video pamok\u0105, spauskite ",(0,cT.jsx)("a",{href:"https://youtu.be/i9InzVc1UT8",target:"_blank",rel:"noreferrer",children:"\u010dia"}),", kad per\u017ei\u016br\u0117tum\u0117te.",(0,cT.jsx)("br",{}),(0,cT.jsx)("br",{}),(0,cT.jsx)("span",{className:"color",children:(0,cT.jsx)("b",{children:"Gr\u012f\u017etamasis ry\u0161ys"})}),(0,cT.jsx)("br",{}),"I\u0161band\u017eius papildytos realyb\u0117s modelius, kvie\u010diame palikti gr\u012f\u017etam\u0105j\u012f ry\u0161\u012f. Spauskite",(0,cT.jsx)("a",{href:"https://forms.gle/fotMuUU5m7dyXgZ36",target:"_blank",rel:"noreferrer",children:"\xa0\u010dia\xa0"}),"nor\u0117dami atidaryti gr\u012f\u017etamojo ry\u0161io anket\u0105."]})})},uN=q((function(e){return{isOpenDyslexicActive:e.isOpenDyslexicActive}}))((function(e){var t=e.isOpenDyslexicActive;return(0,cT.jsx)("div",{className:aT("faq",t&&"open-dyslexic"),children:(0,cT.jsxs)(JS,{children:[(0,cT.jsx)(ZS,{isOpenDyslexicActive:t}),(0,cT.jsx)(eN,{isOpenDyslexicActive:t}),(0,cT.jsx)(tN,{isOpenDyslexicActive:t}),(0,cT.jsx)(nN,{isOpenDyslexicActive:t}),(0,cT.jsx)(rN,{isOpenDyslexicActive:t})]})})})),cN=q((function(e){return{isOpenDyslexicActive:e.isOpenDyslexicActive}}))((function(e){var t=e.isOpenDyslexicActive;return(0,cT.jsx)("div",{className:aT("faq",t&&"open-dyslexic"),children:(0,cT.jsx)(JS,{children:(0,cT.jsx)(iN,{isOpenDyslexicActive:t})})})})),lN=q((function(e){return{isOpenDyslexicActive:e.isOpenDyslexicActive}}))((function(e){var t=e.isOpenDyslexicActive;return(0,cT.jsx)("div",{className:aT("faq",t&&"open-dyslexic"),children:(0,cT.jsx)(JS,{children:(0,cT.jsx)(oN,{isOpenDyslexicActive:t})})})})),hN=q((function(e){return{isOpenDyslexicActive:e.isOpenDyslexicActive}}))((function(e){var t=e.isOpenDyslexicActive;return(0,cT.jsx)("div",{className:aT("faq",t&&"open-dyslexic"),children:(0,cT.jsx)(JS,{children:(0,cT.jsx)(aN,{isOpenDyslexicActive:t})})})})),fN=q((function(e){return{isOpenDyslexicActive:e.isOpenDyslexicActive}}))((function(e){var t=e.isOpenDyslexicActive;return(0,cT.jsx)("div",{className:aT("faq",t&&"open-dyslexic"),children:(0,cT.jsx)(JS,{children:(0,cT.jsx)(sN,{isOpenDyslexicActive:t})})})})),dN=JSON.parse('{"HELLOWORLD":"Hello world!","BUTTON-3D-MODELS":"3D models","BUTTON-INSTRUCTIONS":"How to see the model?","BUTTON-IGEM-INFO":"What is iGEM?","BUTTON-6SYNBIO-INFO":"What is the 6th SynBio sense?","BUTTON-PRINT-MARKERS":"Print AR markers","LOADING-CAMERA":"Waiting for you to grant permission to your browser to use your device\'s camera","LOADING-MODEL":"Model is loading","INSTRUCTIONS-TITLE":"How to see the model?","INSTRUCTIONS-TEXT-1":"1. Allow browser to use your camera in the pop-up table.","INSTRUCTIONS-TEXT-2":"2. Scan the black-white marker.","INSTRUCTIONS-TEXT-3":"OR","INSTRUCTIONS-TEXT-4":"Click on the","INSTRUCTIONS-TEXT-5":"and watch 3D models on your device screen without using the camera.","CAMERA-NOT-ALLOWED":"You have not given the browser access to the camera. You can do this by clicking on the lock icon in the browser search box.","CAMERA-NOT-AVAILABLE":"Your device/browser does not support the camera.","MAIN-MENU-MODEL-LIST-TITLE":"<c>Augmented reality</c><br></br>models","MAIN-MENU-HEADER":"<s>6th</s><br></br><c>SynBio</c><br></br>sense","MAIN-MENU-SUBHEADER":"Experience life sciences<br></br>through augmented reality<br></br>technology","LT":"LT","EN":"EN","OPEN-DYSLEXIC":"Modification for dyslexia","MODAL-RATING-TITLE":"We care greatly about your opinion!","BUTTON-LEAVE-FEEDBACK":"Leave feedback","COOKIE-TEXT":"This website uses cookies. By clicking \'Allow\' or continuing to browse this site, you agree to our <a>privacy policy</a>. Which cookies do you allow the use of?","COOKIE-REQUIRED":"Required","COOKIE-FUNCTIONAL":"Functional","COOKIE-ANALYTICAL":"Statistical","ALLOW":"Allow","EASY-TO-READ-INFO":"Easy to read information","FOR-SCHOOLS":"For schools","FOR-SCHOOLS-TITLE":"\u201c6-asis SinBio poj\u016btis\u201d - J\u016bs\u0173 mokykloje"}'),pN=JSON.parse('{"FAQ-1-TITLE":"How to see the <c>model</c>?","FAQ-1-CONTENT-1":"Scan a QR code using your phone\'s camera. Don\'t have a QR code or camera? Click <c>here</c>.","FAQ-1-CONTENT-2":"Allow the browser to use your camera, scan the black-white marker, and observe the augmented reality model.","FAQ-2-TITLE":"How to see a 3D model without <c>using a camera</c>?","FAQ-2-CONTENT":"After selecting the desired model, click the icon <camera></camera> and watch the 3D models on your phone or computer screen.","FAQ-3-TITLE":"How to get <c>more information</c>?","FAQ-3-CONTENT-1":"Click <sound></sound> to listen information about the visible model","FAQ-3-CONTENT-2":"Click <info></info> to read information about the visible model","FAQ-3-CONTENT-3":"Click on the highlighted word in the text and find out what this word means.","FAQ-4-TITLE":"How to view <c>another model</c>?","FAQ-4-CONTENT":" 1. Click the icon <menu></menu> in the model preview window<br></br>2. Press <models></models> and select another model to view<br></br>3. If you do not have markers for these models, viewing using the camera is not possible. However, you can still view the model by clicking the icon <camera></camera>","FAQ-5-TITLE":"Frequently asked <c>questions</c>","FAQ-5-CONTENT-1":"<c>What should I do, if the model does not show up?</c><br></br>Make sure you scanned the QR of this plate. Check if the marker is well lit, without shadows, obstructions, and is fully visible in the camera view. If that doesn\'t work, try turning your camera away from the marker, and back.","FAQ-5-CONTENT-2":"<c>My phone does not scan QR codes. What should I do?</c><br></br>You can download a QR scanner application to your device. If your device does not have a camera, click the icon <camera></camera> and watch the 3D models on your phone or computer screen.","FAQ-5-CONTENT-3":"<c>What is augmented reality (AR)?</c><br></br>It is the technology that lets the real time use of graphics (like a 3D model) and other virtual enhancements integrated with real-world objects. This project uses your camera to add specific 3D models on markers to your screen.","FAQ-5-CONTENT-4":"<c>How to use this website without having markers?</c><br></br>You can download the markers from the front page. They can be used on a computer screen, although we recommend printing them, because cameras may be less effective at recognizing the markers.","FAQ-5-CONTENT-5":"<c>What should I do if huawei phone does not scan AR marker?</c><br></br>Go to browser settings - privacy and security - clear browsing data - cookies and site data - clear.","FAQ-5-CONTENT-6":" ","WHATSIGEM-TITLE":"What is iGEM?","WHATSIGEM-CONTENT":"Igem? iGem? No, we\u2019re not talking about gems. iGEM is an international annual academic competition aimed at the advancement of synthetic biology. Synthetic biology is a field of science that involves redesigning organisms for useful purposes by engineering them to have new abilities.<br></br><br></br>Made up of mostly university students, multidisciplinary teams work together to tackle real-life problems in the fields of medicine, energetics, food industry and many more. Teams use molecular biology, computer science, mathematics, engineering to fulfill their projects. A huge part of the project is education and public engagement. Students aim at breaking the stereotypes and educating society about synbio. Teams closely communicate with scientists, government and businesses to find the best solution.<br></br><br></br>Team Vilnius-Lithuania iGEM is participating in the contest for the 7th time and has won the grand prize two times. This year our team is focusing on developing detection and treatment tools for Amoebiasis, an infection of the human gastro-intestinal tract.<br></br><br></br>A thank you note for our friends: prof. Aurelija \u017dvirblien\u0117, prof. Daumantas Matulis, Paulius Sungaila, lect. Vika Gab\u0117, prof. Virginijus \u0160ik\u0161nys, dr. Urt\u0117 Neni\u0161kyt\u0117, prof. Linas Ma\u017eutis, virtual school \u201cDigiklas\u0117\u201d.<br></br><br></br>Want to find out more? Visit <c>https://vilniusigem.lt/</c>","WHATS6THSENSE-TITLE":"6th SynBio sense","WHATS6THSENSE-CONTENT":"Did it ever occur to you that a smart device can extend your senses?<br></br><br></br>That it allows you to experience more than you normally could?<br></br><br></br>If not, we, Vilnius-Lithuania iGEM team, invite you to immerse yourself in augmented reality and turn on your 6th sense. Our project offers you to explore ten models from RNR to bioinformatics.<br></br><br></br>Invisible processes that are happening on a cellular level, synthetic biology concepts and more are now at your fingertips.  Learn, explore, become a Superhuman easily.<br></br><br></br>Are you ready to delve into the world of synthetic biology?<br></br><br></br>Not sure how to use our page? Take a look at <c>instruction</c>","PRIVACY-POLICY-TITLE":"Privacy policy","PRIVACY-POLICY-CONTENT":"The Vilnius-Lithuania iGEM team takes a responsible view of <a1>www.igem-vilnius.ar.com</a1> (hereinafter - the website) visitor data protection and the right to privacy, so here we provide information about the data collected and the cookies used.<br></br><br></br><c>Data protection and cookies</c><br></br>This site does not collect data that could be used to identify a person (e.g., name, email, exact location). Cookies are used to make the site more convenient and accessible to a larger group of people, but we cannot identify them. We use three types of cookies:<br></br><br></br><c>Necessary</c> - language and text font selection;<br></br><br></br><c>Statistical</c> - \'Google Analytics\' cookies, which provide information about the traffic of website visitors (specific individuals are not identified). You can find the Google Analytics Privacy Policy <a2>here</a2>.<br></br><br></br>You can agree to the use of cookies by expressing your consent or by continuing to browse the website without deleting cookies or changing your browser settings to prevent the collection of cookies. You can find more information about the use of cookies <a3>here</a3>. However, it is recommended not to disable cookies, as they ensure the correct operation of the website and allow us to use statistics to improve the performance of the website.<br></br><br></br><c>Third party websites</c><br></br>This website contains links to other web pages that provide additional information relevant to this project. Please note that we are not responsible for the privacy policies or cookie settings of these sites, as the privacy policy of this site do not apply to other sites.<br></br><br></br><c>Contacts</c><br></br>If you have any questions regarding data protection or the use of cookies on this website, you can contact us by e-mail <a4>it@vilniusigem.lt</a4>."}'),mN=JSON.parse('{"SYNBIO-NAME":"Synthetic biology","SYNBIO-DESC":"Synthetic biology is an interdisciplinary field of science which aims to improve processes of living organisms by using engineering principles. The main objective is to create different, new organisms that perform useful functions. For example, this model shows <i><1>Escherichia coli</1></i> bacteria which is part of the natural human microbiome. The bacteria is modified so it could produce insulin which can be used for treatment of diabetes.<br></br><br></br>Organisms are modified by using four level abstraction. Let\u2019s imagine that the <i><1>E. coli</1></i> bacteria is the black box or a <2>system</2> - the entirety of processes in a cell of which only a part is well known and precisely defined. To the extent of such a \u201cbox-system\u201d scientists can create a <3>device</3> with a specific desired function, in this case presented in model - secretion of insulin. For the execution of the <3>device</3>, genetic <4>parts</4> are needed. In this model, <4>parts</4> might be: an insulin sensor, enzymes responsible for insulin synthesis and secretion from the bacterial cell. Every <4>part</4> is made of <5>genetic sequences</5> which are the basis for all of the four level synthetic biology abstraction. The better we understand the processes of the cell and the genetic material\'s effect on it, the more precise and effective <3>devices</3> and <2>systems</2> we can create.<br></br><br></br>When modifying organisms for the purposes of synthetic biology, questions about safety for ecosystems, ethics are being raised and discussed both by scientific and political communities. However it is important to understand that synthetic biology suggests unique alternative solutions to most pressing issues in environmental protection, biotechnologies, healthcare, agriculture, computer science and enables us to create a more sustainable future.","SYNBIO-1-NAME":"<i>Escherichia coli</i> (<i>E. coli</i>)","SYNBIO-1-DESC":"<i>Escherichia coli</i> (<i>E. coli</i>) - rod-shaped bacterium which is commonly found in the intestine of humans - part of the natural microbiome. In synthetic biology, <i>E. coli</i> is often used as a model organism for performing various metabolic pathway modifications.","SYNBIO-2-NAME":"System (black box)","SYNBIO-2-DESC":"System (black box) - the whole microorganism with its natural and modified metabolic pathways, new functions.","SYNBIO-3-NAME":"Device","SYNBIO-3-DESC":"Device - a portion of the <2>system</2>, which defines the execution of a specific wanted function.","SYNBIO-4-NAME":"Parts","SYNBIO-4-DESC":"Parts - components of <3>device</3>, which specify, how the wanted function will be performed, what stages are needed for the result to be achieved. Parts can be of several types:<br></br><br></br>Promoters - DNA sequences, where RNA polymerase enzymes bind. Such enzymes perform transcription - a process that is necessary for protein synthesis; <br></br><br></br>RNA and DNA sequences, which encode proteins;<br></br><br></br>Terminators - DNA sequence, which terminates the transcription of DNA. In most cases they are localized at the end of the gene.","SYNBIO-5-NAME":"Genetic sequence","SYNBIO-5-DESC":"Genetic sequence - their various fragments constitute <4>parts</4>."}'),gN=JSON.parse('{"ANTIBIOTIC-NAME":"Resistance to antibiotics","ANTIBIOTIC-DESC":"\u201cComplete course of antibiotics must be taken\u201d, \u201cantibiotics without recipe are not issued\u201d \u2013 you must have heard similar expressions from your physician or pharmacist. But have you understood why these rules are necessary? Irrational consumption of antibiotics for treatment purposes is the main cause of antimicrobial resistance \u2013 a phenomenon when antibiotics become ineffective, resistant bacteria multiply uncontrollably and the infection prolongs or causes the death of the infected. Such infection can be transferred to others and its treatment becomes way more complicated: it might be started too late, the patient might need intensive care,  expensive antibiotics with more side effects get prescribed. But how does the resistance to antibiotics develop?<br></br><br></br>Different kinds of antibiotics target bacterial structures, which are the most fundamental for survival. These can be components of cell membrane and wall, synthesis of nucleic acids and proteins, when one of these parts is disturbed, the bacteria dies. <img>6thsense2022/images/antibiotics.png</img> However sometimes due to genetic variation and random mutations resistant bacteria develop, multiply and transfer the resistance <1>genes</1> to other bacteria. This way, a bacteria once sensitive to antibiotics becomes resistant. The augmented reality models show three horizontal <1>gene</1> transfer mechanisms: <5>transduction</5> - resistance <1>gene</1> is transferred through bacteria virus bacteriophage, <4>transformation</4> - <1>gene</1> is adopted from dead bacteria; <3>conjugation</3> - <1>gene</1> is transferred between two alive bacteria through pilus. The model depicts resistance due to changes in the lipids of cell membrane. Antibiotics cannot affect the changed membrane and they become ineffective, alternative medicines are needed.","ANTIBIOTIC-1-NAME":"Genes","ANTIBIOTIC-1-DESC":"All bacterial structures are encoded in genes \u2013 segments of nucleic acid sequences. Such segments are located in bacterial chromosomes and <6>plasmids</6>. Due to mutations nucleic acids constantly evolve \u2013 new genes appear, which bacteria can transfer to other bacteria through <2>horizontal gene transfer</2>.","ANTIBIOTIC-2-NAME":"Horizontal gene transfer","ANTIBIOTIC-2-DESC":"Horizontal gene transfer \u2013 <1>gene</1> movement between organisms by non-reproduction ways: <3>conjugation</3>, <5>transduction</5>, <4>transformation</4>.","ANTIBIOTIC-3-NAME":"Conjugation","ANTIBIOTIC-3-DESC":"Conjugation \u2013 a procces when <1>genes</1> are transferred through inter-bacterial connection by specialized structures. Bacteria can purposefully transfer nucleic acid segments to other bacteria. Some of the bacteria have specific proteins \u2013 adhesins and others form special tubal structures \u2013 pilus.","ANTIBIOTIC-4-NAME":"Transformation","ANTIBIOTIC-4-DESC":"Transformation \u2013 process when nucleic acids located in the environment enter bacteria. Nucleic acids can be found in the environment after the death of other bacteria. Live bacteria can absorb such nucleic acids and as a result gain new characteristics such as resistance to antibiotics. Usually such a process appears in a biofilm. Biofilm is a structure formed by bacteria growing on a steady surface. Bacteria secrete special sticky materials which allow formation of a film. The biofilm can\u2019t be easily removed by mechanical ways and new different species of bacteria can enter it, which grow, die and can gain new characteristics.","ANTIBIOTIC-5-NAME":"Transduction","ANTIBIOTIC-5-DESC":"Transduction \u2013 a process when <1>genes</1> are transferred through bacteriophage. Bacteriophages (bacterial viruses) inject to bacteria their nucleic acid which contains necessary for virus reproduction <1>genes</1>. While the virus multiplies, some of the bacterial <1>genes</1> can be packaged in a virus capsid by accident. The bacteriophages take such <1>genes</1> and give them to other bacteria by infecting them.","ANTIBIOTIC-6-NAME":"Plasmids","ANTIBIOTIC-6-DESC":"Plasmids \u2013 separate circular non-chromosomal nucleic acid segments. They contain genes as well, however they are not as important for survival as the chromosomal genes are. They can be easily gained and lost through <2>horizontal gene transfer</2>."}'),vN=JSON.parse('{"TRANSLATION-NAME":"Synthesis of proteins","TRANSLATION-DESC":"There are millions of <4>proteins</4> in every cell of our bodies. <4>Proteins</4> are molecules that help cells maintain structure and perform their functions so that we would continue to be healthy and strong. However, these molecules do not live forever, so cells have to constantly produce new <4>proteins</4> through <4>protein</4> synthesis.<br></br><br></br>Each of us has genes made up of long strands of DNA that encode an \u201cinstruction\u201d on how to make <4>proteins</4>. <img>6thsense2022/images/gene.png</img> During the first stage of <4>protein</4> synthesis, called transcription, DNA sequences are scanned and the copies of those \u201cinstructions\u201d, called <2>mRNA</2> are made. <img>6thsense2022/images/transcription.png</img> The new <2>mRNA</2> molecules are converted into <4>protein</4> chains made up of amino acids, during translation. This is the process you see on your screen.<br></br><br></br>A <3>ribosome</3> attaches to the <2>mRNA</2> molecule. It scans the <2>mRNA</2> sequence and instructs another molecule called <1>tRNA</1> to bring in a specific amino acid. While the <3>ribosome</3> reads the <2>mRNA</2> instruction, <1>tRNA</1> brings in a lot of amino acids throughout the process and their fusion forms a <4>protein</4>.","TRANSLATION-1-NAME":"tRNA","TRANSLATION-1-DESC":"tRNA (transport RNA) has a specific 3-nucleotide sequence called an anticodon that can recognize a complementary <2>mRNA</2> codon (nucleotide A is complementary to U, G to C). Each tRNA codon is specific and according to it, tRNA brings a specific amino acid. When the tRNA recognizes the <2>mRNA</2> codon, the imported amino acid joins the growing amino acid chain. The process proceeds until the entire <2>mRNA</2> chain is decoded and the <4>protein</4> is made.","TRANSLATION-2-NAME":"mRNA","TRANSLATION-2-DESC":"mRNA (messenger RNA) is a single-stranded, DNA-like molecule made up of nucleotides. The three nucleotides form a codon. tRNA molecules scan those codons and bring specific amino acids.","TRANSLATION-3-NAME":"Ribosome","TRANSLATION-3-DESC":"The ribosome is a <4>protein</4> consisting of a large and a small subunit. <2>mRNA</2> from the cell nucleus binds to the small subunit, and <1>tRNA</1> molecules, according to the <2>mRNA</2> sequence, bind to the large subunit, as seen in the animation.","TRANSLATION-4-NAME":"Protein","TRANSLATION-4-DESC":"Protein is a specifically folded chain of amino acids or a complex of those chains that performs catalytic, structural, protective and other functions that support the existence of living organisms."}'),yN=JSON.parse('{"CRISPR-NAME":"Gene scissors","CRISPR-DESC":"Bacteria began combating viruses way before humans did. These simple-structured enemies of bacteria attach themselves to the cells of their host, transfer their genetic information into them and turn bacteria into a factory of new viruses. <img>6thsense2022/images/bacteriophage.png</img> After the successful reproduction of viruses, bacteria usually die. However, some of them survive because they activate an antiviral system called CRISPR-Cas. This system takes a part of the virus\' DNA, puts it into bacteria\'s <1>genome</1> and saves the information about an intruder. The sequence is saved until it is needed - when a virus attacks a bacteria, the sequence is copied and used to activate a protein called <2>Cas9</2>. The protein uses the fragment of a virus\' DNA as an address and searches for its traces inside the bacteria. The protein compares each DNA sequence to the address that it has. When it finds the needed sequence, the protein cuts the sequence, thus the virus is unable to reproduce.<br></br><br></br>This way bacteria saves themselves from an intruder. After figuring out this process, scientists understood that the process can be reprogrammed and used not only in bacteria but also in plant or human cells. That\'s how <2>Cas9</2> became a programmable genetic tool that allows to edit <1>genomes</1> and create new plant species or treat genetic diseases or even cancer. But as the first computer wasn\'t perfect, the CRISPR-Cas9 system has a long way to go to reach its full potential.<br></br><br></br>Lithuanian scientists from Vilnius University Life Science Center and biotech startup CasZyme are also contributing heavily to the development of the system.","CRISPR-1-NAME":"Genome","CRISPR-1-DESC":"Genome - is a complete set of organism\u2019s genetic instructions. Each genome contains all of the information needed to build that organism and allow it to grow and develop.","CRISPR-2-NAME":"Cas9","CRISPR-2-DESC":"Cas9 - is a specific protein which plays a vital role in the immunological defense of certain bacteria against viruses\' DNA."}'),bN=JSON.parse('{"DNA-NAME":"DNA","DNA-DESC":"Why are butterfly wings so colorful? You\u2019ve probably heard that appearance properties and personal traits can be inherited by organisms from their parents. We could say that the yellow color of butterfly wings is determined by the pigments found in the cells of butterfly wings. But where do these pigments come from? Pigments are produced by various proteins. Where does a butterfly cell get these proteins from? They need to be made, but the key question is, how do cells know what proteins they need to make and what their structure should be? You see the molecule responsible for this on your screen: it\u2019s deoxyribonucleic acid, or DNA for short. This molecule is compactly tangled in the nucleus of almost every cell of your body as well as the butterfly\u2019s, and encodes information about the structure of all the body\'s proteins. <img>6thsense2022/images/cell_nucleus.png</img> These proteins, their interactions, and products determine how we behave, look, and how the body functions, starting with a single cell. In other words, DNA determines the traits that the body forms, has, and maintains.<br></br> <br></br>The DNA molecule is double-stranded. Each of its chains is made up of smaller building blocks, <1>nucleotides</1>, which differ only in their nitrogen bases, of which there are four in total: adenine, thymine, guanine, and cytosine. Interestingly, these nitrogenous bases are common to all organisms, so the genetic code of different organisms is considered universal. Hence, the molecular instructions on how life should form and function are similar in both the butterfly and the human. If you compare your genetic code with any other person, you will see that you share as much as 99.9% identical genetic information with them! In other words, only a small fraction of our DNA (0.1%) explains the uniqueness of each person. In addition to this DNA model, you can also see which chemical elements, i.e. <2>atoms</2>, make up the DNA molecule.","DNA-1-NAME":"Nucleotides","DNA-1-DESC":"A DNA molecule is made up of small \\"blocks\\" called nucleotides, which can combine to form a larger molecule called a nucleic acid. The DNA strands of all organisms consist of 4 nitrogen bases, that you can see on the left: adenine, thymine, cytosine, and guanine. The nitrogen bases of different DNA strands can bind to each other. This means that DNA is a double-stranded molecule. Nitrogen bases bind to each other to form hydrogen bonds. This coupling takes place according to a specific system: adenine binds to thymine (2 hydrogen bonds are formed) and cytosine binds to guanine (3 hydrogen bonds are formed). Scientists call this specific merger the principle of complementarity.","DNA-2-NAME":"Chemical elements","DNA-2-DESC":"Atoms are the smallest structural parts of DNA molecules. By interconnecting, they form complex structures, which together form a DNA molecule visible in an augmented reality model. The genes found in DNA determine the characteristics of the organism. The DNA molecule contains atoms of five different chemical elements: oxygen, nitrogen, carbon, phosphorus, and hydrogen (hydrogen atoms are not represented in the DNA model because they are very small). Carbon atoms are the main component of the DNA molecule because they are the basis of all life on planet Earth."}'),_N=JSON.parse('{"VIRUS-NAME":"Coronavirus","VIRUS-DESC":"In front of your eyes, you see SARS-CoV-2 virus, better known as coronavirus, magnified several thousand times. In general, the virus is an <2>RNA</2> molecule encoding genetic information enveloped in a <1>lipid membrane</1> and several proteins: <3>N</3>, <4>S</4>, <5>E</5>, and <6>M</6>. A virus that enters the human nose or mouth travels to the lungs, using the <4>S</4> proteins it attaches to lung cells and injects its <2>RNA</2> molecule into them. This molecule contains instructions on how human cells can make new parts of the virus. After reading the instructions, human cells start operating as a factory for the production of viruses. Initially, copies of new <2>RNA</2> molecules are made that either indicate to the cell how to produce the proteins needed to form the virus or are packaged into a new generation of viruses. <img>6thsense2022/images/virus_pathway.png</img> Through this mechanism, one cell in the human body can produce hundreds of thousands of new viruses that infect other cells or, when they enter the outside, other people.<br></br><br></br>If the human immune system can not fight the virus effectively, the patient experiences symptoms. They can be especially dangerous for the elderly or people with chronic illnesses. Even if you do not belong to these groups, it is very important to follow the recommendations of experts and stop the spread of the virus, reducing the chances of infection. With a rapidly growing population, we have had and will continue to have similar pandemics, and the only thing we can control is our response to the situation and our behaviour during those pandemics.<br></br><br></br>","VIRUS-1-NAME":"The lipid membrane","VIRUS-1-DESC":"The lipid membrane is a two-layer barrier made out of lipid molecules that protects the viral genetic information (<2>RNA</2> molecule) from the environment and supports other viral structures.","VIRUS-2-NAME":"RNA","VIRUS-2-DESC":"RNA is a single-chain molecule that contains all the genetic information of a virus. The virus uses this information to command the cells of living organisms to produce more identical viruses and thus spread.","VIRUS-3-NAME":"The N protein","VIRUS-3-DESC":"The N protein helps the <2>RNA</2> molecule to keep its structure and multiply.","VIRUS-4-NAME":"The S protein","VIRUS-4-DESC":"The S protein is used to attach the virus to a human cell as soon as it enters the body and later to enter the cell, so the virus can begin to multiply.","VIRUS-5-NAME":"The E protein","VIRUS-5-DESC":"The E protein helps to form new parts of the virus.","VIRUS-6-NAME":"The M protein","VIRUS-6-DESC":"The M protein helps to form new parts of the virus."}'),wN=JSON.parse('{"RNA-NAME":"RNA","RNA-DESC":"You probably already know that the characteristics of organisms are determined by a DNA molecule which we get from our parents and which we strictly store in the nuclei of our cells. But have you heard of DNA-like RNA molecules. It is these ribonucleic acids (RNA) that determine what information (genes) stored in a DNA molecule are transformed into a unified, complex system that we perceive as life. There would be no life if your cells did not produce proteins first.<br></br><br></br>On your screen you see different types of RNA molecules that are involved in the production of proteins in cells (which you can learn more about by choosing the \u201cTranslation\u201d model). Imagine a DNA molecule and all the genes in it as a grandmother\u2019s recipe book where recipes can be considered as genes. We can make a specific dish according to a specific recipe, as well we can make a specific protein from one gene. A strict grandmother would not give or lend her recipe book to anyone, the same as DNA in your cells is stored in the nucleus of the cell and does not leave it. So how do you get the recipe? Grandma is good and allows you to write down the recipe, and you can take the note with the recipe to your home, where you can bake delicious cookies by mixing the right ingredients. In cells, things are similar: although DNA is strictly protected, it is possible to copy the information it contains. In this way, RNA molecules are produced.<br></br><br></br>Scientists call this process transcription. <img>images/protein_synthesis.png</img> One of the molecules we produce during the transcription process is mRNA (messenger RNA) right in the middle of the screen. It is a single-chain, <1>nucleotide</1>-based molecule, which in this story has the recipe written down on it which encodes information and instructions on how to make a particular protein. The mRNA molecule can leave the nucleus and enter the cytoplasm of the cell, where the protein will be produced in the \\"oven\\" of another protein - the ribosome. <img>6thsense2022/images/ribosome_cytoplasm.png</img><br></br><br></br>However, various ingredients are needed to make the protein. Which ones? The main ingredients are amino acids that can be combined to produce any protein. They (amino acids) can be introduced into the ribosome by another RNA molecule: tRNA. So, we already have a specific instruction (recipe) on how to make a specific protein and we have the ingredients to make it - amino acids. And where does the production of the protein itself take place (which you can find out more about by choosing the \u201cTranslation\u201d model)? In molecular machines, called ribosomes, which work because of another RNA molecule: rRNA, which is the main component of ribosomes.","RNA-1-NAME":"Nucleotides","RNA-1-DESC":"Nucleotides are small blocks that make up RNA and DNA molecules. 4 different nucleotides are known that differ only in their nitrogenous bases (this is one of the most important components of nucleotides). RNA-forming nucleotides are characterized by 4 nitrogen bases: adenine, uracil (a specific nitrogen base for RNA-forming nucleotides), guanine, and cytosine. Three such nucleotides form a codon that determines which amino acid should be included in the protein molecule. E.g. The AUG codon determines that the amino acid methionine is required for protein production."}'),kN=JSON.parse('{"VACCINES-NAME":"Vaccines","VACCINES-DESC":"We live in a world full of microorganisms and not all of them are friendly.  There are plenty of bacteria and viruses that can make us feel unwell and that\'s where vaccines can help us. A vaccine is a substance that builds up our immunity by raising an immune response of the body because it\u2019s recognised as a specific pathogen.<br></br><br></br>On the left side of the model, you can see a COVID-19 <1>mRNA</1> vaccine. It is made up of synthetic <1>mRNA</1> that is responsible for SARS-CoV-2 virus antigen production and a <2>lipid bilayer</2> that protects genetic information. After vaccination, a person\'s cells begin to produce antigens - <3>spike proteins</3> that are encoded by <1>mRNA</1>. Since antigens are alien to our bodies, they raise an immune response specific to the virus.<br></br><br></br>On the right side of the model, a viral vector vaccine is shown. With some help from genetic engineering, a <3>protein spike</3> gene is inserted into a virus that is unable to reproduce. As a viral vector enters our body, it promotes the synthesis of viral <3>protein spikes</3>. Higher amounts of such protein promote an immune response.<br></br><br></br>We can compare vaccination with combat training - our immune system learns to recognize an enemy so that when it attacks, the body would overcome it faster and with fewer complications.","VACCINES-1-NAME":"mRNA","VACCINES-1-DESC":"mRNA - is a single-stranded, DNA-like molecule that encodes genetic information about a primary structure of a specific protein. This information is transferred from the cell nucleus to the cytoplasm where specific structures synthesise a protein.","VACCINES-2-NAME":"Lipid bilayer","VACCINES-2-DESC":"Lipid bilayer - is an oily bubble that wraps the <1>mRNA</1> in the vaccine and protects it from the enzymes in the human body.","VACCINES-3-NAME":"Spike protein","VACCINES-3-DESC":"Spike protein - a specific protein that is found on the surface of a virus. It allows the virus to get into targeted cells."}'),EN=JSON.parse('{"BIOIT-NAME":"Bioinformatics","BIOIT-DESC":"As mentioned in the <2>DNA</2> model, genetic information is encoded in this molecule by bases A, T, C, and G. Computers, meanwhile, \\"remember\\" everything using a system of ones and zeros. <img>6thsense2022/images/bioinformatics.png</img> You would probably agree with the statement that both computers and <2>DNA</2> store certain information. But it\u2019s not the only one characteristic that ties these two objects.<br></br><br></br>Sequencing of biological data - the scanning of <2>DNA</2> or <3>RNA</3> sequences extracted from living organisms - yields very large amounts of biological information that can only be understood and processed using a computer. This is where bioinformatics specialists come to the rescue.<br></br><br></br>Using a variety of calculation methods, these people are able to see similarities in <2>DNA</2> or <3>RNA</3> sequences, recreate protein structures, design programs to model living systems, and see in biological data what the human eye wouldn\u2019t notice.<br></br><br></br>Bioinformatics is evolving rapidly, with increasingly sophisticated tools for biological data analysis. This branch of science can help us treat and research oncological disease, design and develop new drugs and therapy methods.<br></br><br></br>Now we have a hard time imagining our lives without a computer. Researchers working in various fields do as well. Who knows where this extremely significant friendship between computer and biology will lead us.","BIOIT-1-NAME":"Nitrogen bases","BIOIT-1-DESC":"A <2>DNA</2> molecule is made up of small \\"blocks\\" called nucleotides, which can combine to form a larger molecule called a nucleic acid. The <2>DNA</2> strands of all organisms consist of 4 nitrogen bases, that you can see on the left: adenine, thymine, cytosine, and guanine. The nitrogen bases of different <2>DNA</2> strands can bind to each other. This means that <2>DNA</2> is a double-stranded molecule. Nitrogen bases bind to each other to form hydrogen bonds. This coupling takes place according to a specific system: adenine binds to thymine (2 hydrogen bonds are formed) and cytosine binds to guanine (3 hydrogen bonds are formed). Scientists call this specific merger the principle of complementarity.","BIOIT-2-NAME":"DNA","BIOIT-2-DESC":"DNA - a double-stranded molecule made up of small \\"blocks\\" called <1>nucleotides</1>. Genetic information is stored in DNA molecules.","BIOIT-3-NAME":"RNA","BIOIT-3-DESC":"RNA - a single-stranded, <2>DNA</2>-like molecule that encodes genetic information about a primary structure of a specific protein. This information is transferred from the cell nucleus to the cytoplasm where specific structures synthesise a protein. You can find more information in the \\"RNA\\" model."}'),TN=JSON.parse('{"GMO-NAME":"GMO","GMO-DESC":"Life constantly evolves and changes - from <i>Australopithecus afarensis</i> becoming <i>Homo sapiens</i> to new coronavirus mutations. Genetic modifications also mean changes in genetic material, however the main difference is that the organism modifications are strictly made having a specific purpose and knowing what is being changed. Execution of all modifications must meet highest biosecurity standards.<br></br><br></br>This augmented reality model depicts <1>golden rice</1> and its creation process. First of all, the scientists analyse which characteristic is needed for the plant. In this case, the goal was to enrich regular rice with <3>beta carotene</3> which is converted into vitamin A in the human body. After determining the DNA sequence that is responsible for <3>beta carotene</3> synthesis, scientists need to select another organism that has the particular DNA sequence (in this case corn was chosen). Then the genomes of rice and corn are compared, differences and particular <3>beta carotene</3> synthesis genes are defined. Selected gene sequences can be inserted into rice genome in two methods: <4>biolistic</4> or through carrier (vector) <i><5>Agrobacterium tumefaciens</5></i> bacteria. <img>6thsense2022/beta_carotene.png</img> Lastly, the genome of newly created organisms is examined to make sure that the plants were modified correctly and can be cultivated without any safety concerns.<br></br><br></br>Even though we often suspect that <2>genetically modified food</2> is dangerous, unnatural and unsafe, in reality genetic modifications are especially thoroughly <6>examined, tested and monitored</6>, therefore there is no need to be frightened. The spectrum of problems that can be solved by genetic modifications is only limited by our imagination. <3>Beta carotene</3> enriched rice can prevent thousands of children losing vision, plants resistant to pests would prevent the toll of farming on the environment, plants and microorganisms that break down pollutants could clean the environment and prevent climate change.","GMO-1-NAME":"Golden rice","GMO-1-DESC":"Golden rice \u2013 genetically engineered rice species which are enriched with <3>beta carotene</3>. Even though <3>beta carotene</3> is richly apparent in carrots, sweet potatoes, spinach and apricots, some regions, for example Asia, have a different type of nutrition and can not get sufficient amounts of the compound from foods. As a result, thousands of children face health issues, some can even go blind. Rice is a popular dish in Asia therefore their enrichment with <3>beta carotene</3> is a way to solve and prevent such health problems.","GMO-2-NAME":"Genetically engineered food","GMO-2-DESC":"Genetically engineered food is produced from genetically modified organisms. Such foods contain modified genetic material, which grants new properties that don\'t occur naturally to the organism.","GMO-3-NAME":"Beta carotene","GMO-3-DESC":"Beta carotene \u2013 an organic pigment, from which humans make vitamin A, a component vital for normal skin and vision functioning, has antioxidant properties. Lack of vitamin A occurs as a decrease in sharpness of vision, dryness of eye and skin, brittle nails. However vitamin A excess is toxic for organism therefore balance in diet is needed.","GMO-4-NAME":"Biolistic gene transfer","GMO-4-DESC":"Biolistic gene transfer \u2013 a device used to deliver genes to cells. Metal particles are coated with a gene and then fired to cells using mechanical force. This way, the genetic information of interest can be integrated into cells.","GMO-5-NAME":"<i>Agrobacterium tumefaciens</i>","GMO-5-DESC":"<i>Agrobacterium tumefaciens</i> - plant bacterium which is used to modify plants. Targeted <3>beta carotene</3> synthesis encoding gene is inserted in the genome of the <i>Agrobacterium tumefaciens</i>. Then the bacterium infects the plant and incorporates the gene of interest into its genome. With the new gene, the rice plant can synthesize <3>beta carotene</3>.","GMO-6-NAME":"Requirements for genetically engineered foods","GMO-6-DESC":"Requirements for <2>genetically engineered foods</2> - in European Union such foods are regulated by the Regulation of the European Parliament and of the Council on <2>genetically modified food</2> and feed. <2>Genetically modified foods</2> are one of the mostly investigated products. While assessing the safety and risks, specialists follow stricter guidelines compared to traditional natural foods. Composition of the product, amounts of allergens and toxins are analyzed, difestion of the food and its effect on the organism is constantly monitored. Investigations through the perspective of effects to the environment are also performed.<br></br><br></br>For more information, please visit: <a>https://ec.europa.eu/food/plants/genetically-modified-organisms_en</a>"}'),IN=JSON.parse('{"BIOBRICK-NAME":"BioBrick","BIOBRICK-DESC":"Did you know that DNA fragments are similar to LEGO blocks in how they work? Such pieces of DNA are called BioBricks, which can be ever reconstructed, much like the LEGO blocks displayed on the screen, giving an organism new properties. This is one of the basic principles of synthetic biology, or SynBio in short. Synthetic biology is a multidisciplinary field, which encompasses a broad range of methodologies from various disciplines, such as biology, engineering, chemistry, information technologies and mathematical modelling. It is a way of creating functions of organisms by changing the genetic information. These new functions aid in solving global environmental, health and industry issues. Developments in this field have been driven in part by the International Genetically Engineered Machine Competition (iGEM), in which students compete presenting their scientific projects."}'),SN=JSON.parse('{"CIRCUIT-NAME":"Genetic circuit","CIRCUIT-DESC":"Here you can see perhaps the most common tool used by scientists - plasmid, a DNA sequence in the form of a ring. While we know that DNA sequence of human chromosomes is infinitely long and highly twisted strand, this DNA sequence is quite different. The size of this entire plasmid is sometimes even smaller than the genes found on human chromosomes. However, the whole charm of the plasmid is the ability to insert our chosen genes into it. The plasmid itself is a closed ring composed of nucleotides A, T, G, C joined together according to certain rules. Because of the specific sites in the sequence, researchers can cut both strands of DNA in the plasmid and paste the selected gene into the plasmid. These sequences might encode various proteins, such as allergens or glowing proteins. Subsequently, proteins derived from these plasmids are used in a variety of studies to treat or detect a range of diseases, disorders, or mechanisms. Sometimes such plasmids can be used for a variety of commercial purposes, such as synthesizing dyes that can dye textiles."}'),NN=JSON.parse('{"ECOLI-NAME":"Model organisms","ECOLI-DESC":"Here you can see the E. coli bacteria. Even though it was first found in the feces of humans, now it is pivotal to the greatest scientific discoveries, like the molecular scissor technology\u2014CRISPR. Due to its simple structure and uncomplicated conditions for reproduction E. coli has earned its place in laboratories all over the World. The better an organism is studied, the more likely it will be used for other research. Such organisms are called model organisms. Fruit flies, yeast and moulds are all examples of model organisms."}'),CN=JSON.parse('{"GFP-NAME":"Green fluorescent protein (GFP)","GFP-DESCRIPTION":"Green fluorescent protein, or GFP, was first identified in a fluorescent jellyfish. Osamu Shimomura described the biophysics of how GFP fluoresces. A few years later, Martin Chalfie reported that GFP can be used in experiments with other organisms like bacteria and nematode. Later Roger Tsien designed variants of the GFP protein that could fluoresce cyan, blue and yellow. Shimomura, Chalfie and Tsien were awarded the Nobel Prize for Chemistry in 2008 for their work in the discovery and development of this protein. What made GFP such an important tool in science is the fact that it\u2019s \u201cauto-catalytic\u201d \u2013 it doesn\u2019t need any co-factors or enzyme processing to fluoresce \u2013 so it can be easily used in a wide variety of organisms. To this day GFP is used in laboratories all over the world for protein and DNA research."}'),AN=JSON.parse('{"NANO-NAME":"Bacteriophages","NANO-DESCRIPTION":"Bacteriophages (or phages for short) are a species of viruses, which infect bacteria, but do no harm to human cells. Their shape resembles a robot: they have a head in which they store their genetic information, a tail and legs, which they use to adhere to bacteria. Upon adherence to the bacterial surface, the bacteriophage injects its genetic code into the bacteria, forcing them to synthesize new viruses, which eventually exhausts the bacteria leading them to their death. As antibiotic resistance among bacteria increases, phage therapy is aiming to replace traditional antibiotic treatment methods. That\u2019s why scientists are trying to make phage therapy safer and more available to society."}'),xN=JSON.parse('{"SEQUENCING-NAME":"DNA sequencing","SEQUENCING-DESC":"All biological information about you is stored in your genome, which is made of DNA strands. These strands are made of even smaller parts, called nucleotides. Decoding of these strands can tell us a lot about a person, including their predisposition to certain diseases. The sequence of our genome is not visible to a naked eye\u2014in order to be read DNA strands need to be pushed through a tiny protein hole located in an artificial membrane called a nanopore. A unidirectional electricity current is run through a nanopore, which is detected by a sensor. If there is an object in a nanopore, say a nucleotide, it disrupts the flow of electricity. The disruption differs depending on the object\u2019s properties and a variation in the current flow is detected. Because A, T, C and G nucleotides are of different sizes and properties, when passing through a nanopore, they cause a unique change in the current flow. These unique changes are registered and help in identifying the sequence code in the form of A, T, C and G letters. This process is called DNA sequencing. "}'),RN=JSON.parse('{"TRANSFORMATION-NAME":"Heat shock transformation","TRANSFORMATION-DESC":"Transformation is a way to incorporate new genetic material into a cell through its membrane (barrier separating cell organelles from the outside). One of the methods used to accomplish this is heat shock transformation. <br></br><br></br>Firstly, bacteria have to be cooled down for at least 10 minutes in a solution of CaCl2. Calcium ions (marked in red) are important in this process because it helps DNA to adhere to the little polysaccharides present in cell membranes and this improves the chances for the bacteria to take in the plasmids (genetic information in a ring form). Then plasmids containing target DNA are added to the solution and kept for 30 minutes. Incubation takes quite a while because molecules move slower in a cold environment. The next step is submerging the tube in a hot 42 \xb0C degree water bath for 45 seconds. This sudden temperature change makes holes in the bacterial membrane and creates an opportunity for the plasmid to enter the inside of the cell. This short heat period is followed by an immediate cooldown, where the holes shrink again and the plasmid is trapped inside the cell. The last step in this process is the addition of a growth medium (bacterial food), which helps bacteria to regenerate. After the healing process, bacteria are plated on agar plates with appropriate antibiotic and only cells that have taken up the plasmid DNA are able to start expressing (making) the newly introduced antibiotic resistance genes, grow/divide and form colonies.<br></br><br></br>Using plasmids, in this case, is the best choice because they are already present in bacteria, thus can be easily expressed and plasmid DNA can be easily altered to have the wanted gene.","TRANSFORMATION-DESC-SIMPLIFIED":"Transformation is a way to incorporate new genetic material into a cell through its membrane (barrier separating cell organelles from the outside). One of the methods used to accomplish this is heat shock transformation."}'),ON=JSON.parse('{"GFP-NAME-1":"Green fluorescent protein","GFP-DESC-1":"The green fluorescent protein (GFP) is a protein that exhibits bright green fluorescence when exposed to light in the blue to ultraviolet range and has a major excitation peak at 395 nm. This protein was first extracted from a jellyfish variety called Aequorea victoria, but later it was found in corals and other water animals.<br></br><br></br>This protein is an important tool in many synthetic biology laboratories because when added to the end of other proteins it creates a way to visualize where proteins are stored, expressed, and used inside the cell. Because it is small, attaching it to larger proteins does not affect their function much. Another important factor is that it does not require additional enzymes to glow, which makes it easier for researchers to use. <br></br><br></br>On the right side of the model, a viral vector vaccine is shown. With some help from genetic engineering, a protein spike gene is inserted into a virus that is unable to reproduce. As a viral vector enters our body, it promotes the synthesis of viral protein spikes. Higher amounts of such protein promote an immune response.<br></br><br></br>The importance of this protein is so great, that the scientists who discovered it: Roger Y. Tsien, Osamu Shimomura, and Martin Chalfie, were awarded a Nobel Prize in Chemistry in 2008.","GFP-DESC-SIMPLIFIED":"The importance of this protein is so great, that the scientists who discovered it: Roger Y. Tsien, Osamu Shimomura, and Martin Chalfie, were awarded a Nobel Prize in Chemistry in 2008."}'),DN=JSON.parse('{"TRANSFORMATION-ELECTROPORATION-NAME-1":"Electroporation transformation","TRANSFORMATION-ELECTROPORATION-DESC-1":"Transformation is a way to incorporate new genetic material into a cell through its membrane (barrier separating cell organelles from the outside). Another method used to accomplish this is transformation by electroporation.<br></br><br></br>First of all, plasmids (genetic information in a ring form) have to be introduced to the solution of bacteria. Following that, an electric field is applied. Sending thousands of volts through the mixture creates holes in the bacterial membrane and allows plasmids, containing DNA information of the wanted protein, to pass through it. This process makes bacteria fragile, and because of that, they have to be handled carefully until the growth medium (bacterial food) is added, cells can regenerate and start producing the wanted protein. After the healing process, bacteria are plated on agar plates with appropriate antibiotic and only cells that have taken up the plasmid DNA are able to start expressing (making) the newly introduced antibiotic resistance genes, grow, divide and form colonies. <br></br><br></br>Compared to heat shock transformation, this method is more effective, meaning a larger part of cells contain desired plasmid, however, fewer cells survive this process than heat shock transformation. This technique is also more expensive because it requires special equipment.","TRANSFORMATION-ELECTROPORATION-DESC-1-SIMPLIFIED":"Transformation is a way to incorporate new genetic material into a cell through its membrane (barrier separating cell organelles from the outside). Another method used to accomplish this is transformation by electroporation."}'),PN=Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb({},dN),pN),mN),gN),vN),yN),bN),_N),wN),kN),EN),TN),IN),SN),NN),CN),AN),xN),RN),ON),DN),jN=JSON.parse('{"HELLOWORLD":"Sveikas, pasauli!","BUTTON-3D-MODELS":"3D modeliai","BUTTON-INSTRUCTIONS":"Kaip pamatyti model\u012f?","BUTTON-IGEM-INFO":"Kas yra iGEM?","BUTTON-6SYNBIO-INFO":"Kas yra 6-asis SinBio poj\u016btis?","BUTTON-PRINT-MARKERS":"Atsispausdink \u017eymeklius","LOADING-CAMERA":"Laukiame kol suteiksite nar\u0161yklei leidim\u0105 naudotis j\u016bs\u0173 kamera","LOADING-MODEL":"Modelis kraunasi","INSTRUCTIONS-TITLE":"Kaip pamatyti model\u012f?","INSTRUCTIONS-TEXT-1":"1. Suteikite leidim\u0105 naudoti telefono kamer\u0105 nar\u0161ykl\u0117je i\u0161\u0161okusioje lentel\u0117je.","INSTRUCTIONS-TEXT-2":"2. Skenuokite juodai balt\u0105 \u017eymekl\u012f.","INSTRUCTIONS-TEXT-3":"ARBA","INSTRUCTIONS-TEXT-4":"Paspauskite","INSTRUCTIONS-TEXT-5":"ikon\u0105 ir steb\u0117kit\u0119 3D modelius savo \u012frenginio ekrane nenaudodami kameros.","CAMERA-NOT-ALLOWED":"Nesuteik\u0117te nar\u0161yklei prieigos prie \u012frenginio kameros. Tai galite padaryti paspaude ant spynos ikonos nar\u0161ykl\u0117s paie\u0161kos lange.","CAMERA-NOT-AVAILABLE":"J\u016bs\u0173 \u012frenginys/nar\u0161ykl\u0117 nepalaiko kameros.","MAIN-MENU-MODEL-LIST-TITLE":"<c>Papildytos realyb\u0117s</c> <br></br> modeliai","MAIN-MENU-HEADER":"<s>6-asis</s><br></br><c>SinBio</c><br></br>poj\u016btis","MAIN-MENU-SUBHEADER":"Pa\u017eink gyvyb\u0117s mokslus<br></br>panirdamas \u012f papildytos<br></br>realyb\u0117s technologij\u0105","LT":"LT","EN":"EN","OPEN-DYSLEXIC":"Modifikacija disleksijai","MODAL-RATING-TITLE":"Mums labai svarbi J\u016bs\u0173 nuomon\u0117!","BUTTON-LEAVE-FEEDBACK":"Palikite atsiliepim\u0105","COOKIE-TEXT":"\u0160ioje svetain\u0117je naudojami slapukai. Spustel\u0117dami \u201eSutinku\u201c arba toliau nar\u0161ydami \u0161i\u0105 svetain\u0119, sutinkate su m\u016bs\u0173 <a>privatumo politika</a>. Kokius slapukus leid\u017eiate naudoti?","COOKIE-REQUIRED":"Privalomi","COOKIE-FUNCTIONAL":"Funkciniai","COOKIE-ANALYTICAL":"Statistiniai","ALLOW":"Sutinku","EASY-TO-READ-INFO":"Lengvai skaitoma informacija","FOR-SCHOOLS":"Mokykloms","FOR-SCHOOLS-TITLE":"\u201e6-asis SinBio poj\u016btis\u201d \u2013 J\u016bs\u0173 mokykloje"}'),MN=JSON.parse('{"FAQ-1-TITLE":"Kaip pamatyti <c>model\u012f</c>?","FAQ-1-CONTENT-1":"Nuskaitykite QR kod\u0105 naudodami savo telefono kamer\u0105. Neturite QR kodo ar kameros? Spauskite <c>\u010dia</c>","FAQ-1-CONTENT-2":"Suteikite leidim\u0105 naudoti kamer\u0105 nar\u0161ykl\u0117je, nuskenuokite juodai balt\u0105 \u017eymekl\u012f ir steb\u0117kite papildytos realyb\u0117s model\u012f","FAQ-2-TITLE":"Kaip per\u017ei\u016br\u0117ti 3D model\u012f <c>nenaudojant kameros</c>?","FAQ-2-CONTENT":"Pasirink\u0119 norim\u0105 model\u012f, paspauskite <camera></camera> ikon\u0105 ir steb\u0117kite 3D modelius savo telefono ar kompiuterio ekrane","FAQ-3-TITLE":"Kaip su\u017einoti <c>daugiau informacijos</c>?","FAQ-3-CONTENT-1":"Paspaud\u0119 <sound></sound> galite klausytis informacijos apie regim\u0105 model\u012f","FAQ-3-CONTENT-2":"Paspaud\u0119 <info></info> galite perskaityti informacij\u0105 apie regim\u0105 model\u012f","FAQ-3-CONTENT-3":"Spustel\u0117kite pary\u0161kint\u0105 \u017eod\u012f tekste ir su\u017einokite, k\u0105 \u0161is \u017eodis rei\u0161kia","FAQ-4-TITLE":"Kaip per\u017ei\u016br\u0117ti <c>kit\u0105 model\u012f</c>?","FAQ-4-CONTENT":"1. Modeli\u0173 per\u017ei\u016bros lange paspauskite <menu></menu> ikon\u0105 <br></br>2. Paspauskite <models></models> ir pasirinkite kit\u0105 model\u012f per\u017ei\u016brai <br></br>3. Jei neturite \u0161i\u0173 modeli\u0173 \u017eymekli\u0173, per\u017ei\u016bra naudojant kamer\u0105 negalima. Ta\u010diau model\u012f per\u017ei\u016br\u0117ti vis tiek galite paspaud\u0119 <camera></camera> ikon\u0105","FAQ-5-TITLE":"Da\u017eniausiai u\u017eduodami <c>klausimai</c>","FAQ-5-CONTENT-1":"<c>Ar mano nar\u0161ykl\u0117je veikia papildytos realyb\u0117s technologija?</c><br></br>Dauguma nar\u0161ykli\u0173 palaiko \u0161ias technologijas. Nepalaikan\u010dios nar\u0161ykl\u0117s: iOS Chrome, iOS Firefox.","FAQ-5-CONTENT-2":"<c>K\u0105 daryti, jei kamera nerodo modelio?</c><br></br>\u012esitikinkite, kad nuskenavote \u0161ios lentel\u0117s QR kod\u0105. Patikrinkite, ar \u017eymeklis gerai ap\u0161viestas, be \u0161e\u0161\u0117li\u0173, neu\u017edengtas ir matosi visas kameroje. Pabandykite nusukti kamer\u0105 nuo \u017eymeklio ir tada v\u0117l atsukti.","FAQ-5-CONTENT-3":"<c>Mano telefonas nenuskenuoja QR kodo. K\u0105 daryti?</c><br></br>Galite parsisi\u0173sti QR kodus skenuojan\u010di\u0105 program\u0117l\u0119 savo \u012frenginiui. Jei j\u016bs\u0173 \u012frenginys neturi kameros, galite \u012fjungti paprast\u0105 3D modelio per\u017ei\u016br\u0105 ekrane paspaud\u0119 kameros ikon\u0105.","FAQ-5-CONTENT-4":"<c>Kas yra papildyta realyb\u0117?</c><br></br>Technologija, kuri leid\u017eia realiu laiku prid\u0117ti vizual\u0173 (pvz. 3D modelis) ir kit\u0173 virtuali\u0173 patobulinim\u0173 \u012f realaus pasaulio objektus. \u0160is projektas j\u016bs\u0173 \u012frenginio kameros pagalba ekrane atvaizduoja 3D modelius ant \u017eymekli\u0173.","FAQ-5-CONTENT-5":"<c>Kaip naudotis \u0161ia svetaine neturint \u017eymekli\u0173?</c><br></br>\u017dymeklius galite parsisi\u0173sti pagrindiniame puslapyje. Juos galite naudoti per kompiuterio ekran\u0105, ta\u010diau rekomenduojame atsispausdinti, kadangi QR kodai ir \u017eymekliai gali b\u016bti pras\u010diau nuskaitomi i\u0161 ekran\u0173.","FAQ-5-CONTENT-6":"<c>K\u0105 daryti jeigu Huawei telefonas nenuskaito \u017eymeklio?</c><br></br>Eikite \u012f telefono nar\u0161ykl\u0117s nustatymus (settings) - privatumas ir saugumas (privacy and security) - i\u0161valyti nar\u0161ymo duomenis (clear browsing data) - slapukai ir svetain\u0117s duomenys (cookies and site data) - i\u0161valyti (clear).","WHATSIGEM-TITLE":"Kas tas iGEM?","WHATSIGEM-CONTENT":"iGEM? Ne, su d\u017eemu tai neturi nieko bendra. iGEM - tai kasmetinis tarptautinis akademinis konkursas, kurio tikslas skatinti sintetin\u0117s biologijos progres\u0105. Sintetin\u0117s biologijos esm\u0117 \u2013 pasitelkiant gen\u0173 in\u017einerij\u0105 pakeisti \u012fprastus organizmus taip, kad jie \u012fgyt\u0173 nauj\u0173 bruo\u017e\u0173, atlikt\u0173 naudingas funkcijas ir pan.<br></br><br></br>Tarpdisciplinin\u0117s universitet\u0173 student\u0173 komandos sprend\u017eia globalias medicinos, maisto pramon\u0117s, energetikos bei kit\u0173 aktuali\u0173 sri\u010di\u0173 problemas. Projekt\u0173 \u012fgyvendinimui komandos pasitelkia biologij\u0105, molekulin\u0119 biologij\u0105, informatik\u0105, matematik\u0105 bei in\u017einerij\u0105. Taip pat didel\u0117 konkurso dalis \u2013 edukacija bei visuomen\u0117s \u012ftraukimas. Studentai siekia griauti mitus apie sintetin\u0119 biologij\u0105 bei skleisti \u017eini\u0105 apie \u0161i\u0105 gan nauj\u0105 ir potenciali\u0105 mokslo srit\u012f.<br></br><br></br>Komandos glaud\u017eiai bendradarbiauja su mokslininkais, vald\u017eios institucijomis, verslais, kad rast\u0173 optimaliausi\u0105 pasirinktos problemos sprendim\u0105.<br></br><br></br>Vilnius-Lithuania iGEM komanda jau septint\u0105 kart\u0105 dalyvauja \u0161iame konkurse ir jau du kartus yra laim\u0117jusi did\u012fj\u012f priz\u0105. \u0160iemet mes kuriame amebiaz\u0117s, infekcin\u0117s \u017earnyno ligos, detekcijos bei gydymo \u012frankius.<br></br><br></br>D\u0117kojame projekto draugams: prof. Aurelijai \u017dvirblienei, prof. Daumantui Matuliui, Pauliui Sungailai, lekt. Vikai Gabei, prof. Virginijui \u0160ik\u0161niui, dr. Urtei Neni\u0161kytei, prof. Linui Ma\u017eu\u010diui, virtualiai mokyklai \u201eDigiklas\u0117\u201d.<br></br><br></br>Nori su\u017einoti daugiau? Apsilankyk <c>https://vilniusigem.lt/</c>","WHATS6THSENSE-TITLE":"6-asis SinBio poj\u016btis","WHATS6THSENSE-CONTENT":"Ar kada pagalvojai, kad i\u0161manusis \u012frenginys gali prapl\u0117sti tavo jusles? Kad jis gali pad\u0117ti patirti daugiau nei \u012fprasta?<br></br><br></br>Jei ne, mes, Vilnius-Lithuania iGEM komanda, kvie\u010diame pasinerti \u012f papildytos realyb\u0117s pasaul\u012f ir \u012fsijungti \u0161e\u0161t\u0105j\u012f poj\u016bt\u012f. M\u016bs\u0173 projekte gal\u0117si patyrin\u0117ti de\u0161imt modeli\u0173 \u2013 nuo RNR iki bioinformatikos. Nematomi, l\u0105steliniame lygmenyje vykstantys procesai, sintetin\u0117s biologijos konceptai ir kitos \u012fdomyb\u0117s pasiekiami pir\u0161t\u0173 galais.<br></br><br></br>Mokykis, atrask, tapk super \u017emogumi.<br></br><br></br>Neriam \u012f sinbio pasaul\u012f?<br></br><br></br>Ne\u017einai, kaip naudotis puslapiu? U\u017emesk ak\u012f <c>\u010dia</c>","PRIVACY-POLICY-TITLE":"Privatumo politika","PRIVACY-POLICY-CONTENT":"Vilnius-Lithuania iGEM komanda atsakingai \u017ei\u016bri \u012f <a1>www.igem-vilnius.ar.com</a1> (toliau \u2013 svetain\u0117s) lankytoj\u0173 duomen\u0173 apsaug\u0105 bei teis\u0119 \u012f privatum\u0105, tad \u010dia pateikiame informacij\u0105 apie renkamus duomenis bei naudojamus slapukus.<br></br><br></br><c>Duomen\u0173 apsauga ir slapukai</c><br></br>\u0160ioje svetain\u0117je duomenys, kurie gal\u0117t\u0173 b\u016bti panaudojami \u017emogaus atpa\u017einimui (pvz. vardas, elektroninis pa\u0161tas, tiksli lokacija), n\u0117ra renkami. Siekiant padaryti svetain\u0119 patogesne ir prieinamesne didesnei \u017emoni\u0173 grupei, yra naudojami slapukai (angl. <i>cookies</i>), ta\u010diau atpa\u017einti asmens jais negalime. Naudojame dviej\u0173 tip\u0173 slapukus:<br></br><br></br><c>B\u016btinuosius</c> \u2013 kalbos bei teksto \u0161rifto pasirinkimas;<br></br><br></br><c>Statistinius</c> \u2013 \u201eGoogle Analytics\u201c slapukai, kurie teikia informacij\u0105 apie svetain\u0117s lankytoj\u0173 lankomum\u0105 (konkret\u016bs asmenys n\u0117ra identifikuojami). \u201eGoogle Analytics\u201c privatumo politik\u0105 galite rasti <a2>\u010dia</a2>.<br></br><br></br>Sutikim\u0105 naudoti slapukus galite suteikti i\u0161reik\u0161dami sutikim\u0105 arba toliau nar\u0161ant svetain\u0117je slapuk\u0173 nei\u0161trinant ir nepakeisdami nar\u0161ykl\u0117s nustatym\u0173, jog slapukai neb\u016bt\u0173 renkami. I\u0161samesn\u0119 informacij\u0105 apie slapuk\u0173 naudojim\u0105 galite rasti <a3>\u010dia</a3>. Visgi, rekomenduojame slapuk\u0173 nei\u0161jungti, kadangi jie u\u017etikrina teising\u0105 svetain\u0117s veikim\u0105 bei duodate mums galimyb\u0119 naudojant statistinius duomenis pagerinti svetain\u0117s veikim\u0105.<br></br><br></br><c>Tre\u010di\u0173j\u0173 \u0161ali\u0173 tinklapiai</c><br></br>\u0160ioje svetain\u0117je yra nuorod\u0173 \u012f kitus interneto puslapius, kuriuose yra suteikiama papildoma informacija aktuali \u0161iam projektui. Rekomenduojame atkreipti d\u0117mes\u012f \u012f tai, kad mes neatsakome u\u017e \u0161i\u0173 svetaini\u0173 duomen\u0173 apsaugos politik\u0105 bei slapuk\u0173 nustatymus, kadangi \u0161ios svetain\u0117s privatumo politika kitoms svetain\u0117ms negalioja.<br></br><br></br><c>Kontaktai</c><br></br>I\u0161kilus klausimams d\u0117l duomen\u0173 apsaugos ar slapuk\u0173 naudojimo \u0161ioje svetain\u0117je, galite susisiekti su mumis el. pa\u0161tu <a4>it@vilniusigem.lt</a4>."}'),LN=JSON.parse('{"SYNBIO-NAME":"Sintetin\u0117 biologija","SYNBIO-DESC":"Sintetin\u0117 biologija yra tarpdisciplinin\u0117 mokslo sritis, kurioje remiantis in\u017einerijos principais, pertvarkomi gyvuose organizmuose vykstantys procesai. Tikslas - kitokias, naudingas funkcijas atliekantys mikroorganizmai. Pavyzd\u017eiui, \u0161iame modelyje matote \u017emogaus nat\u016bralios vir\u0161kinimo mikrobiomo atstov\u0105 <i><1>Escherichia coli</1></i> bakterij\u0105, kuri yra modifikuota taip, kad sintetint\u0173 insulin\u0105, kuris gali b\u016bti panaudojamas cukrinio diabeto gydymui.<br></br><br></br>Organizmai modifikuojami naudojant keturi\u0173 lygi\u0173 abstrakcij\u0105. \u012esivaizduokite, jog <i><1>E. coli</1></i> bakterijos l\u0105stel\u0117 yra <2>juodoji d\u0117\u017e\u0117</2> (system) - tam tikr\u0173 proces\u0173 visuma, kuri\u0173 tik dalis yra \u017einoma ir ai\u0161kiai apibr\u0117\u017eta. \u0160ios d\u0117\u017e\u0117s - sistemos r\u0117muose galima kurti <3>mechanizmus</3> (device) su specifine norima funkcija, \u0161iuo atveju - insulino i\u0161skyrimas. Po to seka <3>mechanizmo</3> (device) \u012fgyvendinimui reikaling\u0173 genetini\u0173 <4>dali\u0173</4> (parts) k\u016brimas: pavyzd\u017eiui, \u0161iame modelyje gal\u0117t\u0173 b\u016bti \u012fvestos naujos <4>dalys</4>: insulino kiekio fiksatorius, fermentai, atsakingi u\u017e insulino sintez\u0119 bei i\u0161skyrim\u0105 \u012f aplink\u0105. Kiekviena <4>dalis</4> (parts) yra sudaryta i\u0161 <5>genetini\u0173 sek\u0173</5>, kurios sudaro norimo <3>mechanizmo</3> (device) pagrind\u0105. \u017dinant smulkesnius elementus kuriant pagrindin\u012f norim\u0105 <3>mechanizm\u0105</3> (device), galime tai daryti efektyviau ir tiksliau.<br></br><br></br>Modifikuojant organizmus sintetin\u0117s biologijos tikslams, kyla susir\u016bpinimas saugumu aplinkos ekosistemoms, etiniais klausimais, d\u0117l kuri\u0173 diskutuoja mokslo ir politin\u0117s bendruomen\u0117s. Ta\u010diau, verta pamin\u0117ti, kad sintetin\u0117 biologija pateikia alternatyvi\u0173 visuomenei aktuali\u0173 problem\u0173 sprendim\u0173, pasitarnauja biotechnologij\u0173 pramonei ir leid\u017eia kurti tvaresn\u0119 ateit\u012f.","SYNBIO-DESC-SIMPLIFIED":"Sintetin\u0117 biologija yra mokslas apie gyvus organizmus ir j\u0173 taisym\u0105. \u0160is mokslas apjungia biologij\u0105, chemij\u0105, fizik\u0105, in\u017einerij\u0105, kitus mokslus, kurie tyrin\u0117ja \u017emogaus organizm\u0105, bakterijas, virusus. Sintetin\u0117s biologijos tikslas yra kitokias, naujas ir naudingas funkcijas atliekantys organizmai. Pavyzd\u017eiui, \u0161iame modelyje matote nat\u016braliai \u017emogaus \u017earnyne gyvenan\u010di\u0105 bakterij\u0105 \u017darnin\u0119 lazdel\u0119. Ji yra pakeista taip, kad gamint\u0173 insulin\u0105. Insulinas yra naudojamas cukrinio diabeto gydymui.<br></br><br></br>Organizmai yra kuriami 4 etapais:<br></br>1 etapas: \u017darnin\u0117 lazdel\u0117 yra sistema - visuma proces\u0173, kurie vyksta l\u0105stel\u0117je. Dalis proces\u0173 yra \u017einoma ir i\u0161samiai i\u0161tirta, ta\u010diau yra ir ne\u017einom\u0173 proces\u0173.<br></br>2 etapas: Sistemos ribose galima kurti mechanizmus su norima funkcija. Vaizduojamame modelyje tokia funkcija yra insulino gamyba.<br></br>3 etapas: Kad mechanizmas veikt\u0173, jam reikia dali\u0173 - smulkesni\u0173 funkcij\u0173. \u0160iame modelyje yra keletas dali\u0173:<br></br>insulino kiekio l\u0105stel\u0117je matuoklis<br></br>fermentai, kurie pagreitina l\u0105stel\u0117s insulino gamybos ir i\u0161metimo i\u0161 l\u0105stel\u0117s reakcijas<br></br>4 etapas: Dalys yra sudarytos i\u0161 DNR molekuli\u0173. Tad DNR molekul\u0117s sud\u0117tis nustato, kokia bus dalis. O dalys nustato, koks bus mechanizmas. <br></br><br></br>Organizmai su pakeista DNR kelia klausim\u0173. Ar tokie organizmai saug\u016bs aplinkai, \u017emogui? Ar teisinga / s\u0105\u017eininga yra keisti gyv\u0173 organizm\u0173 DNR? \u0160iuos klausimus kartu bando atsakyti mokslininkai, politikai, visuomen\u0117. Tyrin\u0117ti sintetin\u0119 biologij\u0105 svarbu, nes galima sukurti nauj\u0173 \u012franki\u0173 \u017emoni\u0173 problemoms spr\u0119sti.","SYNBIO-1-NAME":"\u017darnin\u0117 lazdel\u0117 (<i>E. coli</i>)","SYNBIO-1-DESC":"\u017darnin\u0117 lazdel\u0117 (<i>E. coli</i>) - lazdel\u0117s formos bakterija, \u017emogaus mikrobiomo dalis. Sintetin\u0117je biologijoje da\u017enai yra pasitelkiama kaip modelinis organizmas, atliekamos \u012fvairios jos metabolini\u0173 keli\u0173 modifikacijos.","SYNBIO-2-NAME":"Sistema - juodoji d\u0117\u017e\u0117","SYNBIO-2-DESC":"Sistema - juodoji d\u0117\u017e\u0117 - visas mikroorganizmas, su savo vidiniais ir \u017emogaus modifikuotais metaboliniais keliais, atliekamomis funkcijomis.","SYNBIO-3-NAME":"Mechanizmas","SYNBIO-3-DESC":"Mechanizmas (device) - sistemos dalis, apsprend\u017eianti konkre\u010dios norimos funkcijos \u012fgyvendinim\u0105.","SYNBIO-4-NAME":"Dalys","SYNBIO-4-DESC":"Dalys - <3>mechanizmo</3> dalys, kurios nurodo, kaip bus atliekama funkcija, kokiais etapais bus pasiektas tikimasis rezultatas. Gali b\u016bti keli\u0173 tip\u0173: <br></br><br></br>Reguliacin\u0117s / promotoriai - jose gali jungtis fermentai RNR polimeraz\u0117s, kurios atlieka transkripcij\u0105 (reikalinga baltym\u0173 sintezei). J\u0173 aktyvumas gali b\u016bti reguliuojamos kit\u0173 veiksni\u0173; <br></br><br></br>RNR ir baltymus koduojanti DNR seka;<br></br><br></br>Terminatoriai - sustabdo transkripcij\u0105, da\u017eniausiai yra lokalizuoti geno pabaigoje.<br></br>","SYNBIO-5-NAME":"Genetin\u0117s sekos","SYNBIO-5-DESC":"Genetin\u0117s sekos - \u012fvairios DNR nukleotid\u0173 sekos, kurios atitinkamai i\u0161d\u0117stytos sudaro <4>dalis</4> (parts)."}'),FN=JSON.parse('{"ANTIBIOTIC-NAME":"Bakterij\u0173 atsparumas antibiotikams","ANTIBIOTIC-DESC":"\u201eB\u016btinai suvartokite piln\u0105 antibiotik\u0173 kurs\u0105\u201c, \u201eBe recepto antibiotik\u0173 neparduodame\u201c \u2013 \u0161iuos gydytojo ar vaistininko pasakytus \u017eod\u017eius tikrai gird\u0117jote, ta\u010diau ar suvok\u0117te, kod\u0117l jie yra ypa\u010d svarb\u016bs? Neracionalus antibiotik\u0173 vartojimas gydymo tikslais yra pagrindin\u0117  atsparumo antibiotikams i\u0161sivystymo prie\u017eastis, kai antimikrobiniai vaistai tampa nebeefektyv\u016bs, atsparios bakterijos toliau dauginasi, u\u017et\u0119sia lig\u0105 ar net sukelia u\u017esikr\u0117tusiojo mirt\u012f. Tokia infekcija gali b\u016bti perduodama kitiems \u017emon\u0117ms, o jos gydymas tampa komplikuotas: pradedamas per v\u0117lai,  pacientui reikalinga intensyvesn\u0117 prie\u017ei\u016bra, skiriami brangesni antibiotikai, galintys tur\u0117ti \u017ealingesn\u012f poveik\u012f. Ta\u010diau kaip i\u0161sivysto atsparumas antibiotikams?<br></br><br></br>Skirting\u0173 r\u016b\u0161i\u0173 antibiotikai gali b\u016bti nusitaik\u0119 \u012f svarbiausias bakterijos gyvavimui strukt\u016bras: membranos komponentus, sienel\u0117s, baltym\u0173 ir nukleor\u016bg\u0161\u010di\u0173 sintez\u0119. <img>6thsense2022/images/antibiotiku_veikimas.png</img> Tad sutrikd\u017eius vien\u0105 i\u0161 \u0161i\u0173 proces\u0173, bakterijos \u017e\u016bva. Ta\u010diau kartais atsiranda atspari\u0173 antibiotik\u0173 poveikiui bakterij\u0173, kurios, susidarius palankioms s\u0105lygoms, dauginasi ir plinta perduodamos atsparum\u0105 koduojan\u010dius <1>genus</1> kitoms bakterijoms. I\u0161plitusios tokios bakterijos gali perduoti atsparumo savyb\u0119 koduojant\u012f <1>gen\u0105</1> kitoms, antibiotikui jautrioms bakterijoms. Modeliuose pavaizduoti trys <2>horizontalaus gen\u0173 perdavimo</2> b\u016bdai: <5>transdukcija</5> \u2013 atsparum\u0105 suteikiantis <1>genas</1> yra perduodamas per bakterij\u0173 virus\u0105 bakteriofag\u0105, <4>transformacija</4> \u2013 <1>genas</1> perimamas i\u0161 \u017euvusios bakterijos, <3>konjugacija</3> \u2013 <1>genais</1> apsikei\u010dia dvi gyvos bakterijos. Demonstruojamame modelyje atsparumas i\u0161sivysto d\u0117l membranos lipid\u0173 poky\u010di\u0173 \u2013 antibiotikai nebegali paveikti pakitusios strukt\u016bros bakterijos membranos. Pakitus membranos strukt\u016brai, \u012f bakterij\u0173 membran\u0105 nukreipti antibiotikai tampa nebeefektyv\u016bs, reikalingas alternatyvus gydymas.","ANTIBIOTIC-DESC-SIMPLIFIED":",,B\u016btinai suvartokite piln\u0105 antibiotik\u0173 doz\u0119\u2019\u2019, ,,Be recepto antibiotik\u0173 neparduodame\u201d - tikrai esate gird\u0117j\u0119 \u0161iuos gydytojo ar vaistininko pasakytus \u017eod\u017eius. Ta\u010diau ar supratote, kod\u0117l tai svarbu? Neteisingas antibiotik\u0173 vartojimas yra pagrindin\u0117 prie\u017eastis, kod\u0117l atsiranda bakterij\u0173 atsparumas antibiotikams. Bakterij\u0173 atsparumas rei\u0161kia, kad antibiotikai nebeveikia toki\u0173 bakterij\u0173 ir jos toliau dauginasi, liga trunka ilgiau, gali sukelti mirt\u012f. Atsparios antibiotikams bakterijos gali b\u016bti perduodamos kitiems \u017emon\u0117ms ir sukelti sud\u0117tingas ligas. Tokiems ligoniams reikalinga ilgesn\u0117 prie\u017ei\u016bra, skiriami brangesni antibiotikai, kurie kartais turi \u0161alutini\u0173 poveiki\u0173. Ta\u010diau kaip i\u0161sivysto bakterij\u0173 atsparumas antibiotikams?<br></br><br></br>Skirting\u0173 r\u016b\u0161i\u0173 antibiotikai nusitaiko \u012f svarbiausias bakterijos dalis.\xa0 Tos dalys yra svarbios l\u0105stel\u0117s i\u0161gyvenimi, tad pa\u017eeidus nors vien\u0105, bakterijos \u017e\u016bva. Ta\u010diau kartais atsiranda atspari\u0173 pa\u017eeidimams bakterij\u0173. Esant geroms s\u0105lygoms, atsparios bakterijos dauginasi ir plinta, taip kitoms, neatsparioms bakterijoms perduoda genus, kurie nulemia atsparum\u0105. I\u0161plitusios tokios bakterijos gali perduoti atsparumo savyb\u0119 kitoms, antibiotikui neatsparioms bakterijoms.\xa0<br></br><br></br>Modeliuose pavaizduoti trys b\u016bdai, kaip vienos bakterijos perduoda savo genus kitoms bakterijoms:<br></br>Transdukcija - genas, nulemiantis atsparum\u0105 yra perduodamas per bakterij\u0173 virus\u0105 (bakteriofag\u0105).<br></br>Transformacija - genas paimamas i\u0161 kitos, \u017euvusios bakterijos.<br></br>Konjugacija - genais apsikei\u010dia dvi gyvos bakterijos.\xa0<br></br>","ANTIBIOTIC-1-NAME":"Genai","ANTIBIOTIC-1-DESC":"Bakterij\u0173 gyvavimui svarbios strukt\u016bros yra u\u017ekoduotos genuose. Genai \u2013 tai yra nukleor\u016bg\u0161\u010di\u0173 atkarpos. \u0160ios atkarpos yra aptinkamos bakterij\u0173 chromosomoje ir <6>plazmid\u0117se</6> (atskiros \u017eiedin\u0117s nechromosomin\u0117s nukleor\u016bg\u010di\u0173 atkarpos). D\u0117l vykstan\u010di\u0173 mutacij\u0173 nukleor\u016bg\u0161tys kinta \u2013 susidaro nauji genai, kuriuos bakterijos perduoda kitoms bakterijoms vadinamuoju horizontaliuoju keliu trimis b\u016bdais.","ANTIBIOTIC-2-NAME":"Horizontalus gen\u0173 perdavimas","ANTIBIOTIC-2-DESC":"Horizontalus gen\u0173 perdavimas \u2013 <1>gen\u0173</1> jud\u0117jimas tarp organizm\u0173, ne dauginimosi (vertikalaus perdavimo) metu. I\u0161skiriami trys pagrindiniai b\u016bdai: <3>konjugacija</3>, <5>transdukcija</5>, <4>transformacija</4>.","ANTIBIOTIC-3-NAME":"Konjugacija","ANTIBIOTIC-3-DESC":"Konjugacija [lot. <i>conjugatio</i> \u2013 sujungimas] \u2013 procesas, kurio metu <1>genai</1> perduodami susijungiant bakterijoms tarpusavyje specializuot\u0173 strukt\u016br\u0173 pagalba. Bakterijos gali tikslingai perduoti nukleor\u016bg\u0161\u010di\u0173 atkarpas giminingoms bakterijoms. Vienos savo pavir\u0161iuje turi specifinius baltymus (adhezinus), kitos \u2013 formuoja specialias vamzdelio pavidalo strukt\u016bras \u2013 gaurelius.","ANTIBIOTIC-4-NAME":"Transformacija","ANTIBIOTIC-4-DESC":"Transformacija [lot. <i>transformatio</i> \u2013 pasikeitimas] \u2013 procesas, kurio metu nukleor\u016bg\u0161tys, esan\u010dios aplinkoje, patenka tiesiogiai \u012f bakterijos vid\u0173. \u017duvus bakterijoms, \u012f aplink\u0105 i\u0161siskiria j\u0173 nukleor\u016bg\u0161tys. Likusios gyvos bakterijos gali pasisavinti \u0161i\u0105 laisv\u0105 svetim\u0105 nukleor\u016bg\u0161t\u012f ar jos atkarpas i\u0161 aplinkos ir tokiu b\u016bdu \u012fgyti nauj\u0173 savybi\u0173, tame tarpe ir atsparum\u0105 antibiotikams. Paprastai \u0161is procesas vyksta biopl\u0117vel\u0117je \u2013 strukt\u016broje, kuri\u0105 suformuoja bakterijos daugindamosis ant standaus pavir\u0161iaus. Bakterijos \u012f aplink\u0105 sekretuoja specialias lipnias med\u017eiagas, leid\u017eian\u010dias susidaryti tampriai pl\u0117velei, kuri\u0105 sunku pa\u0161alinti mechani\u0161kai. Susiformavus biopl\u0117velei, \u012f j\u0105 patenka ir kit\u0173 r\u016b\u0161i\u0173 bakterijos, kurios dauginasi, \u017e\u016bsta, gali \u012fgyti nauj\u0173 savybi\u0173.","ANTIBIOTIC-5-NAME":"Transdukcija","ANTIBIOTIC-5-DESC":"Transdukcija [lot. <i>transductio</i> \u2013 perk\u0117limas] \u2013 procesas, kurio metu <1>genus</1> i\u0161 vienos bakterijos \u012f kit\u0105 perne\u0161a bakteriofagai. Bakteriofagai (bakterij\u0173 virusai) \u012f bakterijos vid\u0173 \u012f\u0161virk\u0161\u010dia savo nukleor\u016bg\u0161t\u012f, kuri\u0105 sudaro <1>genai</1> reikalingi bakteriofago dauginimuisi. Bakteriofago nukleor\u016bg\u0161tyje tarp jo dauginimuisi reikaling\u0173 <1>gen\u0173</1> gali b\u016bti \u012fsiterp\u0119s bakterijos <1>genas</1>, koduojantis atsparum\u0105 antibiotikams. \u0160\u012f <1>gen\u0105</1> bakteriofagas pasiima i\u0161 bakterijos, kurioje prie\u0161 tai pasidaugino.","ANTIBIOTIC-6-NAME":"Plazmid\u0117s","ANTIBIOTIC-6-DESC":"Plazmid\u0117se taip pat yra genai \u2013 bakterijoms plazmid\u0117s n\u0117ra gyvybi\u0161kai svarbios kaip chromosoma \u2013 jas lengvai praranda ir v\u0117l \u012fgyja. Plazmid\u0117s gali b\u016bti perduodamos visais horizontalaus gen\u0173 perdavimo b\u016bdais \u2013 <4>transformacijos</4>, <5>transdukcijos</5> ir <3>konjugacijos</3> metu."}'),UN=JSON.parse('{"TRANSLATION-NAME":"Baltym\u0173 sintez\u0117","TRANSLATION-DESC":"Kiekvienoje k\u016bno l\u0105stel\u0117je yra milijonai <4>baltym\u0173</4> \u2013 molekuli\u0173, kurios padeda l\u0105stel\u0117ms i\u0161laikyti strukt\u016br\u0105 ir atlikti savo funkcijas, kad mes b\u016btume sveiki ir stipr\u016bs. Ta\u010diau \u0161ios molekul\u0117s negyvuoja am\u017einai, tad l\u0105stel\u0117s <4>baltym\u0173</4> sintez\u0117s metu nepaliaujamai gamina naujus <4>baltymus</4>. <br></br><br></br>Kiekvienas m\u016bs\u0173 turime genus, sudarytus i\u0161 ilg\u0173 DNR grandini\u0173, kurios koduoja \u201einstrukcij\u0105\u201c kaip pagaminti <4>baltymus</4>. <img>6thsense2022/images/genas.png</img> Pirmojo <4>baltym\u0173</4> sintez\u0117s etapo, vadinamo transkripcija, metu nuskaitant DNR grandini\u0173 sekas padaromos t\u0173 \u201einstrukcij\u0173\u201c kopijos \u2013 naujos molekul\u0117s, vadinamos <2>iRNR</2>. <img>6thsense2022/images/transkripcija.png</img> O \u0161ios, vykstant transliacijai, paver\u010diamos \u012f <4>baltym\u0173</4> grandin\u0117les, sudarytas i\u0161 aminor\u016bg\u0161\u010di\u0173. B\u016btent \u0161\u012f proces\u0105 ir matote savo ekrane. <br></br><br></br>Ant <2>iRNR</2> molekul\u0117s tvirtinasi <3>ribosoma</3>. Ji nuskaito <2>iRNR</2> sek\u0105 ir nurodo kitai molekulei, vadinamai <1>tRNR</1>, atne\u0161ti specifin\u0119 aminor\u016bg\u0161t\u012f. Skaitant <2>iRNR</2> instrukcij\u0105 viso proceso metu atne\u0161ama daug aminor\u016bg\u010di\u0173, o jos sujungiamos ir pasibaigus transliacijai susilanksto ir sudaro <4>baltym\u0105</4>.","TRANSLATION-DESC-SIMPLIFIED":"Kiekvienoje k\u016bno l\u0105stel\u0117je yra milijonai baltym\u0173 - ma\u017e\u0173 molekuli\u0173, kurios padeda l\u0105stel\u0117ms i\u0161laikyti form\u0105 ir atlikti savo funkcijas, kad mes b\u016btume sveiki ir stipr\u016bs. Ta\u010diau \u0161ios molekul\u0117s negyvuoja am\u017einai. Tod\u0117l l\u0105stel\u0117s baltym\u0173 gamybos metu gamina naujus baltymus.<br></br><br></br>Kiekvienas m\u016bs\u0173 turime genus, kurie saugo paveldim\u0105 informacij\u0105. Jie sudaryti i\u0161 ilg\u0173 DNR molekuli\u0173 grandini\u0173, kurios nurodo l\u0105stel\u0117ms kaip pagaminti baltymus. Pirmojo baltym\u0173 gamybos etapo metu nukopijuojama DNR molekul\u0117 ir taip padaromos naujos molekul\u0117s, vadinamos iRNR. O \u0161ios, vykstant antrajam etapui, paver\u010diamos \u012f baltymus, sudarytus i\u0161 aminor\u016bg\u0161\u010di\u0173. B\u016btent \u0161\u012f proces\u0105 ir matote savo ekrane.<br></br><br></br>Ant iRNR molekul\u0117s tvirtinasi ribosoma - molekul\u0117, kurioje vyksta baltym\u0173 gamyba. Ji pagal iRNR molekul\u0117s suteikiam\u0105 informacij\u0105 pakvie\u010dia kitas molekules tRNR atne\u0161ti aminor\u016bg\u0161tis. Skaitant iRNR instrukcij\u0105 viso proceso metu atne\u0161ama daug aminor\u016bg\u0161\u010di\u0173, kurios yra sujungiamos. Pasibaigus procesui aminor\u016bg\u0161tys susilanksto bei sudaro baltym\u0105.","TRANSLATION-1-NAME":"tRNR","TRANSLATION-1-DESC":"tRNR (transportin\u0117 RNR) turi specifin\u0119 3 nukleotid\u0173 sek\u0105, vadinam\u0105 antikodonu, kuris gali atpa\u017einti komplementar\u0173 <2>iRNR</2> kodon\u0105 (A nukleotidas yra komplementarus U nukleotidui, G komplemetarus C). Kiekviena tRNR molekul\u0117 ne\u0161iojasi specifin\u012f antikodon\u0105 reprezentuojan\u010di\u0105 aminor\u016bg\u0161t\u012f. Kai tRNR atpa\u017e\u012fsta reikiam\u0105 <2>iRNR</2> kodon\u0105 <3>ribosomoje</3>, atne\u0161ta aminor\u016bg\u0161tis prisijungia prie augan\u010dios aminor\u016bg\u0161\u010di\u0173 grandin\u0117s. Procesas vyksta kol i\u0161koduojama visa <2>iRNR</2> grandin\u0117 ir susintetinamas <4>baltymas</4>.","TRANSLATION-2-NAME":"iRNR","TRANSLATION-2-DESC":"iRNR (informacin\u0117 RNR) \u2013 viengrand\u0117, \u012f DNR pana\u0161i molekul\u0117, sudaryta i\u0161 nukleotid\u0173. Trys nukleotidai sudaro vadinam\u0105 kodon\u0105, kur\u012f nuskai\u010diusios <1>tRNR</1> molekul\u0117s atne\u0161a specifin\u0119 aminor\u016bg\u0161t\u012f.","TRANSLATION-3-NAME":"Ribosoma","TRANSLATION-3-DESC":"Ribosoma \u2013 sudaryta i\u0161 did\u017eiojo ir ma\u017eojo subvieneto. Prie ma\u017eojo subvieneto jungiasi i\u0161 l\u0105stel\u0117s branduolio atkeliavusi <2>iRNR</2>, o prie did\u017eiojo subvieneto, kaip matyti ir animacijoje, pagal informacin\u0117s RNR sek\u0105 jungiasi <1>tRNR</1> molekul\u0117s.","TRANSLATION-4-NAME":"Baltymas","TRANSLATION-4-DESC":"Baltymas \u2013 specifi\u0161kai susilanks\u010diusi aminor\u016bg\u0161\u010di\u0173 grandin\u0117 ar t\u0173 grandini\u0173 kompleksas, atliekantis augimo, strukt\u016brin\u0119, apsaugin\u0119 ir kitas funkcijas, palaikan\u010dias gyv\u0173 organizm\u0173 egzistavim\u0105."}'),BN=JSON.parse('{"CRISPR-NAME":"Gen\u0173 \u017eirkl\u0117s","CRISPR-DESC":"Bakterijos prie\u0161 virusus kovoti prad\u0117jo gerokai anks\u010diau nei \u017emon\u0117s. \u0160ie nesud\u0117ting\u0173 strukt\u016br\u0173 bakterij\u0173 prie\u0161ai prilimpa prie bakterij\u0173 l\u0105stel\u0117s, suleid\u017eia \u012f j\u0105 savo genetin\u0119 informacij\u0105 ir paver\u010dia bakterij\u0105 nauj\u0173 virus\u0173 fabriku. <img>images/bakteriofagas.png</img> Virusui pasidauginus, bakterijos da\u017eniausiai \u017e\u016bsta. Bet kai kurioms bakterijoms visgi pavyksta i\u0161gyventi, nes jos aktyvuoja antivirusin\u0117s apsaugos sistem\u0105, vadinam\u0105 CRISPR-Cas. \u0160i sistema pagrobia viruso DNR sekos dalel\u0119 ir \u012fstato j\u0105 \u012f bakterijos <1>genom\u0105</1>, tokiu b\u016bdu \u201e\u012fsimindamos\u201c virus\u0105 - u\u017epuolik\u0105. \u010cia seka saugoma iki kol jos prireikia. Kai virusas v\u0117l u\u017epuola bakterij\u0105, \u0161i seka greitai nukopijuojama ir panaudojama u\u017etaisyti slaptam ginklui \u2013 baltymui, vadinamu <2>Cas9</2>. U\u017etaisytas baltymas, panaudodamas viruso sekos fragment\u0105 kaip adres\u0105, ima nar\u0161yti po bakterijos vid\u0173, ie\u0161kodamas virusinio u\u017epuoliko p\u0117dsak\u0173. Nar\u0161ydamas jis lygina kiekvien\u0105 sutikt\u0105 DNR sek\u0105 su jau turimu adresu. Kai baltymas suranda visi\u0161kai sutampan\u010di\u0105 sek\u0105, jis j\u0105 perkerpa, sugadindamas viruso genetin\u0119 informacij\u0105 ir virusas nebegali daugintis.<br></br><br></br>Tokiu b\u016bdu bakterija apsisaugo nuo viruso - u\u017epuoliko. I\u0161siai\u0161kin\u0119 \u0161iuos mechanizmus, mokslininkai taip pat suprato, jog \u0161i\u0105 sistem\u0105 galima perprogramuoti, pakeitus adreso sek\u0105, ir tokiu b\u016bdu nukreipti <2>Cas9</2> baltym\u0105 \u012f bet kuri\u0105 DNR viet\u0105 ne tik bakterij\u0173, bet ir augal\u0173 ir gyv\u016bn\u0173 bei \u017emoni\u0173 l\u0105stel\u0117se. Tokiu b\u016bdu, <2>Cas9</2> tapo programuojamu genetiniu \u012frankiu, kurio pagalba galima redaguoti <1>genomus</1>, kuriant naujas augal\u0173 veisles ar gydant paveldimas genetines ligas bei v\u0117\u017e\u012f. Bet kaip ir pirmasis kompiuteris, taip ir CRISPR-Cas9 sistema yra tik pirmasis nuostabios technologijos modelis \u2013 geriausi\u0173 ir tobulesni\u0173 versij\u0173 reik\u0117s palaukti netolimoje ateityje.<br></br><br></br>Prie \u0161ios sistemos k\u016brimo aktyviai prisideda ir Lietuvos mokslininkai, dirbantys VU Gyvyb\u0117s moksl\u0173 centre ir biotechnologij\u0173 startuolyje CasZyme.","CRISPR-DESC-SIMPLIFIED":"Bakterijos prie\u0161 virusus kovoti prad\u0117jo anks\u010diau nei \u017emon\u0117s. Virusai prilimpa prie bakterij\u0173 l\u0105stel\u0117s, suleid\u017eia \u012f j\u0105 savo genetin\u0119 informacij\u0105 ir paver\u010dia bakterij\u0105 nauj\u0173 virus\u0173 fabriku. Virusui pasidauginus, daug bakterij\u0173 mir\u0161ta. Ta\u010diau kai kurios bakterijos i\u0161gyvena. Joms i\u0161gyventi padeda CRISPR-Cas9 sistema, kuri apsaugo nuo virus\u0173.<br></br><br></br>\u0160i sistema paima viruso DNR dalel\u0119 ir \u012fstato j\u0105 \u012f bakterij\u0105. Tai leid\u017eia bakterijai atsiminti virus\u0105. Kai virusas v\u0117l u\u017epuola bakterij\u0105, i\u0161saugota DNR dalel\u0117 nukopijuojama. DNR dalel\u0117 padeda veikti baltymui, kuris vadinasi Cas9. Aktyvus Cas9 baltymas keliauja po bakterijos vid\u0173 ir ie\u0161ko viruso DNR dalel\u0117s. Nar\u0161ydamas jis lygina kiekvien\u0105 nauj\u0105 DNR sek\u0105 su turima viruso DNR dalele. Kai baltymas suranda toki\u0105 pa\u010di\u0105 DNR dalel\u0119, koki\u0105 yra i\u0161saugoj\u0119s, j\u0105 perkerpa. Perkirpus viruso DNR, virusas nebegali daugintis. Tokiu b\u016bdu bakterija apsisaugo nuo viruso.<br></br><br></br>Mokslininkai su\u017einojo apie \u0161\u012f proces\u0105 ir sugalvojo j\u012f panaudoti. Jie i\u0161mok\u0117 baltym\u0105 Cas9 atrasti reikalingas DNR daleles. Dabar Cas9 baltymas gali veikti ne tik bakterijose, o ir \u017emoni\u0173 bei augal\u0173 l\u0105stel\u0117se. \u0160is baltymas gali pad\u0117ti kurti naujas augal\u0173 veisles, gydyti paveldimas ligas bei v\u0117\u017e\u012f.<br></br><br></br>CRISPR-Cas9 sistema vis dar tobulinima. Prie to prisideda Lietuvos mokslininkai.","CRISPR-1-NAME":"Genomas","CRISPR-1-DESC":"Genomas \u2013 pilnas organizmo genetin\u0117s informacijos rinkinys. Kiekvienas genomas savyje talpina vis\u0105 informacij\u0105, kuri reikalinga sukurti specifin\u012f organizm\u0105, leisti jam augti bei vystytis.","CRISPR-2-NAME":"Cas9","CRISPR-2-DESC":"Cas9 \u2013 specifinis baltymas, atliekantis svarb\u0173 vaidmen\u012f bakterijos imuniniame atsake prie\u0161 viruso - u\u017epuol\u0117jo DNR."}'),VN=JSON.parse('{"DNA-NAME":"DNR","DNA-DESC":"Kod\u0117l drugelio sparnai tokie ry\u0161k\u016bs? Tikriausiai esate gird\u0117j\u0119, jog i\u0161vaizdos bruo\u017eus ir b\u016bdo savybes organizmai gali paveld\u0117ti i\u0161 savo t\u0117v\u0173. Gerai pagalvoj\u0119, gal\u0117tume pasakyti, jog gelton\u0105 drugelio sparn\u0173 spalv\u0105 nulemia pigmentai, randami drugelio sparn\u0173 l\u0105stel\u0117se. Ta\u010diau i\u0161 kur \u0161ie pigmentai atsiranda? Pigmentus pagamina \u012fvair\u016bs baltymai - fermentai. I\u0161 kur drugelio l\u0105stel\u0117 turi \u0161i\u0173 baltym\u0173? Juos reikia pagaminti, ta\u010diau svarbiausias klausimas \u2013 i\u0161 kur l\u0105stel\u0117s \u017eino, kokius jai reikia gaminti baltymus ir kokia tur\u0117t\u0173 b\u016bti j\u0173 strukt\u016bra? U\u017e tai atsaking\u0105 molekul\u0119 matote savo ekrane: tai deoksiribonukleor\u016bg\u0161tis, arba sutrumpintai DNR. \u0160i molekul\u0117 kompakti\u0161kai susiraizgiusi i\u0161sid\u0117sto beveik kiekviename m\u016bs\u0173 bei drugelio l\u0105steli\u0173 branduolyje ir savyje koduoja informacij\u0105 apie vis\u0173 organizmo baltym\u0173 strukt\u016br\u0105. <img>6thsense2022/images/lasteles_branduolys.png</img> \u0160ie baltymai, j\u0173 tarpusavio s\u0105veikos bei produktai nulemia, kaip mes elgiam\u0117s, atrodome ir kaip turi veikti organizmas pradedant nuo vienos l\u0105stel\u0117s veiklos. Kitaip tariant, DNR nulemia organizmo formuojamus, turimus bei palaikomus po\u017eymius.<br></br><br></br>DNR molekul\u0117 yra dvigrand\u0117. Kiekvien\u0105 jos grandin\u0119 sudaro ma\u017eesni statybiniai blokeliai - <1>nukleotidai</1>, kurie tarpusavyje skiriasi tik savo turimomis azotin\u0117mis baz\u0117mis, kuri\u0173 i\u0161 viso yra keturios: adeninas, timinas, guaninas ir citozinas. \u012edomu, jog \u0161ios azotin\u0117s baz\u0117s b\u016bdingos visiems organizmams, tod\u0117l skirting\u0173 organizm\u0173 genetinis kodas yra laikomas universaliu. Vadinasi, molekulin\u0117s instrukcijos apie tai, kaip tur\u0117t\u0173 susiformuoti ir veikti gyvyb\u0117 yra pana\u0161ios ir pas drugel\u012f, ir pas \u017emog\u0173.  Jeigu palygintum\u0117te savo genetin\u012f kod\u0105 su bet kurio kito \u017emogaus, pamatytum\u0117te, kad su juo dalinat\u0117s net 99,9 % identi\u0161ka genetine informacija! Kitaip tariant, tik nedidel\u0117 m\u016bs\u0173 DNR dalis (0,1%) paai\u0161kina kiekvieno \u017emogaus unikalum\u0105. \u0160alia \u0161io DNR modelio taip pat galite pamatyti i\u0161 koki\u0173 chemini\u0173 element\u0173, t.y. <2>atom\u0173</2> yra sudaryta DNR molekul\u0117.","DNA-DESC-SIMPLIFIED":"I\u0161vaizdos ir b\u016bdo savybes \u017emon\u0117s gali paveld\u0117ti i\u0161 t\u0117v\u0173. Taip yra tod\u0117l, kad besiformuojant k\u016bdikiui, t\u0117vai jam perduoda dal\u012f savo gen\u0173. Genai yra DNR molekul\u0117s dalys. J\u0105 matote ekrane. DNR molekul\u0117 yra beveik kiekvienoje k\u016bno l\u0105stel\u0117je, tik ji b\u016bna \u017eymiai ilgesn\u0117 ir labai stipriai susisukusi. DNR nurodo kaip l\u0105stel\u0117ms reikia gaminti baltymus - ma\u017eas daleles, kurios atlieka daug gyvyb\u0119 palaikan\u010di\u0173 funkcij\u0173 \u017emogaus organizme. Pagaminti baltymai nulemia kaip mes atrodome, elgiam\u0117s ir u\u017etikrina, kad b\u016btume sveiki.<br></br><br></br>DNR molekul\u0117 yra i\u0161 dviej\u0173 grandini\u0173. Kiekvien\u0105 grandin\u0119 sudaro ma\u017eos kalad\u0117l\u0117s, vadinamos nukleotidais. Visose DNR molekul\u0117se yra tik keturios skirtingos kalad\u0117li\u0173 r\u016b\u0161ys. Tod\u0117l, kad tos kalad\u0117l\u0117s viena ant kitos yra sud\u0117liotos skirtinga eil\u0117s tvarka, mes skiriam\u0117s nuo kit\u0173 \u017emoni\u0173. \u0160alia \u0161io DNR modelio taip pat galite pamatyti i\u0161 koki\u0173 chemini\u0173 element\u0173 t.y. atom\u0173 yra sudaryta DNR molekul\u0117.","DNA-1-NAME":"Azotin\u0117s baz\u0117s","DNA-1-DESC":"DNR molekul\u0119 sudaro ma\u017eos \u201ckalad\u0117l\u0117s\u201d vadinamos nukleotidais, kurie jungdamiesi tarpusavyje gali suformuoti didesn\u0119 molekul\u0119 - nukleor\u016bg\u0161t\u012f. Vis\u0173 organizm\u0173 DNR grandines sudaro tos pa\u010dios modelyje atskirai i\u0161skirtos 4 azotin\u0117s baz\u0117s: adeninas, timinas, citozinas ir guaninas. Skirting\u0173 DNR grandini\u0173 azotin\u0117s baz\u0117s gali susijungti viena su kita. Tai ir nulemia, jog DNR yra dvigrand\u0117 molekul\u0117. Azotin\u0117s baz\u0117s viena su kita jungiasi formuodamos vandenilinius ry\u0161ius. \u0160is susijungimas vyksta pagal specifin\u0119 sistem\u0105: adeninas jungiasi su timinu (susidaro 2 vandeniliniai ry\u0161iai) ir citozinas jungiasi su guaninu (susidaro 3 vandeniliniai ry\u0161iai). \u0160\u012f specifin\u012f susijungim\u0105 mokslininkai vadina komplementarumo principu.","DNA-2-NAME":"Atomai","DNA-2-DESC":"Pa\u010dios ma\u017eiausios DNR molekuli\u0173 strukt\u016brin\u0117s dalys - atomai. Jie jungdamiesi tarpusavyje sudaro sud\u0117tingas strukt\u016bras, kuri\u0173 visuma ir sudaro papildytos realyb\u0117s modelyje matom\u0105 DNR molekul\u0119, kurioje esantys genai nulemia organizmo po\u017eymius. DNR molekul\u0117je i\u0161 viso yra penki\u0173 skirting\u0173 chemini\u0173 element\u0173 atomai: deguonies, azoto, anglies, fosforo ir vandenilio (vandenilio atomai DNR modelyje neatvaizduoti, nes jie yra labai smulk\u016bs). DNR molekul\u0117je daugiausia randama anglies atom\u0173, nes \u0161ie yra visos \u017dem\u0117s planetoje egzistuojan\u010dios gyvyb\u0117s pagrindas."}'),qN=JSON.parse('{"VIRUS-NAME":"Koronavirusas","VIRUS-DESC":"Prie\u0161 akis matote kelis t\u016bkstan\u010dius kart\u0173 padidint\u0105 SARS-CoV-2 virus\u0105, geriau \u017einom\u0105 kaip koronavirus\u0105. Virusas i\u0161 esm\u0117s yra genetin\u0119 informacij\u0105 sauganti <2>RNR</2> molekul\u0117, apgaubta <1>lipidine membrana</1> ir keliais viruso strukt\u016br\u0105 palaikan\u010diais baltymais: <3>N</3>, <4>S</4>, <5>E</5> ir <6>M</6>. Pro \u017emogaus nos\u012f ar burn\u0105 patek\u0119s virusas keliauja \u012f plau\u010dius, panaudodamas <4>S</4> baltym\u0105 prisijungia prie plau\u010di\u0173 l\u0105steli\u0173 ir jas u\u017ekre\u010dia - \u012fleid\u017eia savo <2>RNR</2> molekul\u0119. \u0160ioje molekul\u0117je slypi instrukcija, kaip \u017emogaus l\u0105stelei pagaminti naujas viruso kopijas. Nuskai\u010diusios instrukcij\u0105 \u017emogaus l\u0105stel\u0117s \u012fdarbina savo strukt\u016brines dalis ir pradeda veikti kaip virus\u0173 gaminimo fabrikas. I\u0161 prad\u017ei\u0173 padauginamos viruso <2>RNR</2> molekul\u0117s - pagaminama daug j\u0173 kopij\u0173, kurios nurodo l\u0105stelei kaip gaminti viruso baltymus ir suformuoti naujus virusus. <img>6thsense2022/images/viruso_kelias.png</img> Tokiu b\u016bdu veikdama, viena \u017emogaus k\u016bno l\u0105stel\u0117 gali pagaminti \u0161imtus t\u016bkstan\u010di\u0173 nauj\u0173 virus\u0173, kurie u\u017ekre\u010dia kitas l\u0105steles ar, patekus \u012f i\u0161or\u0119, ir kitus \u017emones.<br></br><br></br>Jeigu \u017emogaus imunin\u0117 sistema nesusitvarko su viruso infekcija, u\u017esikr\u0117t\u0119s \u017emogus pajau\u010dia sveikatos sutrikim\u0173. Jie gali b\u016bti itin pavojingi vyresnio am\u017eiaus asmenims ar asmenims sergantiems l\u0117tin\u0117mis ligomis. Jei j\u016bs ir nepriklausote \u0161ioms grup\u0117ms, labai svarbu paisyti ekspert\u0173 rekomendacij\u0173 ir pristabdyti viruso plitim\u0105, ma\u017einant tikimyb\u0119 u\u017esikr\u0117sti. Spar\u010diai augant populiacijai, pana\u0161i\u0173 pandemij\u0173 galime tur\u0117ti ir ateityje, tad vienintelis dalykas, kur\u012f galime kontroliuoti \u2013 tai m\u016bs\u0173 reakcija \u012f infekcijos gr\u0117sm\u0119 bei elgesys \u0161i\u0173 pandemij\u0173 metu.","VIRUS-DESC-SIMPLIFIED":"Prie\u0161 akis matote kelis t\u016bkstan\u010dius kart\u0173 padidint\u0105 koronavirus\u0105. Virusas yra ma\u017ea dalel\u0117 sudaryta i\u0161 gen\u0173, apsauginio sluoksnio bei baltym\u0173. Pro \u017emogaus nos\u012f ar burn\u0105 patek\u0119s virusas keliauja \u012f plau\u010dius, prisijungia prie plau\u010di\u0173 l\u0105steli\u0173 ir \u012f jas \u012fleid\u017eia savo genetin\u0119 med\u017eiag\u0105. Genetin\u0117je med\u017eiagoje yra instrukcija, kaip \u017emogaus l\u0105stelei pagaminti naujas viruso dalis. Nuskai\u010diusios instrukcij\u0105 \u017emogaus l\u0105stel\u0117s pradeda veikti kaip virus\u0173 gaminimo fabrikas. Tokiu mechanizmu veikdama, viena \u017emogaus k\u016bno l\u0105stel\u0117 gali pagaminti labai daug nauj\u0173 virus\u0173, kurie u\u017ekre\u010dia kitas l\u0105steles arba kitus \u017emones. Jeigu \u017emogaus imunitetas tuo metu yra silpnas, \u017emogus suserga. Liga gali b\u016bti labai pavojinga seneliams ar \u017emon\u0117ms, sergantiems ir kitomis ligomis. Jei j\u016bs ir nepriklausote \u0161ioms grup\u0117ms, labai svarbu atsakingai elgtis ir pristabdyti viruso plitim\u0105, ma\u017einant tikimyb\u0119 u\u017esikr\u0117sti.","VIRUS-1-NAME":"Lipidin\u0117 membrana","VIRUS-1-DESC":"Lipidin\u0117 membrana - i\u0161 riebal\u0173 molekuli\u0173 sudarytas dvisluoksnis barjeras, saugantis viruso genetin\u0119 informacij\u0105 (<2>RNR</2> molekul\u0119) nuo aplinkos poveiki\u0173 ir prilaikantis kitas viruso strukt\u016bras.","VIRUS-2-NAME":"RNR","VIRUS-2-DESC":"RNR - viengrand\u0117 molekul\u0117, kurioje slypi visa viruso genetin\u0117 informacija. Virusas naudoja \u0161i\u0105 informacij\u0105 daugindamasis gyv\u0173 organizm\u0173 l\u0105stel\u0117se, kad gal\u0117t\u0173 pagaminti daugiau viruso kopij\u0173 ir taip plisti.","VIRUS-3-NAME":"N baltymas","VIRUS-3-DESC":"N baltymas padeda <2>RNR</2> molekulei i\u0161laikyti stabili\u0105 strukt\u016br\u0105 ir padeda daugintis.","VIRUS-4-NAME":"S baltymas","VIRUS-4-DESC":"S baltym\u0105 virusas naudoja prisitvirtinimui prie \u017emogaus l\u0105steli\u0173 ir patekti \u012f pa\u010di\u0105 l\u0105stel\u0119, kad gal\u0117t\u0173 prad\u0117ti dauginimosi proces\u0105.","VIRUS-5-NAME":"E baltymas","VIRUS-5-DESC":"E baltymas padeda formuotis naujoms viruso dalims jam dauginantis \u017emogaus l\u0105stel\u0117se.","VIRUS-6-NAME":"M baltymas","VIRUS-6-DESC":"M baltymas padeda formuotis naujoms viruso dalims jam dauginantis \u017emogaus l\u0105stel\u0117se."}'),zN=JSON.parse('{"RNA-NAME":"RNR","RNA-DESC":"Tikriausiai jau \u017einote, jog organizm\u0173 po\u017eymius nulemia DNR molekul\u0117, kuri\u0105 paveldime i\u0161 savo t\u0117v\u0173 ir kuri\u0105 grie\u017etai saugome savo l\u0105steli\u0173 branduoliuose. Ta\u010diau ar gird\u0117jote apie RNR molekules, pana\u0161ias \u012f DNR. RNR molekul\u0117s \u2013 devindarb\u0117s molekul\u0117s. B\u016btent \u0161ios ribonukleor\u016bg\u0161tys nulemia, jog DNR molekul\u0117je saugoma informacija (genai) gali transformuotis \u012f vieningai veikian\u010di\u0105, sud\u0117ting\u0105 sistem\u0105, kuri\u0105 suvokiame kaip gyvyb\u0119. Ta\u010diau gyvyb\u0117s neb\u016bt\u0173, jeigu J\u016bs\u0173 l\u0105stel\u0117se i\u0161 prad\u017ei\u0173 neb\u016bt\u0173 gaminami baltymai.<br></br><br></br>\u0160iuo metu prie\u0161 save matote skirting\u0173 r\u016b\u0161i\u0173 RNR molekules, kurios yra susijusios su baltym\u0173 gamyba l\u0105stel\u0117se (apie kur\u012f daugiau su\u017einoti galite pasirink\u0119 \u201eTransliacijos\u201d model\u012f). \u012esivaizduokite, jog DNR molekul\u0117 ir visi joje esantys genai yra mo\u010diut\u0117s recept\u0173 knyga, kurioje receptus gali laikyti genais. Jeigu pagal konkret\u0173 recept\u0105 galime pagaminti specifin\u012f patiekal\u0105, tai pagal vien\u0105 gen\u0105  galime pasigaminti specifin\u012f baltym\u0105. Grie\u017eta mo\u010diut\u0117 savo recept\u0173 knygos niekam neatiduot\u0173 ir nepaskolint\u0173, taip ir j\u016bs\u0173 l\u0105stel\u0117se DNR yra saugoma l\u0105stel\u0117s branduolyje ir jo nepalieka. Vis d\u0117lto, kaip gauti recept\u0105? Mo\u010diut\u0117 yra gera ir leid\u017eia Jums recept\u0105 nusira\u0161yti, o lapel\u012f su receptu galite nugabenti pas save \u012f namus, kur sumai\u0161\u0119 tinkamus ingredientus, gal\u0117site i\u0161sikepti skani\u0173 sausaini\u0173. L\u0105stel\u0117se viskas vyksta pana\u0161iai: nors DNR yra grie\u017etai saugoma, ta\u010diau \u012fmanoma nukopijuoti joje esan\u010di\u0105 informacij\u0105. Tokiu b\u016bdu yra pagaminamos RNR molekul\u0117s.<br></br><br></br>\u0160\u012f proces\u0105 mokslininkai vadina transkripcija. <img>6thsense2022/images/baltymu_sinteze.png</img> Viena i\u0161 molekuli\u0173, kuri\u0105 pagaminame transkripcijos proceso metu yra centre besisukanti iRNR (informacin\u0117 RNR). Tai viengrand\u0117, i\u0161 <1>nukleotid\u0173</1> sudaryta molekul\u0117, kuri \u0161ioje istorijoje ir yra nura\u0161ytas \u012f lapel\u012f receptas, nes joje yra u\u017ekoduota informacij\u0105 bei instrukcijos, kaip pagaminti konkret\u0173 baltym\u0105. iRNR molekul\u0117 gali palikti branduol\u012f ir patekti \u012f l\u0105stel\u0117s citoplazm\u0105, kurioje baltymas bus gaminamas baltym\u0173 \u201eorkait\u0117je\u201c - ribosomoje. <img>6thsense2022/images/ribosoma_citoplasma.png</img><br></br><br></br>Ta\u010diau kad baltymas b\u016bt\u0173 pagamintas reikalingi \u012fvair\u016bs ingredientai. Kokie? Pirmiausia, tai aminor\u016bg\u0161tys, kurias sujungus galima pagaminti baltym\u0105. Jas (aminor\u016bg\u0161tis) \u012f ribosom\u0105 gali atne\u0161ti kita RNR molekul\u0117: tRNR. Taigi, jau turime konkre\u010di\u0105 instrukcij\u0105 (recept\u0105), kaip pagaminti specifin\u012f baltym\u0105 ir turime ingredientus jam pagaminti \u2013 aminor\u016bg\u0161tis. O kur vyksta paties baltymo gamyba (apie kur\u012f daugiau su\u017einoti galite pasirink\u0119 \u201eTransliacijos\u201d model\u012f)? Molekulin\u0117se ma\u0161inose \u2013 ribosomose, kurios gali veikti d\u0117l dar vienos RNR molekul\u0117s: rRNR, kuri yra pagrindin\u0117 ribosom\u0173 sud\u0117tin\u0117 dalis.","RNA-DESC-SIMPLIFIED":"Organizm\u0173 po\u017eymius nulemia kiekvienoje l\u0105stel\u0117je esanti DNR molekul\u0117, kuri\u0105 paveldime i\u0161 t\u0117v\u0173. L\u0105stel\u0117se taip pat galima rasti \u012f DNR pana\u0161ias molekules, kurios yra vadinamos RNR. Jos l\u0105stel\u0117se atlieka labai svarbius darbus. \u0160iuo metu prie\u0161 save matote skirting\u0173 r\u016b\u0161i\u0173 RNR molekules, kurios yra susijusios su baltym\u0173 gamyba l\u0105stel\u0117se. Baltymai yra ma\u017eos dalel\u0117s, kurios padaro, kad b\u016btume sveiki ir stipr\u016bs.<br></br><br></br>DNR molekul\u0117s, kurias min\u0117jome anks\u010diau, saugo informacij\u0105 kaip pagaminti baltymus, bet tos informacijos labai paprastai neatskleid\u017eia. Tam, kad l\u0105stel\u0117 gaut\u0173 reikaling\u0105 informacij\u0105, \u012f pagalb\u0105 ateina iRNR molekul\u0117, kuri\u0105 matote modelio viduryje. Ji nukopijuoja informacij\u0105, kuri\u0105 turi DNR ir atne\u0161a j\u0105 ribosomai - kitai ma\u017eai molekulei, kuri padeda gaminti baltymus. Ribosoma yra sudaryta i\u0161 de\u0161in\u0117je pus\u0117je matomos rRNR molekul\u0117s. Kair\u0117je pus\u0117je matoma tRNR molekul\u0117 ribosomai atne\u0161a aminor\u016bg\u0161tis - baltymo sudedam\u0105sias dalis. Kartu veikdamos visos trys RNR molekuli\u0173 r\u016b\u0161ys pagamina baltymus.","RNA-1-NAME":"Nukleotidai","RNA-1-DESC":"Nukleotidai - ma\u017eos kalad\u0117l\u0117s, i\u0161 kuri\u0173 susideda RNR ir DNR molekul\u0117s. \u017dinomi 4 skirtingi nukleotidai, kurie skiriasi savo turimomis azotin\u0117mis baz\u0117mis (tai viena svarbiausi\u0173 nukleotid\u0173 sud\u0117tini\u0173 dali\u0173). RNR sudarantiems nukleotidams b\u016bdingos 4 azotin\u0117s baz\u0117s: adeninas, uracilas (specifi\u0161ka azotin\u0117 baz\u0117 RNR sudarantiems nukleotidams), guaninas ir citozinas. Trys tokie nukleotidai sudaro kodon\u0105, kuris nulemia, kokia aminor\u016bg\u0161tis tur\u0117t\u0173 \u012feiti \u012f baltymo molekul\u0117s sud\u0117t\u012f. Pvz. AUG kodonas nulemia, jog gaminant baltym\u0105 reikalinga aminor\u016bg\u0161tis metioninas."}'),GN=JSON.parse('{"VACCINES-NAME":"Vakcin\u0173 sud\u0117tis","VACCINES-DESC":"Mes gyvename mikroorganizm\u0173 pilname pasaulyje ir ne visi jie ger\u0105 linkintys. Yra daug bakterij\u0173 ir virus\u0173, kurie gali mus susargdinti. Ta\u010diau to i\u0161vengti mums padeda vakcinos.<br></br><br></br>Vakcina yra biologinis preparatas, kuris imituodamas ligos suk\u0117l\u0117j\u0105, pavyzd\u017eiui virus\u0105, sukelia organizmo imunin\u012f atsak\u0105 ir, nesukeldamas infekcijos, suteikia imunitet\u0105 nuo infekcin\u0117s ligos. \u0160io modelio kair\u0117je galite matyti COVID-19 vakcin\u0105, sukurt\u0105 informacin\u0117s RNR, arba <1>iRNR</1>, pagrindu. <1>iRNR</1> vakcina sudaryta i\u0161 dirbtin\u0117s informacin\u0117s RNR, kuri koduoja SARS-CoV-2 viruso antigen\u0105, bei i\u0161orinio <2>lipid\u0173 sluoksnio</2>, kuris saugo <1>iRNR</1>. Suleidus toki\u0105 vakcin\u0105, paskiepyto \u017emogaus l\u0105stel\u0117s pa\u010dios pagamina viruso antigen\u0105 \u2013 <3>spyglio baltym\u0105</3>, kuris u\u017ekoduotas <1>iRNR</1> molekul\u0117je. Viruso antigenas yra svetimas organizmui, tod\u0117l sukelia imunin\u012f atsak\u0105.<br></br><br></br>De\u0161in\u0117je - viruso vektoriaus vakcina. Jai pagaminti pasitelkiamas nekenksmingas virusas, kuris pakei\u010diamas gen\u0173 in\u017einerijos metodais. Toks modifikuotas virusas nebegali daugintis ir naudojamas kaip ne\u0161iklis, o \u012f jo DNR yra \u012fterpiamas koronaviruso <3>spyglio baltymo</3> genas. Suleidus toki\u0105 vakcin\u0105, paskiepyto \u017emogaus l\u0105stel\u0117s pa\u010dios pagamina <3>spyglio baltym\u0105</3>, kuris sukelia imunin\u012f atsak\u0105 ir skatina organizm\u0105 gintis nuo koronaviruso.<br></br><br></br>Galime skiepijim\u0105 palyginti su karin\u0117mis pratybomis - m\u016bs\u0173 imunin\u0117 sistema mokosi atpa\u017einti ir \u012fveikti prie\u0161\u0105 (koronavirus\u0105), kad u\u017eklupus prie\u0161o kariuomenei (u\u017esikr\u0117tus koronavirusu), organizmas j\u012f \u012fveikt\u0173 grei\u010diau ir be sud\u0117ting\u0173 komplikacij\u0173.","VACCINES-DESC-SIMPLIFIED":"Mes gyvename mikroorganizm\u0173 pilname pasaulyje ir ne visi jie daro mums teigiam\u0105 \u012ftak\u0105.Yra daug bakterij\u0173 ir virus\u0173, kurie gali mus susargdinti. To i\u0161vengti mums padeda skiepai.<br></br><br></br>Skiepas yra biologin\u0117 med\u017eiaga, kuri atkartoja ligos suk\u0117l\u0117j\u0105, pavyzd\u017eiui virus\u0105. K\u016bnas reaguoja \u012f \u0161i\u0105 med\u017eiag\u0105 ir sukuria apsaug\u0105 nuo ligos.<br></br><br></br>\u0160io modelio kair\u0117je galite matyti skiep\u0105, kuriam naudojamas susilpnintas virusas. Jam pagaminti pakei\u010diami genai. \u012e daugintis negalin\u010dio viruso DNR yra \u012fdedamas koronaviruso spyglio baltymo genas. Taip gaunamas virusas ne\u0161iklis. Patekusi \u012f organizm\u0105 vakcina skatina viruso spyglio baltymo gamyb\u0105. Tokio baltymo kiekio padid\u0117jimas skatina organizm\u0105 gintis. De\u0161in\u0117je - koronaviruso genetin\u0117s med\u017eiagos skiepas. Jis sudarytas i\u0161 dirbtin\u0117s informacin\u0117s RNR. Informacin\u0117 RNR skiepe nurodo, kaip pagaminti koronaviruso S baltym\u0105. S baltymas yra svetimas organizmui, tod\u0117l sukelia imunin\u012f atsak\u0105. Taip pat \u0161i vakcina turi riebal\u0173 sluoksn\u012f, kuris saugo iRNR.<br></br><br></br>Pasiskiepijus m\u016bs\u0173 imunin\u0117 sistema mokosi atpa\u017einti ir \u012fveikti koronavirus\u0105, kad u\u017esikr\u0117tus organizmas j\u012f \u012fveikt\u0173 grei\u010diau ir nesunkiai.","VACCINES-2-NAME":"Lipid\u0173 sluoksnis","VACCINES-2-DESC":"Lipid\u0173 sluoksnis - tai riebalinis dangalas, kuris saugo vakcinoje esan\u010di\u0105 <1>iRNR</1> nuo aplinkos s\u0105lyg\u0173. Be jo, patekusi \u012f k\u016bn\u0105, <1>iRNR</1> kaipmat b\u016bt\u0173 suskaidyta ir tapt\u0173 neveiksni.","VACCINES-3-NAME":"Spyglio baltymas","VACCINES-3-DESC":"Spyglio baltymas - tai viruso pavir\u0161iuje esantis baltymas, kuris padeda virusui patekti \u012f \u0161eimininko l\u0105steles ir jas u\u017ekr\u0117sti."}'),KN=JSON.parse('{"BIOIT-NAME":"Bioinformatika","BIOIT-DESC":"Kaip min\u0117ta <2>DNR</2> modelyje, \u0161ioje molekul\u0117je A, T, C ir G baz\u0117mis koduojama genetin\u0117 informacija. Tuo tarpu kompiuteriai visk\u0105 \u201eatsimena\\" naudodami vienetuk\u0173 ir nuliuk\u0173 sistem\u0105. <img>6thsense2022/images/bioinformatika.png</img> Tikriausiai, sutiktum\u0117te su teiginiu, kad ir kompiuteryje, ir <2>DNR</2> molekul\u0117je yra saugoma tam tikra informacija. Ta\u010diau \u0161iuos du dalykus sieja ne tik tai.<br></br><br></br>Atliekant biologini\u0173 duomen\u0173 sekvenavim\u0105 - i\u0161 gyv\u0173 organizm\u0173 i\u0161gaut\u0173 <2>DNR</2> ar <3>RNR</3> sek\u0173 nuskaitym\u0105, gaunami labai dideli kiekiai biologin\u0117s informacijos, kuri gali b\u016bti suprasta ir apdorota tik naudojant kompiuter\u012f. \u010cia \u012f pagalb\u0105 ateina bioinformatikos specialistai.<br></br><br></br>\u0160ie \u017emon\u0117s pasitelkdami \u012fvairius kompiuterinius metodus sugeba <2>DNR</2> ar <3>RNR</3> sekose \u012f\u017evelgti pana\u0161umus, atkurti baltym\u0173 strukt\u016bras, pritaiko programas gyvoms sistemoms modeliuoti bei biologiniuose duomenyse \u012f\u017evelgia tai, ko be kompiuteri\u0173 pagalbos \u017emogaus akis nepasteb\u0117t\u0173.<br></br><br></br>Bioinformatika spar\u010diai vystosi, kuriami vis tobulesni \u012frankiai biologini\u0173 duomen\u0173 analizei atlikti. \u0160io mokslo pagalba tiriamos bei gydomos onkologin\u0117s ligos, atrandami ir kuriami nauji vaistai, gen\u0173 terapijos metodai.<br></br><br></br>Dabar sunkiai \u012fsivaizduojame savo gyvenim\u0105 be kompiuterio. Be \u0161ios ma\u0161inos neapsieina ir mokslininkai dirbantys \u012fvairiose srityse. Kas \u017eino, kur toliau nuves \u0161i nepaprastai reik\u0161minga kompiuterio ir biologijos draugyst\u0117.","BIOIT-DESC-SIMPLIFIED":"Tiek kompiuteryje, tiek DNR yra saugoma tam tikra informacija. DNR molekul\u0117je genetin\u0117 informacija perteikiama keturiais junginiais. Jie \u017eymimi A, T, C ir G raid\u0117mis. O kompiuteriuose naudojami vienetukai ir nuliukai.\xa0 Nuskai\u010dius DNR ar RNR sekas gaunama labai daug informacijos. Mokslininkai, vadinami bioinformatikais, naudoja kompiuterius, kad tirt\u0173 ir suprast\u0173 \u0161i\u0105 informacij\u0105. \u0160ie mokslininkai biologinin\u0117je informacijoje \u012f\u017evelgia tai, ko be kompiuteri\u0173 pagalbos \u017emogaus akis nepasteb\u0117t\u0173. Jie DNR ar RNR sekose ie\u0161ko pana\u0161um\u0173, kopijuoja baltym\u0173 i\u0161vaizd\u0105. Taip pat mokslininkai pritaiko kompiuterines programas ir atkartoja gyvybinius procesus kompiuteryje. Bioinformatika greitai tobul\u0117ja. Nuolat kuriami nauji \u012frankiai, kad geriau suprastume biologin\u0119 informacij\u0105. \u0160io mokslo pagalba tiriamos bei gydomos onkologin\u0117s ligos, atrandami ir kuriami nauji vaistai. Dabar sunkiai \u012fsivaizduojame savo gyvenim\u0105 be kompiuterio. Be kompiuterio neapsieina ir mokslininkai, dirbantys \u012fvairiose srityse. Kas \u017eino, kur toliau nuves \u0161i reik\u0161minga kompiuterio ir biologijos draugyst\u0117.","BIOIT-1-NAME":"Azotin\u0117s baz\u0117s","BIOIT-1-DESC":"<2>DNR</2> molekul\u0119 sudaro ma\u017eos \u201ekalad\u0117l\u0117s\u201d vadinamos nukleotidais, kurie jungdamiesi tarpusavyje gali suformuoti didesn\u0119 molekul\u0119 - nukleor\u016bg\u0161t\u012f. Vis\u0173 organizm\u0173 <2>DNR</2> grandines sudaro tos pa\u010dios modelyje atskirai i\u0161skirtos 4 azotin\u0117s baz\u0117s: adeninas, timinas, citozinas ir guaninas. Skirting\u0173 <2>DNR</2> grandini\u0173 azotin\u0117s baz\u0117s gali susijungti viena su kita. Tai ir nulemia, jog <2>DNR</2> yra dvigrand\u0117 molekul\u0117. Azotin\u0117s baz\u0117s viena su kita jungiasi formuodamos vandenilinius ry\u0161ius. \u0160is susijungimas vyksta pagal specifin\u0119 sistem\u0105: adeninas jungiasi su timinu (susidaro 2 vandeniliniai ry\u0161iai) ir citozinas jungiasi su guaninu (susidaro 3 vandeniliniai ry\u0161iai). \u0160\u012f specifin\u012f susijungim\u0105 mokslininkai vadina komplementarumo principu.","BIOIT-2-NAME":"DNR","BIOIT-2-DESC":"DNR - dvigrand\u0117 molekul\u0117 sudaryta i\u0161 ma\u017e\u0173 \u201ckalad\u0117li\u0173\u201d vadinam\u0173 <1>nukleotidais</1>. DNR molekul\u0117se saugoma genetin\u0117 informacija.","BIOIT-3-NAME":"RNR","BIOIT-3-DESC":"RNR - viengrand\u0117, \u012f <2>DNR</2> pana\u0161i molekul\u0117, kurioje u\u017ekoduota genetin\u0117 informacija apie pirmin\u0119 baltymo strukt\u016br\u0105. \u0160i\u0105 informacij\u0105 iRNR ne\u0161a i\u0161 l\u0105stel\u0117s branduolio \u012f citoplazm\u0105, kur yra strukt\u016bros, atsakingos u\u017e baltymo sintez\u0119. Daugiau galite su\u017einoti per\u017ei\u016br\u0117j\u0119 \u201eRNR\\" model\u012f."}'),WN=JSON.parse('{"GMO-NAME":"GMO","GMO-DESC":"Gyvyb\u0117 pasaulyje nuolat atsitiktinai mutuoja ir kinta \u2013 nuo <i>Australopitecus aferensis</i> tapimo <i>Homo sapiens</i> iki periodi\u0161kai pasirodan\u010di\u0173 koronaviruso mutacij\u0173. Genetin\u0117s modifikacijos taip pat nurodo genetin\u0117s med\u017eiagos kitim\u0105, ta\u010diau pagrindinis skirtumas yra tas, kad organizmai yra geneti\u0161kai modifikuojami tik tiksliai \u017einant, kas kei\u010diama ir kokiu tikslu, laikantis auk\u0161\u010diausi\u0173 biosaugumo reikalavim\u0173.<br></br><br></br>\u0160is papildytos realyb\u0117s modelis vaizduoja <1>auksinius ry\u017eius</1> ir j\u0173 k\u016brimo proces\u0105. Vis\u0173 pirma, mokslininkai analizuoja, kokia papildoma savyb\u0117 augalui yra reikalinga. \u0160iuo atveju, siekta \u012fprastinius ry\u017eius praturtinti <3>beta karotenu</3>, kur\u012f \u017emogaus organizmas ver\u010dia \u012f vitamin\u0105 A. Nusta\u010dius DNR sek\u0105, koduojan\u010di\u0105 <3>beta karoteno</3> sintez\u0119, atrenkamas augalas (kukur\u016bzai), kurie toki\u0105 sek\u0105 jau turi. Atliekamas kukur\u016bz\u0173 ir ry\u017ei\u0173 genom\u0173 palyginimas, tiksliau identifikuojami j\u0173 skirtumai ir atrenkamas atitinkamas genas, koduojantis <3>beta karoteno</3> sintez\u0119. Atrinkta nauja genetin\u0117 informacija \u012f ry\u017ei\u0173 s\u0117klas gali b\u016bti \u012fterpta keliais b\u016bdais: <4>biolistiniu</4> ir pasitelkiant genetin\u0117s informacijos perne\u0161\u0117j\u0105 (vektori\u0173) <i><5>Agrobacterium tumefaciens</5></i> bakterij\u0105. <img>6thsense2022/images/beta_karotenas.png</img> Paskutiniame etape, naujai sukurto organizmo genomas yra patikrinamas, kad b\u016bt\u0173 \u012fsitikinama, jog bus auginami tik tinkamai modifikuoti augalai.<br></br><br></br>Nors neretai \u012fsivaizduojame, kad <2>geneti\u0161kai modifikuotas maistas</2> yra pavojingas, atrodo nenat\u016braliai ir yra nesaugus vartoti, i\u0161 ties\u0173 genetin\u0117s modifikacijos yra ypa\u010d atsakingai <6>tikrinamos ir testuojamos</6>, tad baimintis tikrai nereik\u0117t\u0173, o technologijos sprend\u017eiam\u0173 problem\u0173 spektr\u0105 riboja tik m\u016bs\u0173 vaizduot\u0117. <3>Beta karotenu</3> praturtinti ry\u017eiai gali u\u017ekirsti keli\u0105 t\u016bkstan\u010di\u0173 vaik\u0173 reg\u0117jimo praradimui, atsparios kenk\u0117jams dar\u017eov\u0117s suma\u017eint\u0173 \u017eem\u0117s \u016bkio poveik\u012f aplinkai, o ter\u0161alus neutralizuojantys augalai, mikroorganizmai gal\u0117t\u0173 i\u0161valyti aplink\u0105 bei u\u017ekirsti keli\u0105 klimato kaitai.","GMO-DESC-SIMPLIFIED":"Gyvyb\u0117 pasaulyje nuolat kinta - vieni organizmai tobul\u0117ja, \u012fgyja nauj\u0173 funkcij\u0173, kiti i\u0161nyksta. \u201eGeneti\u0161kai modifikuotas\u201c nurodo gen\u0173 (informacija apie organizm\u0105) poky\u010dius, ta\u010diau pagrindin\u0117 savyb\u0117 yra ta, kad organizm\u0173 genai yra kei\u010diami tik tiksliai \u017einant, kas kei\u010diama ir kokiu tikslu, laikantis saugumo reikalavim\u0173.<br></br><br></br>\u0160is modelis rodo auksinius ry\u017eius ir j\u0173 k\u016brim\u0105. Vis\u0173 pirma, mokslininkai galvoja, kokia papildoma savyb\u0117 augalui yra reikalinga, - modelyje siekta ry\u017eius papildyti vitaminu A. Pirmiausia rastas vitamino A gamyb\u0105 nulemiantis genas. J\u012f mokslininkai rado kukur\u016bzuose. Nauja genetin\u0117 med\u017eiaga \u012f ry\u017ei\u0173 s\u0117klas gali b\u016bti \u012fterpta keliais b\u016bdais, pavyzd\u017eiui, panaudojant bakterijas, smulkias metalo daleles, labai smulkias adatas. Galiausiai, patikrinama ar gen\u0173 perk\u0117limas pavyko.<br></br><br></br>Geneti\u0161kai pakeistas maistas yra labai atsakingai tikrinamas ir testuojamas, o ry\u017eiai su vitaminu A gali u\u017ekirsti keli\u0105 matymo praradimui.","GMO-1-NAME":"Auksiniai ry\u017eiai","GMO-1-DESC":"Auksiniai ry\u017eiai - geneti\u0161kai modifikuot\u0173 ry\u017ei\u0173 r\u016b\u0161is, kurie yra praturtinti <3>beta karotenu</3>. Nors <3>beta karotenas</3> yra gausiai aptinkamas morkose, sald\u017eiosiose bulv\u0117se, \u0161pinatuose, abrikosuose, kai kuriose \u0161alyse, ypa\u010d besivystan\u010diose, yra paplitusi kitokia mityba, gyventojai negauna pakankamai reikalingo <3>beta karoteno</3>, d\u0117l to kasmet t\u016bkstan\u010diai vaik\u0173 netenka reg\u0117jimo, susiduria su kitomis sveikatos problemomis. <3>Beta karotenu</3> praturtinus ry\u017eius, kurie \u0161iuose kra\u0161tuose yra populiar\u016bs ir lengvai prieinamas maistas, siekiama spr\u0119sti \u0161i\u0105 sveikatos problem\u0105.","GMO-2-NAME":"Geneti\u0161kai modifikuotas maistas","GMO-2-DESC":"Geneti\u0161kai modifikuotas maistas \u2013 tai maistas, kuris yra pagamintas i\u0161 geneti\u0161kai modifikuot\u0173 organizm\u0173. Geneti\u0161kai modifikuoto maisto genetin\u0117 med\u017eiaga yra pakeista ir \u012fgijusi savybi\u0173, kurios negal\u0117t\u0173 atsirasti nat\u016braliu b\u016bdu.","GMO-3-NAME":"Beta karotenas","GMO-3-DESC":"Beta karotenas - yra organinis pigmentas, i\u0161 kurio \u017emogaus organizmas pasigamina vitamin\u0105 A. Pastarasis yra antioksidantas, itin svarbus normaliai odos ir regos funkcijai palaikyti, o tr\u016bkumas pasirei\u0161kia suprast\u0117jusia rega, saus\u0117jan\u010dia aki\u0173 gleivine, odos sausumu, nag\u0173 l\u016b\u017ein\u0117jimu. Svarbu pamin\u0117ti, jog vitamino A perteklius yra toksi\u0161kas organizmui, tad yra b\u016btina palaikyti balans\u0105.","GMO-4-NAME":"Biolistin\u0117 gen\u0173 perna\u0161a","GMO-4-DESC":"Biolistin\u0117 gen\u0173 perna\u0161a - naudojamas gen\u0173 patranka, kuria \u012f l\u0105steles i\u0161\u0161aunamos mikroprojektil\u0117s (metalai), padengtos DNR. Augalai tiesiogiai ap\u0161audomi metalo dalel\u0117mis, padengtomis reikalinga DNR.","GMO-5-NAME":"<i>Agrobacterium tumefaciens</i>","GMO-5-DESC":"<i>Agrobacterium tumefaciens</i> - naudojant bakterij\u0105 augal\u0173 modifikacijoms, \u012f jos genom\u0105 yra \u012fterpiama tikslin\u0117 <3>beta karoteno</3> sintez\u0119 koduojanti gen\u0173 seka, tuomet bakterijai u\u017ekr\u0117tus ry\u017eius yra papildoma ry\u017ei\u0173 nat\u016braliai tur\u0117ta genetin\u0117 informacija.","GMO-6-NAME":"GMO taikomi reikalavimai ir atsakingos institucijos Europoje","GMO-6-DESC":"GMO taikomi reikalavimai ir atsakingos institucijos Europoje - \u201eLietuvoje, kaip ir visoje Europos S\u0105jungoje (ES), <2>geneti\u0161kai modifikuotus maisto</2> produktus reglamentuoja Europos Parlamento ir Tarybos reglamentas (EB) Nr. 1829/2003 d\u0117l <2>geneti\u0161kai modifikuoto maisto</2> ir pa\u0161ar\u0173 (Reglamentas). ES gen\u0173 in\u017einerijos b\u016bdu sukurti maisto produktai yra vieni i\u0161 labiausiai tiriam\u0173 produkt\u0173. Vertindami j\u0173 saug\u0105 ir keliam\u0105 rizik\u0105, specialistai vadovaujasi grie\u017etesniais reikalavimais, nei vertinant tradicin\u012f maist\u0105. Tiriama ir analizuojama produkto sud\u0117tis, jame esan\u010di\u0173 alergen\u0173 ir toksin\u0173 kiekiai, vykdomi steb\u0117jimai, kaip \u017emogaus organizmas pasisavina \u0161\u012f maist\u0105, ir kiti veiksniai. Tyrimai atliekami ir vertinant geneti\u0161kai modifikuot\u0173 produkt\u0173 poveik\u012f gamtai, j\u0105 supan\u010diai aplinkai. Nauj\u0173 geneti\u0161kai modifikuot\u0173 augal\u0173 veisli\u0173 \u012fteisinimo ir patvirtinimo proced\u016bros Europos S\u0105jungoje vykdomos ne vienerius metus, kol mokslininkai ekspertai \u012fvertina rizik\u0105 ir \u012fsitikina, jog produktai saug\u016bs \u017emoni\u0173 sveikatai. Lietuvoje maisto produkt\u0173 m\u0117giniai d\u0117l GMO nustatymo yra tiriami Nacionaliniame maisto ir veterinarijos rizikos vertinimo institute.\u201c<br></br><br></br>Daugiau informacijos: <a>https://vmvt.lt/maisto-sauga/maisto-produktai/genetiskai-modifikuotas-maistas/svarbu-zinoti?language=lt</a>"}'),HN=JSON.parse('{"BIOBRICK-NAME":"BioBrick","BIOBRICK-DESC":"Ar \u017einojote, jog DNR fragmentai yra pana\u0161\u016bs \u012f LEGO kalad\u0117les savo veikimo principu? Tokie DNR gabaliukai vadinami biologin\u0117mis dalimis (angl. BioBricks), kurias galima vis perkonstruoti, pana\u0161iai kaip LEGO kalad\u0117les vaizduojamas ekrane, ir taip organizmui suteikti nauj\u0173 savybi\u0173. Tai yra vienas i\u0161 pagrindini\u0173 sintetin\u0117s biologijos, sutrumpintai SinBio, princip\u0173.<br></br><br></br>Sintetin\u0117 biologija yra tarpdisciplinin\u0117 mokslo sritis, kuri apjungia biologijos, in\u017einerijos, chemijos, informacini\u0173 technologij\u0173 ir matematinio modeliavimo moksl\u0173 kryptis. Tai yra nauj\u0173 organizm\u0173 funkcij\u0173 k\u016brimas, kei\u010diant genetin\u0119 informacij\u0105. \u0160i\u0173 modifikacij\u0173 b\u016bdu gaunamos geresn\u0117s organizm\u0173 funkcijos, padedan\u010dios spr\u0119sti globalias aplinkosaugos, sveikatos bei pramon\u0117s problemas. \u0160io mokslo vystym\u0105si ypa\u010d past\u016bm\u0117jo tarptautinis sintetin\u0117s biologijos konkursas iGEM (angl. International Genetically Engineered Machine), kuriame var\u017eosi student\u0173 ir moksleivi\u0173 komandos, pristatydamos savo sugalvotus mokslinius projektus.<br></br><br></br>iGEM komandos suteikia organizmams naujas funkcijas naudodamos biologines dalis. Biologin\u0117 dalis yra tam tikras DNR fragmentas, kuris koduoja genetin\u0119 informacij\u0105 \u2013 l\u0105stel\u0117s veikimo \u201einstrukcij\u0105\u201c. Visai pana\u0161iai kaip su LEGO kalad\u0117l\u0117mis, d\u0117liodami skirtingas biologines dalis mokslininkai gali vis perkonstruoti DNR sekas taip pakeisdami \u012fvairias l\u0105stel\u0117s atliekamas funkcijas, pavyzd\u017eiui, inicijuoti nauj\u0173 baltym\u0173 gamyb\u0105, kurie b\u016btent ir suteikia l\u0105stelei ne\u012fprast\u0173 savybi\u0173."}'),QN=JSON.parse('{"CIRCUIT-NAME":"Genetin\u0117 grandin\u0117","CIRCUIT-DESC":"Prie\u0161 j\u016bs\u0173 akis - bene da\u017eniausiai mokslinink\u0173 naudojamas \u012frankis - plazmid\u0117, \u017eiedin\u0117s formos DNR seka. Jei \u017emogaus chromosomose DNR sek\u0105 \u012fsivaizduojame kaip begalo ilg\u0105, itin susisukusi\u0105 grandin\u0119, \u0161ioji DNR seka yra visai kitokia. Visos \u0161ios plazmid\u0117s dydis kartais b\u016bna netgi ma\u017eesnis u\u017e \u017emogaus chromosomose randamus genus. Ta\u010diau visas plazmid\u0117s \u017eavesys - tai galimyb\u0117 \u012f j\u0105 \u012fd\u0117ti m\u016bs\u0173 pasirinkt\u0105 gen\u0105. Plazmid\u0117 - tai u\u017edaras \u017eiedas, sudarytas i\u0161 nukleotid\u0173 A, T, G, C, susijungusi\u0173 pagal tam tikras taisykles. D\u0117l sekoje esan\u010di\u0173 konkre\u010di\u0173 viet\u0173, kurias paveikus molekulin\u0117mis \u017eirkl\u0117mis mokslininkai \u012fkerpa abi plazmid\u0117je esan\u010dias DNR grandines, o \u012f likus\u012f tarp\u0105 \u012fklijuoja pasirinkt\u0105 gen\u0105 - tai gali b\u016bti \u012fvairius baltymus, pavyzd\u017eiui alergenus ar \u0161vytin\u010dius baltymus, koduojan\u010dios sekos. V\u0117liau i\u0161 \u0161i\u0173 plazmid\u017ei\u0173 gaunami baltymai naudojami \u012fvairiuose tyrimuose siekiant gydyti ar detektuoti \u012fvairias ligas, sutrikimus ar mechanizmus. Taip pat, kartais tokios plazmid\u0117s gali b\u016bti naudojamos ir \u012fvairiais komerciniais tikslais, pavyzd\u017eiui susintetinti da\u017eus, galin\u010dius nuda\u017eyti tekstil\u0119."}'),YN=JSON.parse('{"ECOLI-NAME":"Modeliniai organizmai","ECOLI-DESC":"Prie\u0161 akis matote bakterij\u0105 pavadinta E.coli. Nors pirm\u0105 kart\u0105 buvo rasta \u017emogaus i\u0161matose, dabar ji prisideda prie did\u017eiausi\u0173 mokslini\u0173 atradim\u0173, toki\u0173 kaip genetini\u0173 \u017eirkli\u0173 \u2013 CRISPR, s\u0117km\u0117s.D\u0117l savo paprastos strukt\u016bros, nesud\u0117ting\u0173 auginimo s\u0105lyg\u0173 bei spartaus dauginimosi, bakterija u\u017esitarnavo viet\u0105 viso pasaulio laboratorijose.O kuo geriau i\u0161tyrin\u0117tas organizmas tuo didesn\u0117 tikimyb\u0117, jog j\u012f panaudos dar kitiems sud\u0117tingiems tyrimams.Tokios gyvyb\u0117s formos yra vadinamos modeliniais organizmais. Tarp j\u0173 \u2013 ir da\u017enai sutinkamos vaisin\u0117s musel\u0117s, miel\u0117s bei pel\u0117siniai grybai."}'),JN=JSON.parse('{"GFP-NAME":"\u017dalias fluorescencinis baltymas (GFP)","GFP-DESC":"\u017daliai fluorescuojantis baltymas arba trumpiau \u2013 GFP, buvo atrastas \u0161vyt\u0117ti geban\u010dioje med\u016bzoje. Osamu Shimomuru primasis apra\u0161\u0117 ir paai\u0161kino \u0161io baltymo veikim\u0105. V\u0117liau Martin Chalfie parod\u0117, kad GFP gali veikti ne tik med\u016bzoje, bet ir kituose organizmuose, pavyzd\u017eiui bakterijose arba kirmel\u0117se. Galiausiai Roger Tsien suk\u016br\u0117 tokius GFP baltymo variantus, kurie \u0161vyt\u0117jo ne \u017ealiai, o kitomis spalvomis \u2013 m\u0117lyna ar geltona. Visi pamin\u0117ti mokslininkai u\u017e \u0161iuos darbus 2008 metais buvo apdovanoti Chemijos mokslo Nobelio premija. GFP baltymo naudojimas moksle i\u0161populiar\u0117jo, nes j\u012f lengva pritaikyti skirtingos kilm\u0117s organizmams, o \u0161vyt\u0117jimui sukelti nereikia joki\u0173 papildom\u0173 priemoni\u0173. \u012evairios pasaulio laboratorijos naudoja GFP l\u0105steli\u0173 dalijimosi, diferenciacijos, baltym\u0173 arba DNR tyrimuose."}'),$N=JSON.parse('{"NANO-NAME":"Bakteriofagai","NANO-DESC":"Bacteriophages (or phages for short) are a species of viruses, which infect bacteria, but do no harm to human cells. Their shape resembles a robot: they have a head in which they store their genetic information, a tail and legs, which they use to adhere to bacteria. Upon adherence to the bacterial surface, the bacteriophage injects its genetic code into the bacteria, forcing them to synthesize new viruses, which eventually exhausts the bacteria leading them to their death. As antibiotic resistance among bacteria increases, phage therapy is aiming to replace traditional antibiotic treatment methods. That\u2019s why scientists are trying to make phage therapy safer and more available to society."}'),XN=JSON.parse('{"SEQUENCING-NAME":"DNR sekoskaita","SEQUENCING-DESC":"Visa biologin\u0117 informacija apie tave slypi genome, sudarytame i\u0161 DNR grandini\u0173. \u0160ios grandin\u0117s sudarytos i\u0161 dali\u0173, vadinam\u0173 nukleotidais. I\u0161\u0161ifravus j\u0173 sekas grandin\u0117je galima perskaityti, pavyzd\u017eiui, kokiomis ligomis esi link\u0119s sirgti. Plika akimi genomo seka n\u0117ra matoma, tod\u0117l norint j\u0105 perskaityti, reikia DNR grandin\u0119 perstumti per ma\u017e\u0105 baltymin\u0119 skylut\u0119 dirbtin\u0117je membranoje, vadinama nanopora. Pro nanopor\u0105 yra leid\u017eiama vienkrypt\u0117 elektrin\u0117 srov\u0117, kuri\u0105 fiksuoja jutiklis. Jei nanoporoje atsiranda pa\u0161alini\u0173 darini\u0173, \u0161ie sutrikdo elektros srov\u0117s tek\u0117jim\u0105 ir, priklausomai nuo objekto savybi\u0173, atitinkamai pakei\u010dia fiksuojamo signalo stiprum\u0105. Kadangi A, T, C ir G nukleotidai yra skirting\u0173 dyd\u017ei\u0173 ir savybi\u0173, eidami per nanopor\u0105 jie sukelia skirtingo stiprumo elektrin\u0117s srov\u0117s poky\u010dus. Taip gaunami unikal\u016bs signalai, kuriuos u\u017efiksavus nesunku atsekti nukleotid\u0173 sek\u0105 grandin\u0117je ir paversti lengviau suprantamomis raid\u0117mis A, T, C bei G, ir i\u0161\u0161ifruoti gaut\u0105 kod\u0105. Tai vadinama DNR sekoskaita."}'),ZN=JSON.parse('{"TRANSFORMATION-NAME":"Kar\u0161\u010dio \u0161oko transformacija","TRANSFORMATION-DESC":"Transformacija yra b\u016bdas perkelti nauj\u0105 genetin\u0119 med\u017eiag\u0105 \u012f l\u0105stel\u0119 per jos membran\u0105 (barjer\u0105, atskiriant\u012f l\u0105stel\u0117s organeles nuo i\u0161or\u0117s). Vienas i\u0161 metod\u0173, naudojam\u0173 tai pasiekti, yra kar\u0161\u010dio \u0161oko transformacija.<br></br><br></br>Pirmiausia bakterijos turi bent 10 minu\u010di\u0173 i\u0161b\u016bti atv\u0117sintos CaCl2 tirpale. Kalcio jonai (pa\u017eym\u0117ti raudona spalva) yra svarb\u016bs \u0161iame procese, nes padeda DNR prilipti prie ma\u017e\u0173 polisacharid\u0173, esan\u010di\u0173 l\u0105steli\u0173 membranose, ir tai padidina tikimyb\u0119, kad bakterijos \u012fsisavins plazmides (kitaip - genetin\u0119 informacij\u0105 \u017eiedo pavidalu). Tada \u012f tirpal\u0105 \u012fdedamos plazmid\u0117s, turin\u010dios tikslin\u0119 DNR, ir laikomos kartu 30 minu\u010di\u0173. Inkubacija trunka gana ilgai, nes \u0161altoje aplinkoje molekul\u0117s juda l\u0117\u010diau. Kitas \u017eingsnis yra panardinti m\u0117gintuv\u0117l\u012f \u012f kar\u0161t\u0105 42 \xb0C temperat\u016bros vandens vonel\u0119 45 sekund\u0117ms. \u0160is staigus temperat\u016bros pokytis sukuria poras bakterij\u0173 membranoje ir suteikia galimyb\u0119 plazmidei patekti \u012f l\u0105stel\u0117s vid\u0173. <br></br><br></br>Po keli\u0173 akimirk\u0173 kar\u0161toje aplinkoje bakterijos i\u0161 karto gr\u0105\u017einamos \u012f \u0161alt\u012f, tuomet skyl\u0117s v\u0117l susitraukia ir plazmid\u0117 \u012fstringa l\u0105stel\u0117s viduje. Paskutinis \u0161io proceso \u017eingsnis yra augimo terp\u0117s (bakterinio maisto) \u012fmai\u0161ymas, kuris padeda bakterijoms regeneruoti. Pasibaigus gijimo procesui, bakterijos s\u0117jamos ant agaro l\u0117k\u0161teli\u0173 su atitinkamu antibiotiku ir tik l\u0105stel\u0117s, kurios pasisavino plazmidin\u0119 DNR, gali prad\u0117ti ekspresuoti (gaminti) naujai \u012fvestus atsparumo antibiotikams genus, augti/dalytis ir formuoti kolonijas.<br></br><br></br>\u0160iuo atveju geriausia naudoti plazmides, nes jos nat\u016braliai gali b\u016bti bakterijose, ir l\u0105stel\u0117s sugeba i\u0161 j\u0173 pagaminti baltymus, o plazmid\u0117s DNR gali b\u016bti lengvai pakeista, kad susidaryt\u0173 norimas genas.","TRANSFORMATION-DESC-SIMPLIFIED":"Transformacija yra b\u016bdas perkelti nauj\u0105 genetin\u0119 med\u017eiag\u0105 \u012f l\u0105stel\u0119 per jos membran\u0105 (barjer\u0105, atskiriant\u012f l\u0105stel\u0117s organeles nuo i\u0161or\u0117s). Vienas i\u0161 metod\u0173, naudojam\u0173 tai pasiekti, yra kar\u0161\u010dio \u0161oko transformacija."}'),eC=JSON.parse('{"GFP-NAME-1":"\u017dalias fluorescuojantis baltymas","GFP-DESC-1":"\u017dalias fluorescencinis baltymas (GFP) yra baltymas, kuris ry\u0161kiai \u017ealiai fluoresuoja, kai j\u012f veikia \u0161viesa nuo m\u0117lynos iki ultravioletin\u0117s spinduliuot\u0117s diapazono, ir kurio pagrindinis su\u017eadinimo pikas yra 395 nm. \u0160is baltymas i\u0161 prad\u017ei\u0173 buvo i\u0161gautas i\u0161 med\u016bz\u0173 veisl\u0117s, vadinamos Aequorea victoria, ta\u010diau v\u0117liau buvo rasta koraluose ir kituose vandens gyv\u016bnuose.<br></br><br></br>\u0160is baltymas yra svarbus \u012frankis daugelyje sintetin\u0117s biologijos laboratorij\u0173, nes j\u012f  prid\u0117jus prie kit\u0173 baltym\u0173, galime vizualizuoti, kur baltymai yra saugomi, ekspresuojami ir naudojami l\u0105stel\u0117s viduje. Kadangi \u0161is baltymas yra ma\u017eas, prisiri\u0161us prie didesni\u0173 baltym\u0173, j\u0173 funkcija n\u0117ra stipriai paveikiama. Kitas svarbus veiksnys yra tai, kad jo \u0161vyt\u0117jimui nereikia papildom\u0173 ferment\u0173, o tai palengvina \u017ealio fluorescuojan\u010dio baltymo naudojim\u0105. ","GFP-DESC-1-SIMPLIFIED":"\u0160io baltymo svarba tokia didel\u0117, kad j\u012f atrad\u0119 mokslininkai: Roger Y. Tsien, Osamu Shimomura, ir Martin Chalfie, 2008 metais buvo apdovanoti Nobelio chemijos premija."}'),tC=JSON.parse('{"TRANSFORMATION-ELECTROPORATION-NAME-1":"Elektroporacijos transformacija","TRANSFORMATION-ELECTROPORATION-DESC-1":"Transformacija yra b\u016bdas perkelti nauj\u0105 genetin\u0119 med\u017eiag\u0105 \u012f l\u0105stel\u0119 per jos membran\u0105 (barjer\u0105, atskiriant\u012f l\u0105stel\u0117s organeles nuo i\u0161or\u0117s). Kitas metodas, naudojamas tai atlikti, yra transformacija elektroporacijos b\u016bdu.<br></br><br></br>Pirmiausia \u012f bakterij\u0173 tirpal\u0105 turi b\u016bti \u012fmai\u0161ytos plazmid\u0117s (kitaip - \u017eiedo formos genetin\u0117 informacija). Po to \u012fjungiamas elektrinis laukas. Siun\u010diant t\u016bkstan\u010dius volt\u0173 per l\u0105steli\u0173 ir plazmid\u017ei\u0173 mi\u0161in\u012f, bakterij\u0173 membranoje susidaro skyl\u0117s ir pro jas gali prasiskverbti plazmid\u0117s, turin\u010dios DNR informacij\u0105 apie norim\u0105 baltym\u0105. D\u0117l \u0161io proceso bakterijos tampa trapios, tod\u0117l su jomis reikia elgtis atsargiai, kol bus prid\u0117ta auginimo terp\u0117 (bakterinis maistas), l\u0105stel\u0117s gal\u0117s atsinaujinti. Pasibaigus gijimo procesui, bakterijos s\u0117jamos ant agaro l\u0117k\u0161teli\u0173 su atitinkamu antibiotiku ir tik l\u0105stel\u0117s, kurios pasisavino plazmidin\u0119 DNR, gali prad\u0117ti ekspresuoti (gaminti) naujai \u012fvestus atsparumo antibiotikams genus, augti/dalytis ir formuoti kolonijas. <br></br><br></br>Palyginti su kar\u0161\u010dio \u0161oko transformacija, \u0161is metodas yra efektyvesnis, tai rei\u0161kia didesn\u0117je l\u0105steli\u0173 dalyje yra norimos plazmid\u0117s, ta\u010diau \u0161\u012f proces\u0105 i\u0161gyvena ma\u017eiau l\u0105steli\u0173 nei naudojant kar\u0161\u010dio \u0161ok\u0105. \u0160i technika taip pat yra brangesn\u0117, nes jai reikalinga speciali \u012franga.","TRANSFORMATION-ELECTROPORATION-DESC-1-SIMPLIFIED":"Transformacija yra b\u016bdas perkelti nauj\u0105 genetin\u0119 med\u017eiag\u0105 \u012f l\u0105stel\u0119 per jos membran\u0105 (barjer\u0105, atskiriant\u012f l\u0105stel\u0117s organeles nuo i\u0161or\u0117s). Kitas metodas, naudojamas tai atlikti, yra transformacija elektroporacijos b\u016bdu."}'),nC=Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb(Xb({},jN),MN),LN),FN),UN),BN),VN),qN),zN),GN),KN),WN),HN),QN),YN),JN),$N),XN),ZN),eC),tC),rC=function(e){var n="withRouter("+(e.displayName||e.name)+")",r=function(n){var r=n.wrappedComponentRef,i=m(n,["wrappedComponentRef"]);return t.createElement(ME.Consumer,null,(function(n){return n||iE(!1),t.createElement(e,p({},i,n,{ref:r}))}))};return r.displayName=n,r.WrappedComponent=e,v()(r,e)}((function(e){return e.history.listen((function(e){iw.set({page:e.pathname}),iw.pageview(e.pathname)})),(0,cT.jsx)("div",{})})),iC=q((function(e){return{locale:e.locale,showCookieConsent:e.showCookieConsent,isGoogleAnalyticsActive:e.isGoogleAnalyticsActive}}))((function(e){var n=e.locale,r=e.showCookieConsent,i=e.isGoogleAnalyticsActive;return(0,cT.jsx)($k,{locale:n,messages:n===e_.LT?nC:PN,defaultLocale:e_.LT,children:(0,cT.jsxs)(JE,{children:[r&&(0,cT.jsx)(VE,{path:"/",component:YS}),(0,cT.jsxs)(HE,{children:[(0,cT.jsx)(VE,{path:"/",component:AI,exact:!0}),(0,cT.jsx)(VE,{path:"/faq",component:uN,exact:!0}),(0,cT.jsx)(VE,{path:"/whatsigem",component:cN,exact:!0}),(0,cT.jsx)(VE,{path:"/whats6thsense",component:lN,exact:!0}),(0,cT.jsx)(VE,{path:"/privacypolicy",component:hN,exact:!0}),(0,cT.jsx)(VE,{path:"/forschools",component:fN,exact:!0}),(0,cT.jsx)(VE,{path:"/models/:modelid",render:function(e){return(0,t.createElement)(WS,Xb(Xb({},e),{},{key:Date.now()}))},exact:!0}),(0,cT.jsx)(VE,{path:"/ar.html",render:function(e){return(0,t.createElement)(WS,Xb(Xb({},e),{},{key:Date.now()}))},exact:!0})]}),i&&(0,cT.jsx)(rC,{})]})})}));G.default.initializeApp({apiKey:"AIzaSyDKa0Aj0EwT479UsIp8Y1Eq6jpSDdsNLQQ",authDomain:"igem-arqr-2021.firebaseapp.com",projectId:"igem-arqr-2021",storageBucket:"igem-arqr-2021.firebaseapp.com",appId:"1:35785195987:web:bb87005d49851fcc6e6f26"}),i.render((0,cT.jsx)(t.StrictMode,{children:(0,cT.jsx)(d,{store:hw,children:(0,cT.jsx)(iC,{})})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.d4e2f591.js.map